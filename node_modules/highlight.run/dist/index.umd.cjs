(function(W,U){typeof exports=="object"&&typeof module!="undefined"?U(exports):typeof define=="function"&&define.amd?define(["exports"],U):(W=typeof globalThis!="undefined"?globalThis:W||self,U(W.H={}))})(this,function(W){"use strict";var SL=Object.defineProperty,vL=Object.defineProperties;var RL=Object.getOwnPropertyDescriptors;var Zs=Object.getOwnPropertySymbols;var qf=Object.prototype.hasOwnProperty,em=Object.prototype.propertyIsEnumerable;var Hl=(W,U)=>(U=Symbol[W])?U:Symbol.for("Symbol."+W),TL=W=>{throw TypeError(W)};var Jl=(W,U,oe)=>U in W?SL(W,U,{enumerable:!0,configurable:!0,writable:!0,value:oe}):W[U]=oe,I=(W,U)=>{for(var oe in U||(U={}))qf.call(U,oe)&&Jl(W,oe,U[oe]);if(Zs)for(var oe of Zs(U))em.call(U,oe)&&Jl(W,oe,U[oe]);return W},se=(W,U)=>vL(W,RL(U));var Ve=(W,U)=>{var oe={};for(var me in W)qf.call(W,me)&&U.indexOf(me)<0&&(oe[me]=W[me]);if(W!=null&&Zs)for(var me of Zs(W))U.indexOf(me)<0&&em.call(W,me)&&(oe[me]=W[me]);return oe};var _=(W,U,oe)=>Jl(W,typeof U!="symbol"?U+"":U,oe);var $=(W,U,oe)=>new Promise((me,Ye)=>{var Oe=Xe=>{try{Lt(oe.next(Xe))}catch(Jt){Ye(Jt)}},ot=Xe=>{try{Lt(oe.throw(Xe))}catch(Jt){Ye(Jt)}},Lt=Xe=>Xe.done?me(Xe.value):Promise.resolve(Xe.value).then(Oe,ot);Lt((oe=oe.apply(W,U)).next())}),IL=function(W,U){this[0]=W,this[1]=U};var Bl=W=>{var U=W[Hl("asyncIterator")],oe=!1,me,Ye={};return U==null?(U=W[Hl("iterator")](),me=Oe=>Ye[Oe]=ot=>U[Oe](ot)):(U=U.call(W),me=Oe=>Ye[Oe]=ot=>{if(oe){if(oe=!1,Oe==="throw")throw ot;return ot}return oe=!0,{done:!1,value:new IL(new Promise(Lt=>{var Xe=U[Oe](ot);Xe instanceof Object||TL("Object expected"),Lt(Xe)}),1)}}),Ye[Hl("iterator")]=()=>Ye,me("next"),"throw"in U?me("throw"):Ye.throw=Oe=>{throw Oe},"return"in U&&me("return"),Ye};function U(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}const oe=({apiKey:r})=>{(function(e,t){var n=e.amplitude||{_q:[],_iq:{}},i=t.createElement("script");i.type="text/javascript",i.integrity="sha384-+EO59vL/X7v6VE2s6/F4HxfHlK0nDUVWKVg8K9oUlvffAeeaShVBmbORTC2D3UF+",i.crossOrigin="anonymous",i.async=!0,i.src="https://cdn.amplitude.com/libs/amplitude-8.17.0-min.gz.js",i.onload=function(){e.amplitude.runQueuedFunctions||console.log("[Amplitude] Error: could not load SDK"),amplitude.getInstance().init(r)};var s=t.getElementsByTagName("script")[0];s.parentNode.insertBefore(i,s);function o(f,y){f.prototype[y]=function(){return this._q.push([y].concat(Array.prototype.slice.call(arguments,0))),this}}for(var l=function(){return this._q=[],this},a=["add","append","clearAll","prepend","set","setOnce","unset","preInsert","postInsert","remove"],c=0;c<a.length;c++)o(l,a[c]);n.Identify=l;for(var u=function(){return this._q=[],this},d=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],h=0;h<d.length;h++)o(u,d[h]);n.Revenue=u;var p=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","enableTracking","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"];function m(f){function y(S){f[S]=function(){f._q.push([S].concat(Array.prototype.slice.call(arguments,0)))}}for(var b=0;b<p.length;b++)y(p[b])}m(n),n.getInstance=function(f){return f=(!f||f.length===0?"$default_instance":f).toLowerCase(),Object.prototype.hasOwnProperty.call(n._iq,f)||(n._iq[f]={_q:[]},m(n._iq[f])),n._iq[f]},e.amplitude=n})(window,document)},me=({projectToken:r})=>{if(window.mixpanel)return;(function(t,n){if(!n.__SV){var i,s;window.mixpanel=n,n._i=[],n.init=function(o,l,a){function c(h,p){var m=p.split(".");m.length==2&&(h=h[m[0]],p=m[1]),h[p]=function(){h.push([p].concat(Array.prototype.slice.call(arguments,0)))}}var u=n;for(typeof a!="undefined"?u=n[a]=[]:a="mixpanel",u.people=u.people||[],u.toString=function(h){var p="mixpanel";return a!=="mixpanel"&&(p+="."+a),h||(p+=" (stub)"),p},u.people.toString=function(){return u.toString(1)+".people (stub)"},i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),s=0;s<i.length;s++)c(u,i[s]);var d="set set_once union unset remove delete".split(" ");u.get_group=function(){function h(y){p[y]=function(){call2_args=arguments,call2=[y].concat(Array.prototype.slice.call(call2_args,0)),u.push([m,call2])}}for(var p={},m=["get_group"].concat(Array.prototype.slice.call(arguments,0)),f=0;f<d.length;f++)h(d[f]);return p},n._i.push([o,l,a])},n.__SV=1.2}})(document,window.mixpanel||[]);const e=document.createElement("script");e.src=Ye,document.head.appendChild(e),e.addEventListener("load",()=>{var t;(t=window.mixpanel)==null||t.init(r)})},Ye="https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",Oe=1e3,ot=1e3*2,Lt=4*60*60*1e3,Xe=15*60*1e3,Jt={normal:{bytes:1e7,time:4*60*1e3},canvas:{bytes:16e6,time:5e3}},am=100,_s="app.highlight.io";var Cs=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ls(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Kl={exports:{}},Gs={exports:{}},Dl;function lm(){return Dl||(Dl=1,function(r,e){(function(t,n){r.exports=n()})(Cs,function(){function t(f){return!isNaN(parseFloat(f))&&isFinite(f)}function n(f){return f.charAt(0).toUpperCase()+f.substring(1)}function i(f){return function(){return this[f]}}var s=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],l=["fileName","functionName","source"],a=["args"],c=["evalOrigin"],u=s.concat(o,l,a,c);function d(f){if(f)for(var y=0;y<u.length;y++)f[u[y]]!==void 0&&this["set"+n(u[y])](f[u[y]])}d.prototype={getArgs:function(){return this.args},setArgs:function(f){if(Object.prototype.toString.call(f)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=f},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(f){if(f instanceof d)this.evalOrigin=f;else if(f instanceof Object)this.evalOrigin=new d(f);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var f=this.getFileName()||"",y=this.getLineNumber()||"",b=this.getColumnNumber()||"",S=this.getFunctionName()||"";return this.getIsEval()?f?"[eval] ("+f+":"+y+":"+b+")":"[eval]:"+y+":"+b:S?S+" ("+f+":"+y+":"+b+")":f+":"+y+":"+b}},d.fromString=function(y){var b=y.indexOf("("),S=y.lastIndexOf(")"),v=y.substring(0,b),T=y.substring(b+1,S).split(","),C=y.substring(S+1);if(C.indexOf("@")===0)var N=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(C,""),w=N[1],L=N[2],x=N[3];return new d({functionName:v,args:T||void 0,fileName:w,lineNumber:L||void 0,columnNumber:x||void 0})};for(var h=0;h<s.length;h++)d.prototype["get"+n(s[h])]=i(s[h]),d.prototype["set"+n(s[h])]=function(f){return function(y){this[f]=!!y}}(s[h]);for(var p=0;p<o.length;p++)d.prototype["get"+n(o[p])]=i(o[p]),d.prototype["set"+n(o[p])]=function(f){return function(y){if(!t(y))throw new TypeError(f+" must be a Number");this[f]=Number(y)}}(o[p]);for(var m=0;m<l.length;m++)d.prototype["get"+n(l[m])]=i(l[m]),d.prototype["set"+n(l[m])]=function(f){return function(y){this[f]=String(y)}}(l[m]);return d})}(Gs)),Gs.exports}(function(r,e){(function(t,n){r.exports=n(lm())})(Cs,function(n){var i=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,o=/^(eval@)?(\[native code])?$/;return{parse:function(a){if(typeof a.stacktrace!="undefined"||typeof a["opera#sourceloc"]!="undefined")return this.parseOpera(a);if(a.stack&&a.stack.match(s))return this.parseV8OrIE(a);if(a.stack)return this.parseFFOrSafari(a);throw new Error("Cannot parse given Error object")},extractLocation:function(a){if(a.indexOf(":")===-1)return[a];var c=/(.+?)(?::(\d+))?(?::(\d+))?$/,u=c.exec(a.replace(/[()]/g,""));return[u[1],u[2]||void 0,u[3]||void 0]},parseV8OrIE:function(a){var c=a.stack.split(`
`).filter(function(u){return!!u.match(s)},this);return c.map(function(u){u.indexOf("(eval ")>-1&&(u=u.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var d=u.replace(/^\s+/,"").replace(/\(eval code/g,"("),h=d.match(/ (\((.+):(\d+):(\d+)\)$)/);d=h?d.replace(h[0],""):d;var p=d.split(/\s+/).slice(1),m=this.extractLocation(h?h[1]:p.pop()),f=p.join(" ")||void 0,y=["eval","<anonymous>"].indexOf(m[0])>-1?void 0:m[0];return new n({functionName:f,fileName:y,lineNumber:m[1],columnNumber:m[2],source:u})},this)},parseFFOrSafari:function(a){var c=a.stack.split(`
`).filter(function(u){return!u.match(o)},this);return c.map(function(u){if(u.indexOf(" > eval")>-1&&(u=u.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),u.indexOf("@")===-1&&u.indexOf(":")===-1)return new n({functionName:u});var d=/((.*".+"[^@]*)?[^@]*)(?:@)/,h=u.match(d),p=h&&h[1]?h[1]:void 0,m=this.extractLocation(u.replace(d,""));return new n({functionName:p,fileName:m[0],lineNumber:m[1],columnNumber:m[2],source:u})},this)},parseOpera:function(a){return!a.stacktrace||a.message.indexOf(`
`)>-1&&a.message.split(`
`).length>a.stacktrace.split(`
`).length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(a){for(var c=/Line (\d+).*script (?:in )?(\S+)/i,u=a.message.split(`
`),d=[],h=2,p=u.length;h<p;h+=2){var m=c.exec(u[h]);m&&d.push(new n({fileName:m[2],lineNumber:m[1],source:u[h]}))}return d},parseOpera10:function(a){for(var c=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,u=a.stacktrace.split(`
`),d=[],h=0,p=u.length;h<p;h+=2){var m=c.exec(u[h]);m&&d.push(new n({functionName:m[3]||void 0,fileName:m[2],lineNumber:m[1],source:u[h]}))}return d},parseOpera11:function(a){var c=a.stack.split(`
`).filter(function(u){return!!u.match(i)&&!u.match(/^Error created at/)},this);return c.map(function(u){var d=u.split("@"),h=this.extractLocation(d.pop()),p=d.shift()||"",m=p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,f;p.match(/\(([^)]*)\)/)&&(f=p.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var y=f===void 0||f==="[arguments not available]"?void 0:f.split(",");return new n({functionName:m,args:y,fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:u})},this)}}})})(Kl);var cm=Kl.exports;const Cr=Ls(cm);function um(r,e,t){try{if(!(e in r))return()=>{};const n=r[e],i=t(n);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),r[e]=i,()=>{r[e]=n}}catch(n){return()=>{}}}function dm(r){if(!r||!r.outerHTML)return"";let e="";for(;r.parentElement;){let t=r.localName;if(!t)break;t=t.toLowerCase();let n=r.parentElement,i=[];if(n.children&&n.children.length>0)for(let s=0;s<n.children.length;s++){let o=n.children[s];o.localName&&o.localName.toLowerCase&&o.localName.toLowerCase()===t&&i.push(o)}i.length>1&&(t+=":eq("+i.indexOf(r)+")"),e=t+(e?">"+e:""),r=n}return e}function Ns(r){return Object.prototype.toString.call(r)==="[object Object]"}function zl(r,e){if(e===0)return!0;const t=Object.keys(r);for(const n of t)if(Ns(r[n])&&zl(r[n],e-1))return!0;return!1}function Vs(r,e){const t={numOfKeysLimit:50,depthOfLimit:4};Object.assign(t,e);const n=[],i=[];return JSON.stringify(r,function(l,a){if(n.length>0){const c=n.indexOf(this);~c?n.splice(c+1):n.push(this),~c?i.splice(c,1/0,l):i.push(l),~n.indexOf(a)&&(n[0]===a?a="[Circular ~]":a="[Circular ~."+i.slice(0,n.indexOf(a)).join(".")+"]")}else n.push(a);if(a==null)return a;if(s(a))return o(a);if(a instanceof Event){const c={};for(const u in a){const d=a[u];Array.isArray(d)?c[u]=dm(d.length?d[0]:null):c[u]=d}return c}else{if(a instanceof Node)return a instanceof HTMLElement?a?a.outerHTML:"":a.nodeName;if(a instanceof Error)return a.name+": "+a.message}return a});function s(l){return Ns(l)&&Object.keys(l).length>t.numOfKeysLimit||typeof l=="function"?!0:l instanceof Event&&l.isTrusted===!1?Object.keys(l).length===1:!!(Ns(l)&&zl(l,t.depthOfLimit))}function o(l){let a=l.toString();return t.stringLengthLimit&&a.length>t.stringLengthLimit&&(a=`${a.slice(0,t.stringLengthLimit)}...`),a}}function hm(){var r=document.createElement("canvas");return r.getContext&&r.getContext("2d")?r.toDataURL("image/webp").indexOf("data:image/webp")==0:!1}function pm(){return hm()?{type:"image/webp",quality:.9}:{type:"image/jpeg",quality:.6}}function fm(r,e){const t=e.logger;let n;n=window[t];const i=[];if(e.level.includes("error")&&window){const o=l=>{const{message:a,error:c}=l;let u=[];c&&(u=Cr.parse(c));const d=[Vs(a,e.stringifyOptions)];r({type:"Error",trace:u,time:Date.now(),value:d})};window.addEventListener("error",o),i.push(()=>{window&&window.removeEventListener("error",o)})}for(const o of e.level)i.push(s(n,o));return()=>{i.forEach(o=>o())};function s(o,l){return o[l]?um(o,l,a=>(...c)=>{a.apply(this,c);try{const u=Cr.parse(new Error),d=e.serializeConsoleAttributes?c.map(h=>typeof h=="object"?Vs(h,e.stringifyOptions):h):c.filter(h=>typeof h!="object").map(h=>`${h}`);r({type:l,trace:u.slice(1),value:d,attributes:Vs(c.filter(h=>typeof h=="object").reduce((h,p)=>I(I({},h),p),{}),e.stringifyOptions),time:Date.now()})}catch(u){a("highlight logger error:",u,...c)}}):()=>{}}}var Os={exports:{}};(function(r,e){e=r.exports=t,e.getSerialize=n;function t(i,s,o,l){return JSON.stringify(i,n(s,l),o)}function n(i,s){var o=[],l=[];return s==null&&(s=function(a,c){return o[0]===c?"[Circular ~]":"[Circular ~."+l.slice(0,o.indexOf(c)).join(".")+"]"}),function(a,c){if(o.length>0){var u=o.indexOf(this);~u?o.splice(u+1):o.push(this),~u?l.splice(u,1/0,a):l.push(a),~o.indexOf(c)&&(c=s.call(this,a,c))}else o.push(c);return i==null?c:i.call(this,a,c)}}})(Os,Os.exports);var mm=Os.exports;const Gt=Ls(mm);function Xs(r,e,t,n){var l,a,c,u;let i=[];try{i=Cr.parse(n!=null?n:e)}catch(d){i=Cr.parse(new Error)}let s={};e instanceof Error&&(e=e.message,e.cause&&(s={"exception.cause":e.cause}));const o=bm(i);r({event:Gt(e),type:"window.onerror",url:window.location.href,source:t!=null?t:"",lineNumber:(l=o[0])!=null&&l.lineNumber?(a=o[0])==null?void 0:a.lineNumber:0,columnNumber:(c=o[0])!=null&&c.columnNumber?(u=o[0])==null?void 0:u.columnNumber:0,stackTrace:o,timestamp:new Date().toISOString(),payload:s?Gt(s):void 0})}const ym=(r,{enablePromisePatch:e})=>{if(typeof window=="undefined")return()=>{};const t=window.onerror=(o,l,a,c,u)=>{Xs(r,o,l,u)},n=window.onunhandledrejection=o=>{if(o.reason){const l=o.promise;l.getStack?Xs(r,o.reason,o.type,l.getStack()):Xs(r,o.reason,o.type)}},i=window.Promise,s=class extends i{constructor(a){super(a);_(this,"promiseCreationError");this.promiseCreationError=new Error}getStack(){return this.promiseCreationError}static shouldPatch(){const a=typeof window.Zone=="undefined";return e&&a}};return s.shouldPatch()&&(window.Promise=s),()=>{window.Promise=i,window.onunhandledrejection=n,window.onerror=t}},bm=r=>{var t,n;if(r.length===0)return r;const e=r[0];return(t=e.fileName)!=null&&t.includes("highlight.run")||(n=e.fileName)!=null&&n.includes("highlight.io")||e.functionName==="new highlightPromise"?r.slice(1):r},jl=['["\\"Script error.\\""]','"Script error."','["\\"Load failed.\\""]','"Load failed."','["\\"Network request failed.\\""]','"Network request failed."','["\\"Document is not focused.\\""]','"Document is not focused."','["\\"Failed to fetch\\""]','"Failed to fetch"','[{"isTrusted":true}]','{"isTrusted":true}','["{}"]','"{}"','[""]','""','["\\"\\""]','""'],Ql=["websocket error",'\\"ResizeObserver loop'];var gm=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Nt="1.9.0",$l=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Sm(r){var e=new Set([r]),t=new Set,n=r.match($l);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(a){return a===r};function s(l){return t.add(l),!1}function o(l){return e.add(l),!0}return function(a){if(e.has(a))return!0;if(t.has(a))return!1;var c=a.match($l);if(!c)return s(a);var u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return u.prerelease!=null||i.major!==u.major?s(a):i.major===0?i.minor===u.minor&&i.patch<=u.patch?o(a):s(a):i.minor<=u.minor?o(a):s(a)}}var vm=Sm(Nt),Rm=Nt.split(".")[0],Lr=Symbol.for("opentelemetry.js.api."+Rm),Gr=gm;function Nr(r,e,t,n){var i;n===void 0&&(n=!1);var s=Gr[Lr]=(i=Gr[Lr])!==null&&i!==void 0?i:{version:Nt};if(!n&&s[r]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+r);return t.error(o.stack||o.message),!1}if(s.version!==Nt){var o=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+r+" does not match previously registered API v"+Nt);return t.error(o.stack||o.message),!1}return s[r]=e,t.debug("@opentelemetry/api: Registered a global for "+r+" v"+Nt+"."),!0}function Vt(r){var e,t,n=(e=Gr[Lr])===null||e===void 0?void 0:e.version;if(!(!n||!vm(n)))return(t=Gr[Lr])===null||t===void 0?void 0:t[r]}function Vr(r,e){e.debug("@opentelemetry/api: Unregistering a global for "+r+" v"+Nt+".");var t=Gr[Lr];t&&delete t[r]}var Tm=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},Im=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},Em=function(){function r(e){this._namespace=e.namespace||"DiagComponentLogger"}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Or("debug",this._namespace,e)},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Or("error",this._namespace,e)},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Or("info",this._namespace,e)},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Or("warn",this._namespace,e)},r.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Or("verbose",this._namespace,e)},r}();function Or(r,e,t){var n=Vt("diag");if(n)return t.unshift(e),n[r].apply(n,Im([],Tm(t),!1))}var te;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(te||(te={}));function wm(r,e){r<te.NONE?r=te.NONE:r>te.ALL&&(r=te.ALL),e=e||{};function t(n,i){var s=e[n];return typeof s=="function"&&r>=i?s.bind(e):function(){}}return{error:t("error",te.ERROR),warn:t("warn",te.WARN),info:t("info",te.INFO),debug:t("debug",te.DEBUG),verbose:t("verbose",te.VERBOSE)}}var Zm=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},_m=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},Cm="diag",je=function(){function r(){function e(i){return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var l=Vt("diag");if(l)return l[i].apply(l,_m([],Zm(s),!1))}}var t=this,n=function(i,s){var o,l,a;if(s===void 0&&(s={logLevel:te.INFO}),i===t){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((o=c.stack)!==null&&o!==void 0?o:c.message),!1}typeof s=="number"&&(s={logLevel:s});var u=Vt("diag"),d=wm((l=s.logLevel)!==null&&l!==void 0?l:te.INFO,i);if(u&&!s.suppressOverrideMessage){var h=(a=new Error().stack)!==null&&a!==void 0?a:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+h),d.warn("Current logger will overwrite one already registered from "+h)}return Nr("diag",d,t,!0)};t.setLogger=n,t.disable=function(){Vr(Cm,t)},t.createComponentLogger=function(i){return new Em(i)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return r.instance=function(){return this._instance||(this._instance=new r),this._instance},r}(),Lm=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},Gm=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nm=function(){function r(e){this._entries=e?new Map(e):new Map}return r.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=Lm(e,2),n=t[0],i=t[1];return[n,i]})},r.prototype.setEntry=function(e,t){var n=new r(this._entries);return n._entries.set(e,t),n},r.prototype.removeEntry=function(e){var t=new r(this._entries);return t._entries.delete(e),t},r.prototype.removeEntries=function(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=new r(this._entries);try{for(var o=Gm(n),l=o.next();!l.done;l=o.next()){var a=l.value;s._entries.delete(a)}}catch(c){e={error:c}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return s},r.prototype.clear=function(){return new r},r}(),Vm=Symbol("BaggageEntryMetadata"),Om=je.instance();function Xm(r){return r===void 0&&(r={}),new Nm(new Map(Object.entries(r)))}function Ws(r){return typeof r!="string"&&(Om.error("Cannot create baggage metadata from unknown type: "+typeof r),r=""),{__TYPE__:Vm,toString:function(){return r}}}function Gn(r){return Symbol.for(r)}var Wm=function(){function r(e){var t=this;t._currentContext=e?new Map(e):new Map,t.getValue=function(n){return t._currentContext.get(n)},t.setValue=function(n,i){var s=new r(t._currentContext);return s._currentContext.set(n,i),s},t.deleteValue=function(n){var i=new r(t._currentContext);return i._currentContext.delete(n),i}}return r}(),Ot=new Wm,Xt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xm=function(){function r(){}return r.prototype.createGauge=function(e,t){return Bm},r.prototype.createHistogram=function(e,t){return Km},r.prototype.createCounter=function(e,t){return Jm},r.prototype.createUpDownCounter=function(e,t){return Dm},r.prototype.createObservableGauge=function(e,t){return jm},r.prototype.createObservableCounter=function(e,t){return zm},r.prototype.createObservableUpDownCounter=function(e,t){return Qm},r.prototype.addBatchObservableCallback=function(e,t){},r.prototype.removeBatchObservableCallback=function(e){},r}(),Nn=function(){function r(){}return r}(),km=function(r){Xt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,n){},e}(Nn),Pm=function(r){Xt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,n){},e}(Nn),Am=function(r){Xt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,n){},e}(Nn),Um=function(r){Xt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,n){},e}(Nn),xs=function(){function r(){}return r.prototype.addCallback=function(e){},r.prototype.removeCallback=function(e){},r}(),Mm=function(r){Xt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(xs),Ym=function(r){Xt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(xs),Fm=function(r){Xt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(xs),Hm=new xm,Jm=new km,Bm=new Am,Km=new Um,Dm=new Pm,zm=new Mm,jm=new Ym,Qm=new Fm,$m={get:function(r,e){if(r!=null)return r[e]},keys:function(r){return r==null?[]:Object.keys(r)}},qm={set:function(r,e,t){r!=null&&(r[e]=t)}},ey=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},ty=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},ry=function(){function r(){}return r.prototype.active=function(){return Ot},r.prototype.with=function(e,t,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return t.call.apply(t,ty([n],ey(i),!1))},r.prototype.bind=function(e,t){return t},r.prototype.enable=function(){return this},r.prototype.disable=function(){return this},r}(),ny=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},iy=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},ks="context",sy=new ry,Vn=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalContextManager=function(e){return Nr(ks,e,je.instance())},r.prototype.active=function(){return this._getContextManager().active()},r.prototype.with=function(e,t,n){for(var i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,iy([e,t,n],ny(s),!1))},r.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},r.prototype._getContextManager=function(){return Vt(ks)||sy},r.prototype.disable=function(){this._getContextManager().disable(),Vr(ks,je.instance())},r}(),Qe;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(Qe||(Qe={}));var ql="0000000000000000",ec="00000000000000000000000000000000",tc={traceId:ec,spanId:ql,traceFlags:Qe.NONE},Xr=function(){function r(e){e===void 0&&(e=tc),this._spanContext=e}return r.prototype.spanContext=function(){return this._spanContext},r.prototype.setAttribute=function(e,t){return this},r.prototype.setAttributes=function(e){return this},r.prototype.addEvent=function(e,t){return this},r.prototype.addLink=function(e){return this},r.prototype.addLinks=function(e){return this},r.prototype.setStatus=function(e){return this},r.prototype.updateName=function(e){return this},r.prototype.end=function(e){},r.prototype.isRecording=function(){return!1},r.prototype.recordException=function(e,t){},r}(),Ps=Gn("OpenTelemetry Context Key SPAN");function As(r){return r.getValue(Ps)||void 0}function oy(){return As(Vn.getInstance().active())}function Us(r,e){return r.setValue(Ps,e)}function ay(r){return r.deleteValue(Ps)}function ly(r,e){return Us(r,new Xr(e))}function rc(r){var e;return(e=As(r))===null||e===void 0?void 0:e.spanContext()}var cy=/^([0-9a-f]{32})$/i,uy=/^[0-9a-f]{16}$/i;function nc(r){return cy.test(r)&&r!==ec}function dy(r){return uy.test(r)&&r!==ql}function Wr(r){return nc(r.traceId)&&dy(r.spanId)}function hy(r){return new Xr(r)}var Ms=Vn.getInstance(),ic=function(){function r(){}return r.prototype.startSpan=function(e,t,n){n===void 0&&(n=Ms.active());var i=!!(t!=null&&t.root);if(i)return new Xr;var s=n&&rc(n);return py(s)&&Wr(s)?new Xr(s):new Xr},r.prototype.startActiveSpan=function(e,t,n,i){var s,o,l;if(!(arguments.length<2)){arguments.length===2?l=t:arguments.length===3?(s=t,l=n):(s=t,o=n,l=i);var a=o!=null?o:Ms.active(),c=this.startSpan(e,s,a),u=Us(a,c);return Ms.with(u,l,void 0,c)}},r}();function py(r){return typeof r=="object"&&typeof r.spanId=="string"&&typeof r.traceId=="string"&&typeof r.traceFlags=="number"}var fy=new ic,my=function(){function r(e,t,n,i){this._provider=e,this.name=t,this.version=n,this.options=i}return r.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},r.prototype.startActiveSpan=function(e,t,n,i){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},r.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):fy},r}(),yy=function(){function r(){}return r.prototype.getTracer=function(e,t,n){return new ic},r}(),by=new yy,sc=function(){function r(){}return r.prototype.getTracer=function(e,t,n){var i;return(i=this.getDelegateTracer(e,t,n))!==null&&i!==void 0?i:new my(this,e,t,n)},r.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:by},r.prototype.setDelegate=function(e){this._delegate=e},r.prototype.getDelegateTracer=function(e,t,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(e,t,n)},r}(),On;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(On||(On={}));var xr;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(xr||(xr={}));var Ys;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(Ys||(Ys={}));var Q=Vn.getInstance(),M=je.instance(),gy=function(){function r(){}return r.prototype.getMeter=function(e,t,n){return Hm},r}(),Sy=new gy,Fs="metrics",vy=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalMeterProvider=function(e){return Nr(Fs,e,je.instance())},r.prototype.getMeterProvider=function(){return Vt(Fs)||Sy},r.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},r.prototype.disable=function(){Vr(Fs,je.instance())},r}(),oc=vy.getInstance(),Ry=function(){function r(){}return r.prototype.inject=function(e,t){},r.prototype.extract=function(e,t){return e},r.prototype.fields=function(){return[]},r}(),Hs=Gn("OpenTelemetry Baggage Key");function ac(r){return r.getValue(Hs)||void 0}function Ty(){return ac(Vn.getInstance().active())}function Iy(r,e){return r.setValue(Hs,e)}function Ey(r){return r.deleteValue(Hs)}var Js="propagation",wy=new Ry,Zy=function(){function r(){this.createBaggage=Xm,this.getBaggage=ac,this.getActiveBaggage=Ty,this.setBaggage=Iy,this.deleteBaggage=Ey}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalPropagator=function(e){return Nr(Js,e,je.instance())},r.prototype.inject=function(e,t,n){return n===void 0&&(n=qm),this._getGlobalPropagator().inject(e,t,n)},r.prototype.extract=function(e,t,n){return n===void 0&&(n=$m),this._getGlobalPropagator().extract(e,t,n)},r.prototype.fields=function(){return this._getGlobalPropagator().fields()},r.prototype.disable=function(){Vr(Js,je.instance())},r.prototype._getGlobalPropagator=function(){return Vt(Js)||wy},r}(),Ee=Zy.getInstance(),Bs="trace",_y=function(){function r(){this._proxyTracerProvider=new sc,this.wrapSpanContext=hy,this.isSpanContextValid=Wr,this.deleteSpan=ay,this.getSpan=As,this.getActiveSpan=oy,this.getSpanContext=rc,this.setSpan=Us,this.setSpanContext=ly}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalTracerProvider=function(e){var t=Nr(Bs,this._proxyTracerProvider,je.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},r.prototype.getTracerProvider=function(){return Vt(Bs)||this._proxyTracerProvider},r.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},r.prototype.disable=function(){Vr(Bs,je.instance()),this._proxyTracerProvider=new sc},r}(),re=_y.getInstance(),Cy=Gn("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function lc(r){return r.getValue(Cy)===!0}var Ly="=",Ks=";",Ds=",",zs="baggage",Gy=180,Ny=4096,Vy=8192,Oy=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s};function Xy(r){return r.reduce(function(e,t){var n=""+e+(e!==""?Ds:"")+t;return n.length>Vy?e:n},"")}function Wy(r){return r.getAllEntries().map(function(e){var t=Oy(e,2),n=t[0],i=t[1],s=encodeURIComponent(n)+"="+encodeURIComponent(i.value);return i.metadata!==void 0&&(s+=Ks+i.metadata.toString()),s})}function xy(r){var e=r.split(Ks);if(!(e.length<=0)){var t=e.shift();if(t){var n=t.indexOf(Ly);if(!(n<=0)){var i=decodeURIComponent(t.substring(0,n).trim()),s=decodeURIComponent(t.substring(n+1).trim()),o;return e.length>0&&(o=Ws(e.join(Ks))),{key:i,value:s,metadata:o}}}}}var ky=function(){function r(){}return r.prototype.inject=function(e,t,n){var i=Ee.getBaggage(e);if(!(!i||lc(e))){var s=Wy(i).filter(function(l){return l.length<=Ny}).slice(0,Gy),o=Xy(s);o.length>0&&n.set(t,zs,o)}},r.prototype.extract=function(e,t,n){var i=n.get(t,zs),s=Array.isArray(i)?i.join(Ds):i;if(!s)return e;var o={};if(s.length===0)return e;var l=s.split(Ds);return l.forEach(function(a){var c=xy(a);if(c){var u={value:c.value};c.metadata&&(u.metadata=c.metadata),o[c.key]=u}}),Object.entries(o).length===0?e:Ee.setBaggage(e,Ee.createBaggage(o))},r.prototype.fields=function(){return[zs]},r}(),Wt=performance,Py="1.27.0",Ay="exception.type",Uy="exception.message",My="exception.stacktrace",Yy="http.method",Fy="http.url",Hy="http.host",Jy="http.scheme",By="http.status_code",Ky="http.user_agent",Dy="http.response_content_length",zy="http.response_content_length_uncompressed",js=Ay,Qs=Uy,jy=My,cc=Yy,kr=Fy,uc=Hy,dc=Jy,hc=By,$s=Ky,Qy=Dy,$y=zy,qy="deployment.environment",eb="process.runtime.name",tb="service.name",rb="telemetry.sdk.name",nb="telemetry.sdk.language",ib="telemetry.sdk.version",sb=qy,pc=eb,fc=tb,Bt=rb,Kt=nb,Dt=ib,ob="webjs",mc=ob,ab="service.name",lb="url.full",cb="url.path",ub="url.query",zt,qs=(zt={},zt[Bt]="opentelemetry",zt[pc]="browser",zt[Kt]=mc,zt[Dt]=Py,zt),db=9,hb=6,pb=Math.pow(10,hb),yc=Math.pow(10,db);function bc(r){var e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*pb);return[t,n]}function fb(){var r=Wt.timeOrigin;if(typeof r!="number"){var e=Wt;r=e.timing&&e.timing.fetchStart}return r}function mb(r){var e=bc(fb()),t=bc(Wt.now());return yb(e,t)}function yb(r,e){var t=[r[0]+e[0],r[1]+e[1]];return t[1]>=yc&&(t[1]-=yc,t[0]+=1),t}var bb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gb=function(){function r(e){e===void 0&&(e={});var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(function(n){return typeof n.fields=="function"?n.fields():[]}).reduce(function(n,i){return n.concat(i)},[])))}return r.prototype.inject=function(e,t,n){var i,s;try{for(var o=bb(this._propagators),l=o.next();!l.done;l=o.next()){var a=l.value;try{a.inject(e,t,n)}catch(c){M.warn("Failed to inject with "+a.constructor.name+". Err: "+c.message)}}}catch(c){i={error:c}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}},r.prototype.extract=function(e,t,n){return this._propagators.reduce(function(i,s){try{return s.extract(i,t,n)}catch(o){M.warn("Failed to extract with "+s.constructor.name+". Err: "+o.message)}return i},e)},r.prototype.fields=function(){return this._fields.slice()},r}(),eo="[_0-9a-z-*/]",Sb="[a-z]"+eo+"{0,255}",vb="[a-z0-9]"+eo+"{0,240}@[a-z]"+eo+"{0,13}",Rb=new RegExp("^(?:"+Sb+"|"+vb+")$"),Tb=/^[ -~]{0,255}[!-~]$/,Ib=/,|=/;function Eb(r){return Rb.test(r)}function wb(r){return Tb.test(r)&&!Ib.test(r)}var gc=32,Zb=512,Sc=",",vc="=",_b=function(){function r(e){this._internalState=new Map,e&&this._parse(e)}return r.prototype.set=function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n},r.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},r.prototype.get=function(e){return this._internalState.get(e)},r.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,n){return t.push(n+vc+e.get(n)),t},[]).join(Sc)},r.prototype._parse=function(e){e.length>Zb||(this._internalState=e.split(Sc).reverse().reduce(function(t,n){var i=n.trim(),s=i.indexOf(vc);if(s!==-1){var o=i.slice(0,s),l=i.slice(s+1,n.length);Eb(o)&&wb(l)&&t.set(o,l)}return t},new Map),this._internalState.size>gc&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,gc))))},r.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},r.prototype._clone=function(){var e=new r;return e._internalState=new Map(this._internalState),e},r}(),Xn="traceparent",to="tracestate",Cb="00",Lb="(?!ff)[\\da-f]{2}",Gb="(?![0]{32})[\\da-f]{32}",Nb="(?![0]{16})[\\da-f]{16}",Vb="[\\da-f]{2}",Ob=new RegExp("^\\s?("+Lb+")-("+Gb+")-("+Nb+")-("+Vb+")(-.*)?\\s?$");function Xb(r){var e=Ob.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var Wb=function(){function r(){}return r.prototype.inject=function(e,t,n){var i=re.getSpanContext(e);if(!(!i||lc(e)||!Wr(i))){var s=Cb+"-"+i.traceId+"-"+i.spanId+"-0"+Number(i.traceFlags||Qe.NONE).toString(16);n.set(t,Xn,s),i.traceState&&n.set(t,to,i.traceState.serialize())}},r.prototype.extract=function(e,t,n){var i=n.get(t,Xn);if(!i)return e;var s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;var o=Xb(s);if(!o)return e;o.isRemote=!0;var l=n.get(t,to);if(l){var a=Array.isArray(l)?l.join(","):l;o.traceState=new _b(typeof a=="string"?a:void 0)}return re.setSpanContext(e,o)},r.prototype.fields=function(){return[Xn,to]},r}(),xb=function(){function r(){}return r.prototype.emit=function(e){},r}(),kb=function(){function r(){}return r.prototype.getLogger=function(e,t,n){return new xb},r}(),Rc=new kb,Pb=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Wn=Symbol.for("io.opentelemetry.js.api.logs"),Pr=Pb;function Ab(r,e,t){return function(n){return n===r?e:t}}var Tc=1,Ub=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalLoggerProvider=function(e){return Pr[Wn]?this.getLoggerProvider():(Pr[Wn]=Ab(Tc,e,Rc),e)},r.prototype.getLoggerProvider=function(){var e,t;return(t=(e=Pr[Wn])===null||e===void 0?void 0:e.call(Pr,Tc))!==null&&t!==void 0?t:Rc},r.prototype.getLogger=function(e,t,n){return this.getLoggerProvider().getLogger(e,t,n)},r.prototype.disable=function(){delete Pr[Wn]},r}(),Ic=Ub.getInstance();function Mb(r,e,t,n){for(var i=0,s=r.length;i<s;i++){var o=r[i];e&&o.setTracerProvider(e),t&&o.setMeterProvider(t),n&&o.setLoggerProvider&&o.setLoggerProvider(n),o.getConfig().enabled||o.enable()}}function Yb(r){r.forEach(function(e){return e.disable()})}function Fb(r){var e,t,n=r.tracerProvider||re.getTracerProvider(),i=r.meterProvider||oc.getMeterProvider(),s=r.loggerProvider||Ic.getLoggerProvider(),o=(t=(e=r.instrumentations)===null||e===void 0?void 0:e.flat())!==null&&t!==void 0?t:[];return Mb(o,n,i,s),function(){Yb(o)}}function ro(r){return typeof r=="function"}var we=console.error.bind(console);function Ar(r,e,t){var n=!!r[e]&&r.propertyIsEnumerable(e);Object.defineProperty(r,e,{configurable:!0,enumerable:n,writable:!0,value:t})}function Ur(r){r&&r.logger&&(ro(r.logger)?we=r.logger:we("new logger isn't a function, not replacing"))}function Ec(r,e,t){if(!r||!r[e]){we("no original function "+e+" to wrap");return}if(!t){we("no wrapper function"),we(new Error().stack);return}if(!ro(r[e])||!ro(t)){we("original object and wrapper must be functions");return}var n=r[e],i=t(n,e);return Ar(i,"__original",n),Ar(i,"__unwrap",function(){r[e]===i&&Ar(r,e,n)}),Ar(i,"__wrapped",!0),Ar(r,e,i),i}function Hb(r,e,t){if(r)Array.isArray(r)||(r=[r]);else{we("must provide one or more modules to patch"),we(new Error().stack);return}if(!(e&&Array.isArray(e))){we("must provide one or more functions to wrap on modules");return}r.forEach(function(n){e.forEach(function(i){Ec(n,i,t)})})}function wc(r,e){if(!r||!r[e]){we("no function to unwrap."),we(new Error().stack);return}if(!r[e].__unwrap)we("no original to unwrap to -- has "+e+" already been unwrapped?");else return r[e].__unwrap()}function Jb(r,e){if(r)Array.isArray(r)||(r=[r]);else{we("must provide one or more modules to patch"),we(new Error().stack);return}if(!(e&&Array.isArray(e))){we("must provide one or more functions to unwrap on modules");return}r.forEach(function(t){e.forEach(function(n){wc(t,n)})})}Ur.wrap=Ec,Ur.massWrap=Hb,Ur.unwrap=wc,Ur.massUnwrap=Jb;var xn=Ur,no=function(){return no=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},no.apply(this,arguments)},Bb=function(){function r(e,t,n){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=xn.wrap,this._unwrap=xn.unwrap,this._massWrap=xn.massWrap,this._massUnwrap=xn.massUnwrap,this.setConfig(n),this._diag=M.createComponentLogger({namespace:e}),this._tracer=re.getTracer(e,t),this._meter=oc.getMeter(e,t),this._logger=Ic.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(r.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),r.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(r.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),r.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},r.prototype.getModuleDefinitions=function(){var e,t=(e=this.init())!==null&&e!==void 0?e:[];return Array.isArray(t)?t:[t]},r.prototype._updateMetricInstruments=function(){},r.prototype.getConfig=function(){return this._config},r.prototype.setConfig=function(e){this._config=no({enabled:!0},e)},r.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(r.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),r.prototype._runSpanCustomizationHook=function(e,t,n,i){if(e)try{e(n,i)}catch(s){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},s)}},r}(),Kb=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kn=function(r){Kb(e,r);function e(t,n,i){var s=r.call(this,t,n,i)||this;return s._config.enabled&&s.enable(),s}return e}(Bb);function Pn(r,e,t){var n,i;try{i=r()}catch(s){n=s}finally{if(e(n,i),n&&!t)throw n;return i}}function ge(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var Zc=Gn("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Db(r){return r.setValue(Zc,!0)}function io(r){return r.getValue(Zc)===!0}var zb="=",so=";",oo=",",ao="baggage",jb=180,Qb=4096,$b=8192,qb=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s};function eg(r){return r.reduce(function(e,t){var n=""+e+(e!==""?oo:"")+t;return n.length>$b?e:n},"")}function tg(r){return r.getAllEntries().map(function(e){var t=qb(e,2),n=t[0],i=t[1],s=encodeURIComponent(n)+"="+encodeURIComponent(i.value);return i.metadata!==void 0&&(s+=so+i.metadata.toString()),s})}function rg(r){var e=r.split(so);if(!(e.length<=0)){var t=e.shift();if(t){var n=t.indexOf(zb);if(!(n<=0)){var i=decodeURIComponent(t.substring(0,n).trim()),s=decodeURIComponent(t.substring(n+1).trim()),o;return e.length>0&&(o=Ws(e.join(so))),{key:i,value:s,metadata:o}}}}}var ng=function(){function r(){}return r.prototype.inject=function(e,t,n){var i=Ee.getBaggage(e);if(!(!i||io(e))){var s=tg(i).filter(function(l){return l.length<=Qb}).slice(0,jb),o=eg(s);o.length>0&&n.set(t,ao,o)}},r.prototype.extract=function(e,t,n){var i=n.get(t,ao),s=Array.isArray(i)?i.join(oo):i;if(!s)return e;var o={};if(s.length===0)return e;var l=s.split(oo);return l.forEach(function(a){var c=rg(a);if(c){var u={value:c.value};c.metadata&&(u.metadata=c.metadata),o[c.key]=u}}),Object.entries(o).length===0?e:Ee.setBaggage(e,Ee.createBaggage(o))},r.prototype.fields=function(){return[ao]},r}(),_c=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ig=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s};function An(r){var e,t,n={};if(typeof r!="object"||r==null)return n;try{for(var i=_c(Object.entries(r)),s=i.next();!s.done;s=i.next()){var o=ig(s.value,2),l=o[0],a=o[1];if(!sg(l)){M.warn("Invalid attribute key: "+l);continue}if(!Cc(a)){M.warn("Invalid attribute value set for key: "+l);continue}Array.isArray(a)?n[l]=a.slice():n[l]=a}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n}function sg(r){return typeof r=="string"&&r.length>0}function Cc(r){return r==null?!0:Array.isArray(r)?og(r):Lc(r)}function og(r){var e,t,n;try{for(var i=_c(r),s=i.next();!s.done;s=i.next()){var o=s.value;if(o!=null){if(!n){if(Lc(o)){n=typeof o;continue}return!1}if(typeof o!==n)return!1}}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return!0}function Lc(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}function ag(){return function(r){M.error(lg(r))}}function lg(r){return typeof r=="string"?r:JSON.stringify(cg(r))}function cg(r){for(var e={},t=r;t!==null;)Object.getOwnPropertyNames(t).forEach(function(n){if(!e[n]){var i=t[n];i&&(e[n]=String(i))}}),t=Object.getPrototypeOf(t);return e}var ug=ag();function Un(r){try{ug(r)}catch(e){}}var $e;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})($e||($e={}));var dg=",",hg=["OTEL_SDK_DISABLED"];function pg(r){return hg.indexOf(r)>-1}var fg=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function mg(r){return fg.indexOf(r)>-1}var yg=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function bg(r){return yg.indexOf(r)>-1}var Mn=1/0,Yn=128,gg=128,Sg=128,Gc={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:te.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Mn,OTEL_ATTRIBUTE_COUNT_LIMIT:Yn,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Mn,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Yn,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Mn,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Yn,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:gg,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Sg,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:$e.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function vg(r,e,t){if(typeof t[r]!="undefined"){var n=String(t[r]);e[r]=n.toLowerCase()==="true"}}function Rg(r,e,t,n,i){if(n===void 0&&(n=-1/0),i===void 0&&(i=1/0),typeof t[r]!="undefined"){var s=Number(t[r]);isNaN(s)||(s<n?e[r]=n:s>i?e[r]=i:e[r]=s)}}function Tg(r,e,t,n){n===void 0&&(n=dg);var i=t[r];typeof i=="string"&&(e[r]=i.split(n).map(function(s){return s.trim()}))}var Ig={ALL:te.ALL,VERBOSE:te.VERBOSE,DEBUG:te.DEBUG,INFO:te.INFO,WARN:te.WARN,ERROR:te.ERROR,NONE:te.NONE};function Eg(r,e,t){var n=t[r];if(typeof n=="string"){var i=Ig[n.toUpperCase()];i!=null&&(e[r]=i)}}function Nc(r){var e={};for(var t in Gc){var n=t;switch(n){case"OTEL_LOG_LEVEL":Eg(n,e,r);break;default:if(pg(n))vg(n,e,r);else if(mg(n))Rg(n,e,r);else if(bg(n))Tg(n,e,r);else{var i=r[n];typeof i!="undefined"&&i!==null&&(e[n]=String(i))}}}return e}var Vc=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};function jt(){var r=Nc(Vc);return Object.assign({},Gc,r)}function wg(){return Nc(Vc)}var Qt=performance,Zg="1.26.0",$t,lo=($t={},$t[Bt]="opentelemetry",$t[pc]="browser",$t[Kt]=mc,$t[Dt]=Zg,$t),_g=9,Cg=6,Lg=Math.pow(10,Cg),Fn=Math.pow(10,_g);function ft(r){var e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*Lg);return[t,n]}function co(){var r=Qt.timeOrigin;if(typeof r!="number"){var e=Qt;r=e.timing&&e.timing.fetchStart}return r}function Oc(r){var e=ft(co()),t=ft(typeof r=="number"?r:Qt.now());return Wc(e,t)}function Mr(r){if(uo(r))return r;if(typeof r=="number")return r<co()?Oc(r):ft(r);if(r instanceof Date)return ft(r.getTime());throw TypeError("Invalid input type")}function Gg(r,e){var t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=Fn),[t,n]}function mt(r){return r[0]*Fn+r[1]}function uo(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function Xc(r){return uo(r)||typeof r=="number"||r instanceof Date}function Wc(r,e){var t=[r[0]+e[0],r[1]+e[1]];return t[1]>=Fn&&(t[1]-=Fn,t[0]+=1),t}var ho;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(ho||(ho={}));var Ng=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vg=function(){function r(e){e===void 0&&(e={});var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(function(n){return typeof n.fields=="function"?n.fields():[]}).reduce(function(n,i){return n.concat(i)},[])))}return r.prototype.inject=function(e,t,n){var i,s;try{for(var o=Ng(this._propagators),l=o.next();!l.done;l=o.next()){var a=l.value;try{a.inject(e,t,n)}catch(c){M.warn("Failed to inject with "+a.constructor.name+". Err: "+c.message)}}}catch(c){i={error:c}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}},r.prototype.extract=function(e,t,n){return this._propagators.reduce(function(i,s){try{return s.extract(i,t,n)}catch(o){M.warn("Failed to inject with "+s.constructor.name+". Err: "+o.message)}return i},e)},r.prototype.fields=function(){return this._fields.slice()},r}(),po="[_0-9a-z-*/]",Og="[a-z]"+po+"{0,255}",Xg="[a-z0-9]"+po+"{0,240}@[a-z]"+po+"{0,13}",Wg=new RegExp("^(?:"+Og+"|"+Xg+")$"),xg=/^[ -~]{0,255}[!-~]$/,kg=/,|=/;function Pg(r){return Wg.test(r)}function Ag(r){return xg.test(r)&&!kg.test(r)}var xc=32,Ug=512,kc=",",Pc="=",Mg=function(){function r(e){this._internalState=new Map,e&&this._parse(e)}return r.prototype.set=function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n},r.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},r.prototype.get=function(e){return this._internalState.get(e)},r.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,n){return t.push(n+Pc+e.get(n)),t},[]).join(kc)},r.prototype._parse=function(e){e.length>Ug||(this._internalState=e.split(kc).reverse().reduce(function(t,n){var i=n.trim(),s=i.indexOf(Pc);if(s!==-1){var o=i.slice(0,s),l=i.slice(s+1,n.length);Pg(o)&&Ag(l)&&t.set(o,l)}return t},new Map),this._internalState.size>xc&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,xc))))},r.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},r.prototype._clone=function(){var e=new r;return e._internalState=new Map(this._internalState),e},r}(),fo="traceparent",mo="tracestate",Yg="00",Fg="(?!ff)[\\da-f]{2}",Hg="(?![0]{32})[\\da-f]{32}",Jg="(?![0]{16})[\\da-f]{16}",Bg="[\\da-f]{2}",Kg=new RegExp("^\\s?("+Fg+")-("+Hg+")-("+Jg+")-("+Bg+")(-.*)?\\s?$");function Dg(r){var e=Kg.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var zg=function(){function r(){}return r.prototype.inject=function(e,t,n){var i=re.getSpanContext(e);if(!(!i||io(e)||!Wr(i))){var s=Yg+"-"+i.traceId+"-"+i.spanId+"-0"+Number(i.traceFlags||Qe.NONE).toString(16);n.set(t,fo,s),i.traceState&&n.set(t,mo,i.traceState.serialize())}},r.prototype.extract=function(e,t,n){var i=n.get(t,fo);if(!i)return e;var s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;var o=Dg(s);if(!o)return e;o.isRemote=!0;var l=n.get(t,mo);if(l){var a=Array.isArray(l)?l.join(","):l;o.traceState=new Mg(typeof a=="string"?a:void 0)}return re.setSpanContext(e,o)},r.prototype.fields=function(){return[fo,mo]},r}(),jg="[object Object]",Qg="[object Null]",$g="[object Undefined]",qg=Function.prototype,Ac=qg.toString,e0=Ac.call(Object),t0=r0(Object.getPrototypeOf,Object),Uc=Object.prototype,Mc=Uc.hasOwnProperty,xt=Symbol?Symbol.toStringTag:void 0,Yc=Uc.toString;function r0(r,e){return function(t){return r(e(t))}}function Fc(r){if(!n0(r)||i0(r)!==jg)return!1;var e=t0(r);if(e===null)return!0;var t=Mc.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Ac.call(t)===e0}function n0(r){return r!=null&&typeof r=="object"}function i0(r){return r==null?r===void 0?$g:Qg:xt&&xt in Object(r)?s0(r):o0(r)}function s0(r){var e=Mc.call(r,xt),t=r[xt],n=!1;try{r[xt]=void 0,n=!0}catch(s){}var i=Yc.call(r);return n&&(e?r[xt]=t:delete r[xt]),i}function o0(r){return Yc.call(r)}var a0=20;function l0(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=r.shift(),n=new WeakMap;r.length>0;)t=Hc(t,r.shift(),0,n);return t}function yo(r){return Hn(r)?r.slice():r}function Hc(r,e,t,n){t===void 0&&(t=0);var i;if(!(t>a0)){if(t++,Jn(r)||Jn(e)||Bc(e))i=yo(e);else if(Hn(r)){if(i=r.slice(),Hn(e))for(var s=0,o=e.length;s<o;s++)i.push(yo(e[s]));else if(Yr(e))for(var l=Object.keys(e),s=0,o=l.length;s<o;s++){var a=l[s];i[a]=yo(e[a])}}else if(Yr(r))if(Yr(e)){if(!c0(r,e))return e;i=Object.assign({},r);for(var l=Object.keys(e),s=0,o=l.length;s<o;s++){var a=l[s],c=e[a];if(Jn(c))typeof c=="undefined"?delete i[a]:i[a]=c;else{var u=i[a],d=c;if(Jc(r,a,n)||Jc(e,a,n))delete i[a];else{if(Yr(u)&&Yr(d)){var h=n.get(u)||[],p=n.get(d)||[];h.push({obj:r,key:a}),p.push({obj:e,key:a}),n.set(u,h),n.set(d,p)}i[a]=Hc(i[a],c,t,n)}}}}else i=e;return i}}function Jc(r,e,t){for(var n=t.get(r[e])||[],i=0,s=n.length;i<s;i++){var o=n[i];if(o.key===e&&o.obj===r)return!0}return!1}function Hn(r){return Array.isArray(r)}function Bc(r){return typeof r=="function"}function Yr(r){return!Jn(r)&&!Hn(r)&&!Bc(r)&&typeof r=="object"}function Jn(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="undefined"||r instanceof Date||r instanceof RegExp||r===null}function c0(r,e){return!(!Fc(r)||!Fc(e))}function u0(r,e){return typeof e=="string"?r===e:!!r.match(e)}var d0=function(){function r(){var e=this;this._promise=new Promise(function(t,n){e._resolve=t,e._reject=n})}return Object.defineProperty(r.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),r.prototype.resolve=function(e){this._resolve(e)},r.prototype.reject=function(e){this._reject(e)},r}(),h0=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},p0=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},f0=function(){function r(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new d0}return Object.defineProperty(r.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),r.prototype.call=function(){for(var e,t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,p0([this._that],h0(n),!1))).then(function(s){return t._deferred.resolve(s)},function(s){return t._deferred.reject(s)})}catch(s){this._deferred.reject(s)}}return this._deferred.promise},r}(),m0="exception",y0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kc=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},b0=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},g0=function(){function r(e,t,n,i,s,o,l,a,c,u){l===void 0&&(l=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:Ys.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=l;var d=Date.now();this._performanceStartTime=Qt.now(),this._performanceOffset=d-(this._performanceStartTime+co()),this._startTimeProvided=a!=null,this.startTime=this._getTime(a!=null?a:d),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,u!=null&&this.setAttributes(u),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}return r.prototype.spanContext=function(){return this._spanContext},r.prototype.setAttribute=function(e,t){return t==null||this._isSpanEnded()?this:e.length===0?(M.warn("Invalid attribute key: "+e),this):Cc(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(M.warn("Invalid attribute value set for key: "+e),this)},r.prototype.setAttributes=function(e){var t,n;try{for(var i=y0(Object.entries(e)),s=i.next();!s.done;s=i.next()){var o=Kc(s.value,2),l=o[0],a=o[1];this.setAttribute(l,a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},r.prototype.addEvent=function(e,t,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return M.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&M.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),Xc(t)&&(Xc(n)||(n=t),t=void 0);var i=An(t);return this.events.push({name:e,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this},r.prototype.addLink=function(e){return this.links.push(e),this},r.prototype.addLinks=function(e){var t;return(t=this.links).push.apply(t,b0([],Kc(e),!1)),this},r.prototype.setStatus=function(e){return this._isSpanEnded()?this:(this.status=e,this)},r.prototype.updateName=function(e){return this._isSpanEnded()?this:(this.name=e,this)},r.prototype.end=function(e){if(this._isSpanEnded()){M.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(e),this._duration=Gg(this.startTime,this.endTime),this._duration[0]<0&&(M.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&M.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},r.prototype._getTime=function(e){if(typeof e=="number"&&e<Qt.now())return Oc(e+this._performanceOffset);if(typeof e=="number")return ft(e);if(e instanceof Date)return ft(e.getTime());if(uo(e))return e;if(this._startTimeProvided)return ft(Date.now());var t=Qt.now()-this._performanceStartTime;return Wc(this.startTime,ft(t))},r.prototype.isRecording=function(){return this._ended===!1},r.prototype.recordException=function(e,t){var n={};typeof e=="string"?n[Qs]=e:e&&(e.code?n[js]=e.code.toString():e.name&&(n[js]=e.name),e.message&&(n[Qs]=e.message),e.stack&&(n[jy]=e.stack)),n[js]||n[Qs]?this.addEvent(m0,n,t):M.warn("Failed to record an exception "+e)},Object.defineProperty(r.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),r.prototype._isSpanEnded=function(){return this._ended&&M.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},r.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},r.prototype._truncateToSize=function(e){var t=this,n=this._attributeValueLengthLimit;return n<=0?(M.warn("Attribute value limit must be positive, got "+n),e):typeof e=="string"?this._truncateToLimitUtil(e,n):Array.isArray(e)?e.map(function(i){return typeof i=="string"?t._truncateToLimitUtil(i,n):i}):e},r}(),qt;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(qt||(qt={}));var Bn=function(){function r(){}return r.prototype.shouldSample=function(){return{decision:qt.NOT_RECORD}},r.prototype.toString=function(){return"AlwaysOffSampler"},r}(),er=function(){function r(){}return r.prototype.shouldSample=function(){return{decision:qt.RECORD_AND_SAMPLED}},r.prototype.toString=function(){return"AlwaysOnSampler"},r}(),bo=function(){function r(e){var t,n,i,s;this._root=e.root,this._root||(Un(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new er),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new er,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new Bn,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new er,this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new Bn}return r.prototype.shouldSample=function(e,t,n,i,s,o){var l=re.getSpanContext(e);return!l||!Wr(l)?this._root.shouldSample(e,t,n,i,s,o):l.isRemote?l.traceFlags&Qe.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,s,o):this._remoteParentNotSampled.shouldSample(e,t,n,i,s,o):l.traceFlags&Qe.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,s,o):this._localParentNotSampled.shouldSample(e,t,n,i,s,o)},r.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},r}(),Dc=function(){function r(e){e===void 0&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}return r.prototype.shouldSample=function(e,t){return{decision:nc(t)&&this._accumulate(t)<this._upperBound?qt.RECORD_AND_SAMPLED:qt.NOT_RECORD}},r.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},r.prototype._normalize=function(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e},r.prototype._accumulate=function(e){for(var t=0,n=0;n<e.length/8;n++){var i=n*8,s=parseInt(e.slice(i,i+8),16);t=(t^s)>>>0}return t},r}(),S0=jt(),v0=$e.AlwaysOn,tr=1;function zc(){var r=jt();return{sampler:jc(S0),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:r.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:r.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:r.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:r.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:r.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:r.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function jc(r){switch(r===void 0&&(r=jt()),r.OTEL_TRACES_SAMPLER){case $e.AlwaysOn:return new er;case $e.AlwaysOff:return new Bn;case $e.ParentBasedAlwaysOn:return new bo({root:new er});case $e.ParentBasedAlwaysOff:return new bo({root:new Bn});case $e.TraceIdRatio:return new Dc(Qc(r));case $e.ParentBasedTraceIdRatio:return new bo({root:new Dc(Qc(r))});default:return M.error('OTEL_TRACES_SAMPLER value "'+r.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+v0+'".'),new er}}function Qc(r){if(r.OTEL_TRACES_SAMPLER_ARG===void 0||r.OTEL_TRACES_SAMPLER_ARG==="")return M.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+tr+"."),tr;var e=Number(r.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(M.error("OTEL_TRACES_SAMPLER_ARG="+r.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+tr+"."),tr):e<0||e>1?(M.error("OTEL_TRACES_SAMPLER_ARG="+r.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+tr+"."),tr):e}function R0(r){var e={sampler:jc()},t=zc(),n=Object.assign({},t,e,r);return n.generalLimits=Object.assign({},t.generalLimits,r.generalLimits||{}),n.spanLimits=Object.assign({},t.spanLimits,r.spanLimits||{}),n}function T0(r){var e,t,n,i,s,o,l,a,c,u,d,h,p=Object.assign({},r.spanLimits),m=wg();return p.attributeCountLimit=(o=(s=(i=(t=(e=r.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&t!==void 0?t:(n=r.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&i!==void 0?i:m.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:m.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:Yn,p.attributeValueLengthLimit=(h=(d=(u=(a=(l=r.spanLimits)===null||l===void 0?void 0:l.attributeValueLengthLimit)!==null&&a!==void 0?a:(c=r.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&u!==void 0?u:m.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:m.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&h!==void 0?h:Mn,Object.assign({},r,{spanLimits:p})}var I0=function(){function r(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var n=jt();this._maxExportBatchSize=typeof(t==null?void 0:t.maxExportBatchSize)=="number"?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(t==null?void 0:t.maxQueueSize)=="number"?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(t==null?void 0:t.scheduledDelayMillis)=="number"?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(t==null?void 0:t.exportTimeoutMillis)=="number"?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new f0(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(M.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return r.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},r.prototype.onStart=function(e,t){},r.prototype.onEnd=function(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&Qe.SAMPLED&&this._addToBuffer(e)},r.prototype.shutdown=function(){return this._shutdownOnce.call()},r.prototype._shutdown=function(){var e=this;return Promise.resolve().then(function(){return e.onShutdown()}).then(function(){return e._flushAll()}).then(function(){return e._exporter.shutdown()})},r.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&M.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(M.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},r.prototype._flushAll=function(){var e=this;return new Promise(function(t,n){for(var i=[],s=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize),o=0,l=s;o<l;o++)i.push(e._flushOneBatch());Promise.all(i).then(function(){t()}).catch(n)})},r.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(t,n){var i=setTimeout(function(){n(new Error("Timeout"))},e._exportTimeoutMillis);Q.with(Db(Q.active()),function(){var s;e._finishedSpans.length<=e._maxExportBatchSize?(s=e._finishedSpans,e._finishedSpans=[]):s=e._finishedSpans.splice(0,e._maxExportBatchSize);for(var o=function(){return e._exporter.export(s,function(d){var h;clearTimeout(i),d.code===ho.SUCCESS?t():n((h=d.error)!==null&&h!==void 0?h:new Error("BatchSpanProcessor: span export failed"))})},l=null,a=0,c=s.length;a<c;a++){var u=s[a];u.resource.asyncAttributesPending&&u.resource.waitForAsyncAttributes&&(l!=null||(l=[]),l.push(u.resource.waitForAsyncAttributes()))}l===null?o():Promise.all(l).then(o,function(d){Un(d),n(d)})})})},r.prototype._maybeStartTimer=function(){var e=this;if(!this._isExporting){var t=function(){e._isExporting=!0,e._flushOneBatch().finally(function(){e._isExporting=!1,e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())}).catch(function(n){e._isExporting=!1,Un(n)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();this._timer===void 0&&(this._timer=setTimeout(function(){return t()},this._scheduledDelayMillis))}},r.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},r}(),E0=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$c=function(r){E0(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.onInit(n),i}return e.prototype.onInit=function(t){var n=this;(t==null?void 0:t.disableAutoFlushOnDocumentHide)!==!0&&typeof document!="undefined"&&(this._visibilityChangeListener=function(){document.visibilityState==="hidden"&&n.forceFlush()},this._pageHideListener=function(){n.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},e.prototype.onShutdown=function(){typeof document!="undefined"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},e}(I0),w0=8,Z0=16,_0=function(){function r(){this.generateTraceId=qc(Z0),this.generateSpanId=qc(w0)}return r}(),Kn=Array(32);function qc(r){return function(){for(var t=0;t<r*2;t++)Kn[t]=Math.floor(Math.random()*16)+48,Kn[t]>=58&&(Kn[t]+=39);return String.fromCharCode.apply(null,Kn.slice(0,r*2))}}var C0=function(){function r(e,t,n){this._tracerProvider=n;var i=R0(t);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=t.idGenerator||new _0,this.resource=n.resource,this.instrumentationLibrary=e}return r.prototype.startSpan=function(e,t,n){var i,s,o;t===void 0&&(t={}),n===void 0&&(n=Q.active()),t.root&&(n=re.deleteSpan(n));var l=re.getSpan(n);if(io(n)){M.debug("Instrumentation suppressed, returning Noop Span");var a=re.wrapSpanContext(tc);return a}var c=l==null?void 0:l.spanContext(),u=this._idGenerator.generateSpanId(),d,h,p;!c||!re.isSpanContextValid(c)?d=this._idGenerator.generateTraceId():(d=c.traceId,h=c.traceState,p=c.spanId);var m=(i=t.kind)!==null&&i!==void 0?i:xr.INTERNAL,f=((s=t.links)!==null&&s!==void 0?s:[]).map(function(N){return{context:N.context,attributes:An(N.attributes)}}),y=An(t.attributes),b=this._sampler.shouldSample(n,d,e,m,y,f);h=(o=b.traceState)!==null&&o!==void 0?o:h;var S=b.decision===On.RECORD_AND_SAMPLED?Qe.SAMPLED:Qe.NONE,v={traceId:d,spanId:u,traceFlags:S,traceState:h};if(b.decision===On.NOT_RECORD){M.debug("Recording is off, propagating context in a non-recording span");var a=re.wrapSpanContext(v);return a}var T=An(Object.assign(y,b.attributes)),C=new g0(this,n,e,v,m,p,f,t.startTime,void 0,T);return C},r.prototype.startActiveSpan=function(e,t,n,i){var s,o,l;if(!(arguments.length<2)){arguments.length===2?l=t:arguments.length===3?(s=t,l=n):(s=t,o=n,l=i);var a=o!=null?o:Q.active(),c=this.startSpan(e,s,a),u=re.setSpan(a,c);return Q.with(u,l,void 0,c)}},r.prototype.getGeneralLimits=function(){return this._generalLimits},r.prototype.getSpanLimits=function(){return this._spanLimits},r.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},r}();function L0(){return"unknown_service"}var yt=function(){return yt=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},yt.apply(this,arguments)},G0=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(d){o(d)}}function a(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(l,a)}c((n=n.apply(r,e||[])).next())})},N0=function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(u){return a([c,u])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},V0=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},eu=function(){function r(e,t){var n=this,i;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(i=this._attributes)!==null&&i!==void 0?i:{},this._asyncAttributesPromise=t==null?void 0:t.then(function(s){return n._attributes=Object.assign({},n._attributes,s),n.asyncAttributesPending=!1,s},function(s){return M.debug("a resource's async attributes promise rejected: %s",s),n.asyncAttributesPending=!1,{}})}return r.empty=function(){return r.EMPTY},r.default=function(){var e;return new r((e={},e[fc]=L0(),e[Kt]=lo[Kt],e[Bt]=lo[Bt],e[Dt]=lo[Dt],e))},Object.defineProperty(r.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&M.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}},enumerable:!1,configurable:!0}),r.prototype.waitForAsyncAttributes=function(){return G0(this,void 0,void 0,function(){return N0(this,function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},r.prototype.merge=function(e){var t=this,n;if(!e)return this;var i=yt(yt({},this._syncAttributes),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(i);var s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(function(o){var l,a=V0(o,2),c=a[0],u=a[1];return yt(yt(yt(yt({},t._syncAttributes),c),(l=e._syncAttributes)!==null&&l!==void 0?l:e.attributes),u)});return new r(i,s)},r.EMPTY=new r({}),r}(),Dn=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O0=function(){function r(e){this._spanProcessors=e}return r.prototype.forceFlush=function(){var e,t,n=[];try{for(var i=Dn(this._spanProcessors),s=i.next();!s.done;s=i.next()){var o=s.value;n.push(o.forceFlush())}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return new Promise(function(l){Promise.all(n).then(function(){l()}).catch(function(a){Un(a||new Error("MultiSpanProcessor: forceFlush failed")),l()})})},r.prototype.onStart=function(e,t){var n,i;try{for(var s=Dn(this._spanProcessors),o=s.next();!o.done;o=s.next()){var l=o.value;l.onStart(e,t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},r.prototype.onEnd=function(e){var t,n;try{for(var i=Dn(this._spanProcessors),s=i.next();!s.done;s=i.next()){var o=s.value;o.onEnd(e)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.shutdown=function(){var e,t,n=[];try{for(var i=Dn(this._spanProcessors),s=i.next();!s.done;s=i.next()){var o=s.value;n.push(o.shutdown())}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return new Promise(function(l,a){Promise.all(n).then(function(){l()},a)})},r}(),X0=function(){function r(){}return r.prototype.onStart=function(e,t){},r.prototype.onEnd=function(e){},r.prototype.shutdown=function(){return Promise.resolve()},r.prototype.forceFlush=function(){return Promise.resolve()},r}(),kt;(function(r){r[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved"})(kt||(kt={}));var W0=function(){function r(e){e===void 0&&(e={});var t;this._registeredSpanProcessors=[],this._tracers=new Map;var n=l0({},zc(),T0(e));this.resource=(t=n.resource)!==null&&t!==void 0?t:eu.empty(),this.resource=eu.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});var i=this._buildExporterFromEnv();if(i!==void 0){var s=new $c(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new X0}return r.prototype.getTracer=function(e,t,n){var i=e+"@"+(t||"")+":"+((n==null?void 0:n.schemaUrl)||"");return this._tracers.has(i)||this._tracers.set(i,new C0({name:e,version:t,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(i)},r.prototype.addSpanProcessor=function(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(t){return M.error("Error while trying to shutdown current span processor",t)}),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new O0(this._registeredSpanProcessors)},r.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},r.prototype.register=function(e){e===void 0&&(e={}),re.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&Q.setGlobalContextManager(e.contextManager),e.propagator&&Ee.setGlobalPropagator(e.propagator)},r.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(function(n){return new Promise(function(i){var s,o=setTimeout(function(){i(new Error("Span processor did not completed within timeout period of "+e+" ms")),s=kt.timeout},e);n.forceFlush().then(function(){clearTimeout(o),s!==kt.timeout&&(s=kt.resolved,i(s))}).catch(function(l){clearTimeout(o),s=kt.error,i(l)})})});return new Promise(function(n,i){Promise.all(t).then(function(s){var o=s.filter(function(l){return l!==kt.resolved});o.length>0?i(o):n()}).catch(function(s){return i([s])})})},r.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},r.prototype._getPropagator=function(e){var t;return(t=this.constructor._registeredPropagators.get(e))===null||t===void 0?void 0:t()},r.prototype._getSpanExporter=function(e){var t;return(t=this.constructor._registeredExporters.get(e))===null||t===void 0?void 0:t()},r.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set(jt().OTEL_PROPAGATORS)),n=t.map(function(s){var o=e._getPropagator(s);return o||M.warn('Propagator "'+s+'" requested through environment variable is unavailable.'),o}),i=n.reduce(function(s,o){return o&&s.push(o),s},[]);if(i.length!==0)return t.length===1?i[0]:new Vg({propagators:i})},r.prototype._buildExporterFromEnv=function(){var e=jt().OTEL_TRACES_EXPORTER;if(!(e==="none"||e==="")){var t=this._getSpanExporter(e);return t||M.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},r._registeredPropagators=new Map([["tracecontext",function(){return new zg}],["baggage",function(){return new ng}]]),r._registeredExporters=new Map,r}(),x0=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},k0=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},tu=function(){function r(){this._enabled=!1,this._currentContext=Ot}return r.prototype._bindFunction=function(e,t){e===void 0&&(e=Ot);var n=this,i=function(){for(var s=this,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return n.with(e,function(){return t.apply(s,o)})};return Object.defineProperty(i,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),i},r.prototype.active=function(){return this._currentContext},r.prototype.bind=function(e,t){return e===void 0&&(e=this.active()),typeof t=="function"?this._bindFunction(e,t):t},r.prototype.disable=function(){return this._currentContext=Ot,this._enabled=!1,this},r.prototype.enable=function(){return this._enabled?this:(this._enabled=!0,this._currentContext=Ot,this)},r.prototype.with=function(e,t,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=this._currentContext;this._currentContext=e||Ot;try{return t.call.apply(t,k0([n],x0(i),!1))}finally{this._currentContext=o}},r}(),P0=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),A0=function(r){P0(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;if(t.contextManager)throw"contextManager should be defined in register method not in constructor";if(t.propagator)throw"propagator should be defined in register method not in constructor";return n}return e.prototype.register=function(t){t===void 0&&(t={}),t.contextManager===void 0&&(t.contextManager=new tu),t.contextManager&&t.contextManager.enable(),r.prototype.register.call(this,t)},e}(W0),P;(function(r){r.CONNECT_END="connectEnd",r.CONNECT_START="connectStart",r.DECODED_BODY_SIZE="decodedBodySize",r.DOM_COMPLETE="domComplete",r.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",r.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",r.DOM_INTERACTIVE="domInteractive",r.DOMAIN_LOOKUP_END="domainLookupEnd",r.DOMAIN_LOOKUP_START="domainLookupStart",r.ENCODED_BODY_SIZE="encodedBodySize",r.FETCH_START="fetchStart",r.LOAD_EVENT_END="loadEventEnd",r.LOAD_EVENT_START="loadEventStart",r.NAVIGATION_START="navigationStart",r.REDIRECT_END="redirectEnd",r.REDIRECT_START="redirectStart",r.REQUEST_START="requestStart",r.RESPONSE_END="responseEnd",r.RESPONSE_START="responseStart",r.SECURE_CONNECTION_START="secureConnectionStart",r.UNLOAD_EVENT_END="unloadEventEnd",r.UNLOAD_EVENT_START="unloadEventStart"})(P||(P={}));var go;function U0(){return go||(go=document.createElement("a")),go}function bt(r,e){return e in r}function Se(r,e,t,n){var i=void 0,s=void 0;bt(t,e)&&typeof t[e]=="number"&&(i=t[e]);var o=P.FETCH_START;if(bt(t,o)&&typeof t[o]=="number"&&(s=t[o]),i!==void 0&&s!==void 0&&i>=s)return r.addEvent(e,i),r}function rr(r,e){Se(r,P.FETCH_START,e),Se(r,P.DOMAIN_LOOKUP_START,e),Se(r,P.DOMAIN_LOOKUP_END,e),Se(r,P.CONNECT_START,e),bt(e,"name")&&e.name.startsWith("https:")&&Se(r,P.SECURE_CONNECTION_START,e),Se(r,P.CONNECT_END,e),Se(r,P.REQUEST_START,e),Se(r,P.RESPONSE_START,e),Se(r,P.RESPONSE_END,e);var t=e[P.ENCODED_BODY_SIZE];t!==void 0&&r.setAttribute(Qy,t);var n=e[P.DECODED_BODY_SIZE];n!==void 0&&t!==n&&r.setAttribute($y,n)}function M0(r){return r.slice().sort(function(e,t){var n=e[P.FETCH_START],i=t[P.FETCH_START];return n>i?1:n<i?-1:0})}function ru(){return typeof location!="undefined"?location.origin:void 0}function nu(r,e,t,n,i,s){i===void 0&&(i=new WeakSet);var o=at(r);r=o.toString();var l=F0(r,e,t,n,i,s);if(l.length===0)return{mainRequest:void 0};if(l.length===1)return{mainRequest:l[0]};var a=M0(l);if(o.origin!==ru()&&a.length>1){var c=a[0],u=Y0(a,c[P.RESPONSE_END],t),d=c[P.RESPONSE_END],h=u[P.FETCH_START];return h<d&&(u=c,c=void 0),{corsPreFlightRequest:c,mainRequest:u}}else return{mainRequest:l[0]}}function Y0(r,e,t){for(var n=mt(t),i=mt(Mr(e)),s=r[1],o,l=r.length,a=1;a<l;a++){var c=r[a],u=mt(Mr(c[P.FETCH_START])),d=mt(Mr(c[P.RESPONSE_END])),h=n-d;u>=i&&(!o||h<o)&&(o=h,s=c)}return s}function F0(r,e,t,n,i,s){var o=mt(e),l=mt(t),a=n.filter(function(c){var u=mt(Mr(c[P.FETCH_START])),d=mt(Mr(c[P.RESPONSE_END]));return c.initiatorType.toLowerCase()===(s||"xmlhttprequest")&&c.name===r&&u>=o&&d<=l});return a.length>0&&(a=a.filter(function(c){return!i.has(c)})),a}function at(r){if(typeof URL=="function")return new URL(r,typeof document!="undefined"?document.baseURI:typeof location!="undefined"?location.href:void 0);var e=U0();return e.href=r,e}function iu(r,e){if(r.nodeType===Node.DOCUMENT_NODE)return"/";var t=J0(r,e);if(e&&t.indexOf("@id")>0)return t;var n="";return r.parentNode&&(n+=iu(r.parentNode,!1)),n+=t,n}function H0(r){if(!r.parentNode)return 0;var e=[r.nodeType];r.nodeType===Node.CDATA_SECTION_NODE&&e.push(Node.TEXT_NODE);var t=Array.from(r.parentNode.childNodes);return t=t.filter(function(n){var i=n.localName;return e.indexOf(n.nodeType)>=0&&i===r.localName}),t.length>=1?t.indexOf(r)+1:0}function J0(r,e){var t=r.nodeType,n=H0(r),i="";if(t===Node.ELEMENT_NODE){var s=r.getAttribute("id");if(e&&s)return'//*[@id="'+s+'"]';i=r.localName}else if(t===Node.TEXT_NODE||t===Node.CDATA_SECTION_NODE)i="text()";else if(t===Node.COMMENT_NODE)i="comment()";else return"";return i&&n>1?"/"+i+"["+n+"]":"/"+i}function su(r,e){var t=e||[];(typeof t=="string"||t instanceof RegExp)&&(t=[t]);var n=at(r);return n.origin===ru()?!0:t.some(function(i){return u0(r,i)})}var Fr;(function(r){r.DOCUMENT_LOAD="documentLoad",r.DOCUMENT_FETCH="documentFetch",r.RESOURCE_FETCH="resourceFetch"})(Fr||(Fr={}));var B0="0.40.0",K0="@opentelemetry/instrumentation-document-load",zn;(function(r){r.FIRST_PAINT="firstPaint",r.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"})(zn||(zn={}));var D0=function(){var r,e,t={},n=(e=(r=Wt).getEntriesByType)===null||e===void 0?void 0:e.call(r,"navigation")[0];if(n){var i=Object.values(P);i.forEach(function(l){if(bt(n,l)){var a=n[l];typeof a=="number"&&(t[l]=a)}})}else{var s=Wt,o=s.timing;if(o){var i=Object.values(P);i.forEach(function(a){if(bt(o,a)){var c=o[a];typeof c=="number"&&(t[a]=c)}})}}return t},ou={"first-paint":zn.FIRST_PAINT,"first-contentful-paint":zn.FIRST_CONTENTFUL_PAINT},z0=function(r){var e,t,n=(t=(e=Wt).getEntriesByType)===null||t===void 0?void 0:t.call(e,"paint");n&&n.forEach(function(i){var s=i.name,o=i.startTime;bt(ou,s)&&r.addEvent(ou[s],o)})},j0=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Q0=function(r){j0(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,K0,B0,t)||this;return n.component="document-load",n.version="1",n.moduleName=n.component,n}return e.prototype.init=function(){},e.prototype._onDocumentLoaded=function(){var t=this;window.setTimeout(function(){t._collectPerformance()})},e.prototype._addResourcesSpans=function(t){var n=this,i,s,o=(s=(i=Wt).getEntriesByType)===null||s===void 0?void 0:s.call(i,"resource");o&&o.forEach(function(l){n._initResourceSpan(l,t)})},e.prototype._collectPerformance=function(){var t=this,n=Array.from(document.getElementsByTagName("meta")).find(function(o){return o.getAttribute("name")===Xn}),i=D0(),s=n&&n.content||"";Q.with(Ee.extract(Ot,{traceparent:s}),function(){var o,l=t._startSpan(Fr.DOCUMENT_LOAD,P.FETCH_START,i);l&&(Q.with(re.setSpan(Q.active(),l),function(){var a=t._startSpan(Fr.DOCUMENT_FETCH,P.FETCH_START,i);a&&(a.setAttribute(kr,location.href),Q.with(re.setSpan(Q.active(),a),function(){var c;t.getConfig().ignoreNetworkEvents||rr(a,i),t._addCustomAttributesOnSpan(a,(c=t.getConfig().applyCustomAttributesOnSpan)===null||c===void 0?void 0:c.documentFetch),t._endSpan(a,P.RESPONSE_END,i)}))}),l.setAttribute(kr,location.href),l.setAttribute($s,navigator.userAgent),t._addResourcesSpans(l),t.getConfig().ignoreNetworkEvents||(Se(l,P.FETCH_START,i),Se(l,P.UNLOAD_EVENT_START,i),Se(l,P.UNLOAD_EVENT_END,i),Se(l,P.DOM_INTERACTIVE,i),Se(l,P.DOM_CONTENT_LOADED_EVENT_START,i),Se(l,P.DOM_CONTENT_LOADED_EVENT_END,i),Se(l,P.DOM_COMPLETE,i),Se(l,P.LOAD_EVENT_START,i),Se(l,P.LOAD_EVENT_END,i)),t.getConfig().ignorePerformancePaintEvents||z0(l),t._addCustomAttributesOnSpan(l,(o=t.getConfig().applyCustomAttributesOnSpan)===null||o===void 0?void 0:o.documentLoad),t._endSpan(l,P.LOAD_EVENT_END,i))})},e.prototype._endSpan=function(t,n,i){t&&(bt(i,n)?t.end(i[n]):t.end())},e.prototype._initResourceSpan=function(t,n){var i,s=this._startSpan(Fr.RESOURCE_FETCH,P.FETCH_START,t,n);s&&(s.setAttribute(kr,t.name),this.getConfig().ignoreNetworkEvents||rr(s,t),this._addCustomAttributesOnResourceSpan(s,t,(i=this.getConfig().applyCustomAttributesOnSpan)===null||i===void 0?void 0:i.resourceFetch),this._endSpan(s,P.RESPONSE_END,t))},e.prototype._startSpan=function(t,n,i,s){if(bt(i,n)&&typeof i[n]=="number"){var o=this.tracer.startSpan(t,{startTime:i[n]},s?re.setSpan(Q.active(),s):void 0);return o}},e.prototype._waitForPageLoad=function(){window.document.readyState==="complete"?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))},e.prototype._addCustomAttributesOnSpan=function(t,n){var i=this;n&&Pn(function(){return n(t)},function(s){s&&i._diag.error("addCustomAttributesOnSpan",s)},!0)},e.prototype._addCustomAttributesOnResourceSpan=function(t,n,i){var s=this;i&&Pn(function(){return i(t,n)},function(o){o&&s._diag.error("addCustomAttributesOnResourceSpan",o)},!0)},e.prototype.enable=function(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()},e.prototype.disable=function(){window.removeEventListener("load",this._onDocumentLoaded)},e}(kn),So=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},vo=performance,$0=9,q0=6,eS=Math.pow(10,q0),au=Math.pow(10,$0);function Ro(r){var e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*eS);return[t,n]}function tS(){var r=vo.timeOrigin;if(typeof r!="number"){var e=vo;r=e.timing&&e.timing.fetchStart}return r}function lu(r){var e=Ro(tS()),t=Ro(vo.now());return rS(e,t)}function rS(r,e){var t=[r[0]+e[0],r[1]+e[1]];return t[1]>=au&&(t[1]-=au,t[0]+=1),t}var nS=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function iS(r,e){return typeof e=="string"?r===e:!!r.match(e)}function sS(r,e){var t,n;if(!e)return!1;try{for(var i=nS(e),s=i.next();!s.done;s=i.next()){var o=s.value;if(iS(r,o))return!0}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!1}var jn;(function(r){r.COMPONENT="component",r.HTTP_ERROR_NAME="http.error_name",r.HTTP_STATUS_TEXT="http.status_text"})(jn||(jn={}));var cu="0.53.0",oS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),To,aS=300,uu=typeof process=="object"&&((To=process.release)===null||To===void 0?void 0:To.name)==="node",lS=function(r){oS(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,"@opentelemetry/instrumentation-fetch",cu,t)||this;return n.component="fetch",n.version=cu,n.moduleName=n.component,n._usedResources=new WeakSet,n._tasksCount=0,n}return e.prototype.init=function(){},e.prototype._addChildSpan=function(t,n){var i=this.tracer.startSpan("CORS Preflight",{startTime:n[P.FETCH_START]},re.setSpan(Q.active(),t));this.getConfig().ignoreNetworkEvents||rr(i,n),i.end(n[P.RESPONSE_END])},e.prototype._addFinalSpanAttributes=function(t,n){var i=at(n.url);t.setAttribute(hc,n.status),n.statusText!=null&&t.setAttribute(jn.HTTP_STATUS_TEXT,n.statusText),t.setAttribute(uc,i.host),t.setAttribute(dc,i.protocol.replace(":","")),typeof navigator!="undefined"&&t.setAttribute($s,navigator.userAgent)},e.prototype._addHeaders=function(t,n){if(!su(n,this.getConfig().propagateTraceHeaderCorsUrls)){var i={};Ee.inject(Q.active(),i),Object.keys(i).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(t instanceof Request)Ee.inject(Q.active(),t.headers,{set:function(s,o,l){return s.set(o,typeof l=="string"?l:String(l))}});else if(t.headers instanceof Headers)Ee.inject(Q.active(),t.headers,{set:function(s,o,l){return s.set(o,typeof l=="string"?l:String(l))}});else if(t.headers instanceof Map)Ee.inject(Q.active(),t.headers,{set:function(s,o,l){return s.set(o,typeof l=="string"?l:String(l))}});else{var i={};Ee.inject(Q.active(),i),t.headers=Object.assign({},i,t.headers||{})}},e.prototype._clearResources=function(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},e.prototype._createSpan=function(t,n){var i;if(n===void 0&&(n={}),sS(t,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var s=(n.method||"GET").toUpperCase(),o="HTTP "+s;return this.tracer.startSpan(o,{kind:xr.CLIENT,attributes:(i={},i[jn.COMPONENT]=this.moduleName,i[cc]=s,i[kr]=t,i)})},e.prototype._findResourceAndAddNetworkEvents=function(t,n,i){var s=n.entries;if(!s.length){if(!performance.getEntriesByType)return;s=performance.getEntriesByType("resource")}var o=nu(n.spanUrl,n.startTime,i,s,this._usedResources,"fetch");if(o.mainRequest){var l=o.mainRequest;this._markResourceAsUsed(l);var a=o.corsPreFlightRequest;a&&(this._addChildSpan(t,a),this._markResourceAsUsed(a)),this.getConfig().ignoreNetworkEvents||rr(t,l)}},e.prototype._markResourceAsUsed=function(t){this._usedResources.add(t)},e.prototype._endSpan=function(t,n,i){var s=this,o=Ro(Date.now()),l=lu();this._addFinalSpanAttributes(t,i),setTimeout(function(){var a;(a=n.observer)===null||a===void 0||a.disconnect(),s._findResourceAndAddNetworkEvents(t,n,l),s._tasksCount--,s._clearResources(),t.end(o)},aS)},e.prototype._patchConstructor=function(){var t=this;return function(n){var i=t;return function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var a=this,c=at(o[0]instanceof Request?o[0].url:String(o[0])).href,u=o[0]instanceof Request?o[0]:o[1]||{},d=i._createSpan(c,u);if(!d)return n.apply(this,o);var h=i._prepareSpanData(c);function p(b,S){i._applyAttributesAfterFetch(b,u,S),i._endSpan(b,h,{status:S.status||0,statusText:S.message,url:c})}function m(b,S){i._applyAttributesAfterFetch(b,u,S),S.status>=200&&S.status<400?i._endSpan(b,h,S):i._endSpan(b,h,{status:S.status,statusText:S.statusText,url:c})}function f(b,S,v){try{var T=v.clone(),C=v.clone(),N=T.body;if(N){var w=N.getReader(),L=function(){w.read().then(function(x){var V=x.done;V?m(b,C):L()},function(x){p(b,x)})};L()}else m(b,v)}finally{S(v)}}function y(b,S,v){try{p(b,v)}finally{S(v)}}return new Promise(function(b,S){return Q.with(re.setSpan(Q.active(),d),function(){return i._addHeaders(u,c),i._tasksCount++,n.apply(a,u instanceof Request?[u]:[c,u]).then(f.bind(a,d,b),y.bind(a,d,S))})})}}},e.prototype._applyAttributesAfterFetch=function(t,n,i){var s=this,o=this.getConfig().applyCustomAttributesOnSpan;o&&Pn(function(){return o(t,n,i)},function(l){l&&s._diag.error("applyCustomAttributesOnSpan",l)},!0)},e.prototype._prepareSpanData=function(t){var n=lu(),i=[];if(typeof PerformanceObserver!="function")return{entries:i,startTime:n,spanUrl:t};var s=new PerformanceObserver(function(o){var l=o.getEntries();l.forEach(function(a){a.initiatorType==="fetch"&&a.name===t&&i.push(a)})});return s.observe({entryTypes:["resource"]}),{entries:i,observer:s,startTime:n,spanUrl:t}},e.prototype.enable=function(){if(uu){this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()");return}ge(fetch)&&(this._unwrap(So,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(So,"fetch",this._patchConstructor())},e.prototype.disable=function(){uu||(this._unwrap(So,"fetch"),this._usedResources=new WeakSet)},e}(kn),Hr=performance,cS=9,uS=6,dS=Math.pow(10,uS),du=Math.pow(10,cS);function hu(r){var e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*dS);return[t,n]}function hS(){var r=Hr.timeOrigin;if(typeof r!="number"){var e=Hr;r=e.timing&&e.timing.fetchStart}return r}function pu(r){var e=hu(hS()),t=hu(Hr.now());return pS(e,t)}function pS(r,e){var t=[r[0]+e[0],r[1]+e[1]];return t[1]>=du&&(t[1]-=du,t[0]+=1),t}var fS=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function mS(r,e){return typeof e=="string"?r===e:!!r.match(e)}function yS(r,e){var t,n;if(!e)return!1;try{for(var i=fS(e),s=i.next();!s.done;s=i.next()){var o=s.value;if(mS(r,o))return!0}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!1}var lt;(function(r){r.METHOD_OPEN="open",r.METHOD_SEND="send",r.EVENT_ABORT="abort",r.EVENT_ERROR="error",r.EVENT_LOAD="loaded",r.EVENT_TIMEOUT="timeout"})(lt||(lt={}));var fu="0.53.0",Io;(function(r){r.HTTP_STATUS_TEXT="http.status_text"})(Io||(Io={}));var bS=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gS=300,SS=function(r){bS(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,"@opentelemetry/instrumentation-xml-http-request",fu,t)||this;return n.component="xml-http-request",n.version=fu,n.moduleName=n.component,n._tasksCount=0,n._xhrMem=new WeakMap,n._usedResources=new WeakSet,n}return e.prototype.init=function(){},e.prototype._addHeaders=function(t,n){var i=at(n).href;if(!su(i,this.getConfig().propagateTraceHeaderCorsUrls)){var s={};Ee.inject(Q.active(),s),Object.keys(s).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}var o={};Ee.inject(Q.active(),o),Object.keys(o).forEach(function(l){t.setRequestHeader(l,String(o[l]))})},e.prototype._addChildSpan=function(t,n){var i=this;Q.with(re.setSpan(Q.active(),t),function(){var s=i.tracer.startSpan("CORS Preflight",{startTime:n[P.FETCH_START]});i.getConfig().ignoreNetworkEvents||rr(s,n),s.end(n[P.RESPONSE_END])})},e.prototype._addFinalSpanAttributes=function(t,n,i){if(typeof i=="string"){var s=at(i);n.status!==void 0&&t.setAttribute(hc,n.status),n.statusText!==void 0&&t.setAttribute(Io.HTTP_STATUS_TEXT,n.statusText),t.setAttribute(uc,s.host),t.setAttribute(dc,s.protocol.replace(":","")),t.setAttribute($s,navigator.userAgent)}},e.prototype._applyAttributesAfterXHR=function(t,n){var i=this,s=this.getConfig().applyCustomAttributesOnSpan;typeof s=="function"&&Pn(function(){return s(t,n)},function(o){o&&i._diag.error("applyCustomAttributesOnSpan",o)},!0)},e.prototype._addResourceObserver=function(t,n){var i=this._xhrMem.get(t);!i||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(i.createdResources={observer:new PerformanceObserver(function(s){var o=s.getEntries(),l=at(n);o.forEach(function(a){a.initiatorType==="xmlhttprequest"&&a.name===l.href&&i.createdResources&&i.createdResources.entries.push(a)})}),entries:[]},i.createdResources.observer.observe({entryTypes:["resource"]}))},e.prototype._clearResources=function(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(Hr.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},e.prototype._findResourceAndAddNetworkEvents=function(t,n,i,s,o){if(!(!i||!s||!o||!t.createdResources)){var l=t.createdResources.entries;(!l||!l.length)&&(l=Hr.getEntriesByType("resource"));var a=nu(at(i).href,s,o,l,this._usedResources);if(a.mainRequest){var c=a.mainRequest;this._markResourceAsUsed(c);var u=a.corsPreFlightRequest;u&&(this._addChildSpan(n,u),this._markResourceAsUsed(u)),this.getConfig().ignoreNetworkEvents||rr(n,c)}}},e.prototype._cleanPreviousSpanInformation=function(t){var n=this._xhrMem.get(t);if(n){var i=n.callbackToRemoveEvents;i&&i(),this._xhrMem.delete(t)}},e.prototype._createSpan=function(t,n,i){var s;if(yS(n,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var o=i.toUpperCase(),l=this.tracer.startSpan(o,{kind:xr.CLIENT,attributes:(s={},s[cc]=i,s[kr]=at(n).toString(),s)});return l.addEvent(lt.METHOD_OPEN),this._cleanPreviousSpanInformation(t),this._xhrMem.set(t,{span:l,spanUrl:n}),l},e.prototype._markResourceAsUsed=function(t){this._usedResources.add(t)},e.prototype._patchOpen=function(){var t=this;return function(n){var i=t;return function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var a=o[0],c=o[1];return i._createSpan(this,c,a),n.apply(this,o)}}},e.prototype._patchSend=function(){var t=this;function n(u,d,h,p){var m=d.callbackToRemoveEvents;typeof m=="function"&&m();var f=d.span,y=d.spanUrl,b=d.sendStartTime;f&&(t._findResourceAndAddNetworkEvents(d,f,y,b,h),f.addEvent(u,p),t._addFinalSpanAttributes(f,d,y),f.end(p),t._tasksCount--),t._clearResources()}function i(u,d){var h=t._xhrMem.get(d);if(h){h.status=d.status,h.statusText=d.statusText,t._xhrMem.delete(d),h.span&&t._applyAttributesAfterXHR(h.span,d);var p=pu(),m=Date.now();setTimeout(function(){n(u,h,p,m)},gS)}}function s(){i(lt.EVENT_ERROR,this)}function o(){i(lt.EVENT_ABORT,this)}function l(){i(lt.EVENT_TIMEOUT,this)}function a(){this.status<299?i(lt.EVENT_LOAD,this):i(lt.EVENT_ERROR,this)}function c(u){u.removeEventListener("abort",o),u.removeEventListener("error",s),u.removeEventListener("load",a),u.removeEventListener("timeout",l);var d=t._xhrMem.get(u);d&&(d.callbackToRemoveEvents=void 0)}return function(u){return function(){for(var h=this,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var f=t._xhrMem.get(this);if(!f)return u.apply(this,p);var y=f.span,b=f.spanUrl;return y&&b&&Q.with(re.setSpan(Q.active(),y),function(){t._tasksCount++,f.sendStartTime=pu(),y.addEvent(lt.METHOD_SEND),h.addEventListener("abort",o),h.addEventListener("error",s),h.addEventListener("load",a),h.addEventListener("timeout",l),f.callbackToRemoveEvents=function(){c(h),f.createdResources&&f.createdResources.observer.disconnect()},t._addHeaders(h,b),t._addResourceObserver(h,b)}),u.apply(this,p)}}},e.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),ge(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),ge(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},e.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},e}(kn);function vS(){return"unknown_service"}var gt=function(){return gt=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},gt.apply(this,arguments)},RS=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(d){o(d)}}function a(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(l,a)}c((n=n.apply(r,e||[])).next())})},TS=function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(u){return a([c,u])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},IS=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},ES=function(){function r(e,t){var n=this,i;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(i=this._attributes)!==null&&i!==void 0?i:{},this._asyncAttributesPromise=t==null?void 0:t.then(function(s){return n._attributes=Object.assign({},n._attributes,s),n.asyncAttributesPending=!1,s},function(s){return M.debug("a resource's async attributes promise rejected: %s",s),n.asyncAttributesPending=!1,{}})}return r.empty=function(){return r.EMPTY},r.default=function(){var e;return new r((e={},e[fc]=vS(),e[Kt]=qs[Kt],e[Bt]=qs[Bt],e[Dt]=qs[Dt],e))},Object.defineProperty(r.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&M.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}},enumerable:!1,configurable:!0}),r.prototype.waitForAsyncAttributes=function(){return RS(this,void 0,void 0,function(){return TS(this,function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},r.prototype.merge=function(e){var t=this,n;if(!e)return this;var i=gt(gt({},this._syncAttributes),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(i);var s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(function(o){var l,a=IS(o,2),c=a[0],u=a[1];return gt(gt(gt(gt({},t._syncAttributes),c),(l=e._syncAttributes)!==null&&l!==void 0?l:e.attributes),u)});return new r(i,s)},r.EMPTY=new r({}),r}();function Qn(r,e){if(!!!r)throw new Error(e)}function wS(r){return typeof r=="object"&&r!==null}function ZS(r,e){if(!!!r)throw new Error("Unexpected invariant triggered.")}const _S=/\r\n|[\n\r]/g;function Eo(r,e){let t=0,n=1;for(const i of r.body.matchAll(_S)){if(typeof i.index=="number"||ZS(!1),i.index>=e)break;t=i.index+i[0].length,n+=1}return{line:n,column:e+1-t}}function CS(r){return mu(r.source,Eo(r.source,r.start))}function mu(r,e){const t=r.locationOffset.column-1,n="".padStart(t)+r.body,i=e.line-1,s=r.locationOffset.line-1,o=e.line+s,l=e.line===1?t:0,a=e.column+l,c=`${r.name}:${o}:${a}
`,u=n.split(/\r\n|[\n\r]/g),d=u[i];if(d.length>120){const h=Math.floor(a/80),p=a%80,m=[];for(let f=0;f<d.length;f+=80)m.push(d.slice(f,f+80));return c+yu([[`${o} |`,m[0]],...m.slice(1,h+1).map(f=>["|",f]),["|","^".padStart(p)],["|",m[h+1]]])}return c+yu([[`${o-1} |`,u[i-1]],[`${o} |`,d],["|","^".padStart(a)],[`${o+1} |`,u[i+1]]])}function yu(r){const e=r.filter(([n,i])=>i!==void 0),t=Math.max(...e.map(([n])=>n.length));return e.map(([n,i])=>n.padStart(t)+(i?" "+i:"")).join(`
`)}function LS(r){const e=r[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:r[1],positions:r[2],path:r[3],originalError:r[4],extensions:r[5]}:e}class wo extends Error{constructor(e,...t){var n,i,s;const{nodes:o,source:l,positions:a,path:c,originalError:u,extensions:d}=LS(t);super(e),this.name="GraphQLError",this.path=c!=null?c:void 0,this.originalError=u!=null?u:void 0,this.nodes=bu(Array.isArray(o)?o:o?[o]:void 0);const h=bu((n=this.nodes)===null||n===void 0?void 0:n.map(m=>m.loc).filter(m=>m!=null));this.source=l!=null?l:h==null||(i=h[0])===null||i===void 0?void 0:i.source,this.positions=a!=null?a:h==null?void 0:h.map(m=>m.start),this.locations=a&&l?a.map(m=>Eo(l,m)):h==null?void 0:h.map(m=>Eo(m.source,m.start));const p=wS(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(s=d!=null?d:p)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,wo):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+=`

`+CS(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+=`

`+mu(this.source,t);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function bu(r){return r===void 0||r.length===0?void 0:r}function ve(r,e,t){return new wo(`Syntax Error: ${t}`,{source:r,positions:[e]})}class GS{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class gu{constructor(e,t,n,i,s,o){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Su={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},NS=new Set(Object.keys(Su));function vu(r){const e=r==null?void 0:r.kind;return typeof e=="string"&&NS.has(e)}var nr;(function(r){r.QUERY="query",r.MUTATION="mutation",r.SUBSCRIPTION="subscription"})(nr||(nr={}));var Zo;(function(r){r.QUERY="QUERY",r.MUTATION="MUTATION",r.SUBSCRIPTION="SUBSCRIPTION",r.FIELD="FIELD",r.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",r.FRAGMENT_SPREAD="FRAGMENT_SPREAD",r.INLINE_FRAGMENT="INLINE_FRAGMENT",r.VARIABLE_DEFINITION="VARIABLE_DEFINITION",r.SCHEMA="SCHEMA",r.SCALAR="SCALAR",r.OBJECT="OBJECT",r.FIELD_DEFINITION="FIELD_DEFINITION",r.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",r.INTERFACE="INTERFACE",r.UNION="UNION",r.ENUM="ENUM",r.ENUM_VALUE="ENUM_VALUE",r.INPUT_OBJECT="INPUT_OBJECT",r.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Zo||(Zo={}));var O;(function(r){r.NAME="Name",r.DOCUMENT="Document",r.OPERATION_DEFINITION="OperationDefinition",r.VARIABLE_DEFINITION="VariableDefinition",r.SELECTION_SET="SelectionSet",r.FIELD="Field",r.ARGUMENT="Argument",r.FRAGMENT_SPREAD="FragmentSpread",r.INLINE_FRAGMENT="InlineFragment",r.FRAGMENT_DEFINITION="FragmentDefinition",r.VARIABLE="Variable",r.INT="IntValue",r.FLOAT="FloatValue",r.STRING="StringValue",r.BOOLEAN="BooleanValue",r.NULL="NullValue",r.ENUM="EnumValue",r.LIST="ListValue",r.OBJECT="ObjectValue",r.OBJECT_FIELD="ObjectField",r.DIRECTIVE="Directive",r.NAMED_TYPE="NamedType",r.LIST_TYPE="ListType",r.NON_NULL_TYPE="NonNullType",r.SCHEMA_DEFINITION="SchemaDefinition",r.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",r.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",r.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",r.FIELD_DEFINITION="FieldDefinition",r.INPUT_VALUE_DEFINITION="InputValueDefinition",r.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",r.UNION_TYPE_DEFINITION="UnionTypeDefinition",r.ENUM_TYPE_DEFINITION="EnumTypeDefinition",r.ENUM_VALUE_DEFINITION="EnumValueDefinition",r.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",r.DIRECTIVE_DEFINITION="DirectiveDefinition",r.SCHEMA_EXTENSION="SchemaExtension",r.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",r.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",r.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",r.UNION_TYPE_EXTENSION="UnionTypeExtension",r.ENUM_TYPE_EXTENSION="EnumTypeExtension",r.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(O||(O={}));function _o(r){return r===9||r===32}function Jr(r){return r>=48&&r<=57}function Ru(r){return r>=97&&r<=122||r>=65&&r<=90}function Tu(r){return Ru(r)||r===95}function VS(r){return Ru(r)||Jr(r)||r===95}function OS(r){var e;let t=Number.MAX_SAFE_INTEGER,n=null,i=-1;for(let o=0;o<r.length;++o){var s;const l=r[o],a=XS(l);a!==l.length&&(n=(s=n)!==null&&s!==void 0?s:o,i=o,o!==0&&a<t&&(t=a))}return r.map((o,l)=>l===0?o:o.slice(t)).slice((e=n)!==null&&e!==void 0?e:0,i+1)}function XS(r){let e=0;for(;e<r.length&&_o(r.charCodeAt(e));)++e;return e}function WS(r,e){const t=r.replace(/"""/g,'\\"""'),n=t.split(/\r\n|[\n\r]/g),i=n.length===1,s=n.length>1&&n.slice(1).every(p=>p.length===0||_o(p.charCodeAt(0))),o=t.endsWith('\\"""'),l=r.endsWith('"')&&!o,a=r.endsWith("\\"),c=l||a,u=!i||r.length>70||c||s||o;let d="";const h=i&&_o(r.charCodeAt(0));return(u&&!h||s)&&(d+=`
`),d+=t,(u||c)&&(d+=`
`),'"""'+d+'"""'}var R;(function(r){r.SOF="<SOF>",r.EOF="<EOF>",r.BANG="!",r.DOLLAR="$",r.AMP="&",r.PAREN_L="(",r.PAREN_R=")",r.SPREAD="...",r.COLON=":",r.EQUALS="=",r.AT="@",r.BRACKET_L="[",r.BRACKET_R="]",r.BRACE_L="{",r.PIPE="|",r.BRACE_R="}",r.NAME="Name",r.INT="Int",r.FLOAT="Float",r.STRING="String",r.BLOCK_STRING="BlockString",r.COMMENT="Comment"})(R||(R={}));class xS{constructor(e){const t=new gu(R.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==R.EOF)do if(e.next)e=e.next;else{const t=PS(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===R.COMMENT);return e}}function kS(r){return r===R.BANG||r===R.DOLLAR||r===R.AMP||r===R.PAREN_L||r===R.PAREN_R||r===R.SPREAD||r===R.COLON||r===R.EQUALS||r===R.AT||r===R.BRACKET_L||r===R.BRACKET_R||r===R.BRACE_L||r===R.PIPE||r===R.BRACE_R}function ir(r){return r>=0&&r<=55295||r>=57344&&r<=1114111}function $n(r,e){return Iu(r.charCodeAt(e))&&Eu(r.charCodeAt(e+1))}function Iu(r){return r>=55296&&r<=56319}function Eu(r){return r>=56320&&r<=57343}function Pt(r,e){const t=r.source.body.codePointAt(e);if(t===void 0)return R.EOF;if(t>=32&&t<=126){const n=String.fromCodePoint(t);return n==='"'?`'"'`:`"${n}"`}return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function fe(r,e,t,n,i){const s=r.line,o=1+t-r.lineStart;return new gu(e,t,n,s,o,i)}function PS(r,e){const t=r.source.body,n=t.length;let i=e;for(;i<n;){const s=t.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++r.line,r.lineStart=i;continue;case 13:t.charCodeAt(i+1)===10?i+=2:++i,++r.line,r.lineStart=i;continue;case 35:return AS(r,i);case 33:return fe(r,R.BANG,i,i+1);case 36:return fe(r,R.DOLLAR,i,i+1);case 38:return fe(r,R.AMP,i,i+1);case 40:return fe(r,R.PAREN_L,i,i+1);case 41:return fe(r,R.PAREN_R,i,i+1);case 46:if(t.charCodeAt(i+1)===46&&t.charCodeAt(i+2)===46)return fe(r,R.SPREAD,i,i+3);break;case 58:return fe(r,R.COLON,i,i+1);case 61:return fe(r,R.EQUALS,i,i+1);case 64:return fe(r,R.AT,i,i+1);case 91:return fe(r,R.BRACKET_L,i,i+1);case 93:return fe(r,R.BRACKET_R,i,i+1);case 123:return fe(r,R.BRACE_L,i,i+1);case 124:return fe(r,R.PIPE,i,i+1);case 125:return fe(r,R.BRACE_R,i,i+1);case 34:return t.charCodeAt(i+1)===34&&t.charCodeAt(i+2)===34?JS(r,i):MS(r,i)}if(Jr(s)||s===45)return US(r,i,s);if(Tu(s))return BS(r,i);throw ve(r.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:ir(s)||$n(t,i)?`Unexpected character: ${Pt(r,i)}.`:`Invalid character: ${Pt(r,i)}.`)}return fe(r,R.EOF,n,n)}function AS(r,e){const t=r.source.body,n=t.length;let i=e+1;for(;i<n;){const s=t.charCodeAt(i);if(s===10||s===13)break;if(ir(s))++i;else if($n(t,i))i+=2;else break}return fe(r,R.COMMENT,e,i,t.slice(e+1,i))}function US(r,e,t){const n=r.source.body;let i=e,s=t,o=!1;if(s===45&&(s=n.charCodeAt(++i)),s===48){if(s=n.charCodeAt(++i),Jr(s))throw ve(r.source,i,`Invalid number, unexpected digit after 0: ${Pt(r,i)}.`)}else i=Co(r,i,s),s=n.charCodeAt(i);if(s===46&&(o=!0,s=n.charCodeAt(++i),i=Co(r,i,s),s=n.charCodeAt(i)),(s===69||s===101)&&(o=!0,s=n.charCodeAt(++i),(s===43||s===45)&&(s=n.charCodeAt(++i)),i=Co(r,i,s),s=n.charCodeAt(i)),s===46||Tu(s))throw ve(r.source,i,`Invalid number, expected digit but got: ${Pt(r,i)}.`);return fe(r,o?R.FLOAT:R.INT,e,i,n.slice(e,i))}function Co(r,e,t){if(!Jr(t))throw ve(r.source,e,`Invalid number, expected digit but got: ${Pt(r,e)}.`);const n=r.source.body;let i=e+1;for(;Jr(n.charCodeAt(i));)++i;return i}function MS(r,e){const t=r.source.body,n=t.length;let i=e+1,s=i,o="";for(;i<n;){const l=t.charCodeAt(i);if(l===34)return o+=t.slice(s,i),fe(r,R.STRING,e,i+1,o);if(l===92){o+=t.slice(s,i);const a=t.charCodeAt(i+1)===117?t.charCodeAt(i+2)===123?YS(r,i):FS(r,i):HS(r,i);o+=a.value,i+=a.size,s=i;continue}if(l===10||l===13)break;if(ir(l))++i;else if($n(t,i))i+=2;else throw ve(r.source,i,`Invalid character within String: ${Pt(r,i)}.`)}throw ve(r.source,i,"Unterminated string.")}function YS(r,e){const t=r.source.body;let n=0,i=3;for(;i<12;){const s=t.charCodeAt(e+i++);if(s===125){if(i<5||!ir(n))break;return{value:String.fromCodePoint(n),size:i}}if(n=n<<4|Br(s),n<0)break}throw ve(r.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+i)}".`)}function FS(r,e){const t=r.source.body,n=wu(t,e+2);if(ir(n))return{value:String.fromCodePoint(n),size:6};if(Iu(n)&&t.charCodeAt(e+6)===92&&t.charCodeAt(e+7)===117){const i=wu(t,e+8);if(Eu(i))return{value:String.fromCodePoint(n,i),size:12}}throw ve(r.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+6)}".`)}function wu(r,e){return Br(r.charCodeAt(e))<<12|Br(r.charCodeAt(e+1))<<8|Br(r.charCodeAt(e+2))<<4|Br(r.charCodeAt(e+3))}function Br(r){return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:-1}function HS(r,e){const t=r.source.body;switch(t.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw ve(r.source,e,`Invalid character escape sequence: "${t.slice(e,e+2)}".`)}function JS(r,e){const t=r.source.body,n=t.length;let i=r.lineStart,s=e+3,o=s,l="";const a=[];for(;s<n;){const c=t.charCodeAt(s);if(c===34&&t.charCodeAt(s+1)===34&&t.charCodeAt(s+2)===34){l+=t.slice(o,s),a.push(l);const u=fe(r,R.BLOCK_STRING,e,s+3,OS(a).join(`
`));return r.line+=a.length-1,r.lineStart=i,u}if(c===92&&t.charCodeAt(s+1)===34&&t.charCodeAt(s+2)===34&&t.charCodeAt(s+3)===34){l+=t.slice(o,s),o=s+1,s+=4;continue}if(c===10||c===13){l+=t.slice(o,s),a.push(l),c===13&&t.charCodeAt(s+1)===10?s+=2:++s,l="",o=s,i=s;continue}if(ir(c))++s;else if($n(t,s))s+=2;else throw ve(r.source,s,`Invalid character within String: ${Pt(r,s)}.`)}throw ve(r.source,s,"Unterminated string.")}function BS(r,e){const t=r.source.body,n=t.length;let i=e+1;for(;i<n;){const s=t.charCodeAt(i);if(VS(s))++i;else break}return fe(r,R.NAME,e,i,t.slice(e,i))}const KS=10,Zu=2;function Lo(r){return qn(r,[])}function qn(r,e){switch(typeof r){case"string":return JSON.stringify(r);case"function":return r.name?`[function ${r.name}]`:"[function]";case"object":return DS(r,e);default:return String(r)}}function DS(r,e){if(r===null)return"null";if(e.includes(r))return"[Circular]";const t=[...e,r];if(zS(r)){const n=r.toJSON();if(n!==r)return typeof n=="string"?n:qn(n,t)}else if(Array.isArray(r))return QS(r,t);return jS(r,t)}function zS(r){return typeof r.toJSON=="function"}function jS(r,e){const t=Object.entries(r);return t.length===0?"{}":e.length>Zu?"["+$S(r)+"]":"{ "+t.map(([i,s])=>i+": "+qn(s,e)).join(", ")+" }"}function QS(r,e){if(r.length===0)return"[]";if(e.length>Zu)return"[Array]";const t=Math.min(KS,r.length),n=r.length-t,i=[];for(let s=0;s<t;++s)i.push(qn(r[s],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function $S(r){const e=Object.prototype.toString.call(r).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof r.constructor=="function"){const t=r.constructor.name;if(typeof t=="string"&&t!=="")return t}return e}const qS=globalThis.process&&globalThis.process.env.NODE_ENV==="production"?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if(typeof e=="object"&&e!==null){var n;const i=t.prototype[Symbol.toStringTag],s=Symbol.toStringTag in e?e[Symbol.toStringTag]:(n=e.constructor)===null||n===void 0?void 0:n.name;if(i===s){const o=Lo(e);throw new Error(`Cannot use ${i} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class _u{constructor(e,t="GraphQL request",n={line:1,column:1}){typeof e=="string"||Qn(!1,`Body must be a string. Received: ${Lo(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||Qn(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Qn(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function ev(r){return qS(r,_u)}function Go(r,e){return new tv(r,e).parseDocument()}class tv{constructor(e,t={}){const n=ev(e)?e:new _u(e);this._lexer=new xS(n),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(R.NAME);return this.node(e,{kind:O.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:O.DOCUMENT,definitions:this.many(R.SOF,this.parseDefinition,R.EOF)})}parseDefinition(){if(this.peek(R.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===R.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw ve(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(R.BRACE_L))return this.node(e,{kind:O.OPERATION_DEFINITION,operation:nr.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(R.NAME)&&(n=this.parseName()),this.node(e,{kind:O.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(R.NAME);switch(e.value){case"query":return nr.QUERY;case"mutation":return nr.MUTATION;case"subscription":return nr.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(R.PAREN_L,this.parseVariableDefinition,R.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:O.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(R.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(R.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(R.DOLLAR),this.node(e,{kind:O.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:O.SELECTION_SET,selections:this.many(R.BRACE_L,this.parseSelection,R.BRACE_R)})}parseSelection(){return this.peek(R.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,i;return this.expectOptionalToken(R.COLON)?(n=t,i=this.parseName()):i=t,this.node(e,{kind:O.FIELD,alias:n,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(R.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(R.PAREN_L,t,R.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(R.COLON),this.node(t,{kind:O.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(R.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(R.NAME)?this.node(e,{kind:O.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:O.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case R.BRACKET_L:return this.parseList(e);case R.BRACE_L:return this.parseObject(e);case R.INT:return this.advanceLexer(),this.node(t,{kind:O.INT,value:t.value});case R.FLOAT:return this.advanceLexer(),this.node(t,{kind:O.FLOAT,value:t.value});case R.STRING:case R.BLOCK_STRING:return this.parseStringLiteral();case R.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:O.BOOLEAN,value:!0});case"false":return this.node(t,{kind:O.BOOLEAN,value:!1});case"null":return this.node(t,{kind:O.NULL});default:return this.node(t,{kind:O.ENUM,value:t.value})}case R.DOLLAR:if(e)if(this.expectToken(R.DOLLAR),this._lexer.token.kind===R.NAME){const n=this._lexer.token.value;throw ve(this._lexer.source,t.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:O.STRING,value:e.value,block:e.kind===R.BLOCK_STRING})}parseList(e){const t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:O.LIST,values:this.any(R.BRACKET_L,t,R.BRACKET_R)})}parseObject(e){const t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:O.OBJECT,fields:this.any(R.BRACE_L,t,R.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(R.COLON),this.node(t,{kind:O.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(R.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(R.AT),this.node(t,{kind:O.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(R.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(R.BRACKET_R),t=this.node(e,{kind:O.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(R.BANG)?this.node(e,{kind:O.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:O.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(R.STRING)||this.peek(R.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.many(R.BRACE_L,this.parseOperationTypeDefinition,R.BRACE_R);return this.node(e,{kind:O.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(R.COLON);const n=this.parseNamedType();return this.node(e,{kind:O.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:O.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:O.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(R.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(R.BRACE_L,this.parseFieldDefinition,R.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(R.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:O.FIELD_DEFINITION,description:t,name:n,arguments:i,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(R.PAREN_L,this.parseInputValueDef,R.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(R.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(R.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:O.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:O.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:s,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:O.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(R.EQUALS)?this.delimitedMany(R.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:O.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(R.BRACE_L,this.parseEnumValueDefinition,R.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:O.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw ve(this._lexer.source,this._lexer.token.start,`${ei(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:O.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(R.BRACE_L,this.parseInputValueDef,R.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===R.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(R.BRACE_L,this.parseOperationTypeDefinition,R.BRACE_R);if(t.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:O.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:O.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:O.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:O.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:O.UNION_TYPE_EXTENSION,name:t,directives:n,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:O.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:O.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(R.AT);const n=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:O.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(R.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(Zo,t.value))return t;throw this.unexpected(e)}node(e,t){return this._options.noLocation!==!0&&(t.loc=new GS(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw ve(this._lexer.source,t.start,`Expected ${Cu(e)}, found ${ei(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const t=this._lexer.token;if(t.kind===R.NAME&&t.value===e)this.advanceLexer();else throw ve(this._lexer.source,t.start,`Expected "${e}", found ${ei(t)}.`)}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===R.NAME&&t.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const t=e!=null?e:this._lexer.token;return ve(this._lexer.source,t.start,`Unexpected ${ei(t)}.`)}any(e,t,n){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(n);)i.push(t.call(this));return i}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i}return[]}many(e,t,n){this.expectToken(e);const i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do n.push(t.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(e!==void 0&&t.kind!==R.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw ve(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function ei(r){const e=r.value;return Cu(r.kind)+(e!=null?` "${e}"`:"")}function Cu(r){return kS(r)?`"${r}"`:r}function rv(r){return`"${r.replace(nv,iv)}"`}const nv=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function iv(r){return sv[r.charCodeAt(0)]}const sv=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],ov=Object.freeze({});function av(r,e,t=Su){const n=new Map;for(const b of Object.values(O))n.set(b,lv(e,b));let i,s=Array.isArray(r),o=[r],l=-1,a=[],c=r,u,d;const h=[],p=[];do{l++;const b=l===o.length,S=b&&a.length!==0;if(b){if(u=p.length===0?void 0:h[h.length-1],c=d,d=p.pop(),S)if(s){c=c.slice();let T=0;for(const[C,N]of a){const w=C-T;N===null?(c.splice(w,1),T++):c[w]=N}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[T,C]of a)c[T]=C}l=i.index,o=i.keys,a=i.edits,s=i.inArray,i=i.prev}else if(d){if(u=s?l:o[l],c=d[u],c==null)continue;h.push(u)}let v;if(!Array.isArray(c)){var m,f;vu(c)||Qn(!1,`Invalid AST Node: ${Lo(c)}.`);const T=b?(m=n.get(c.kind))===null||m===void 0?void 0:m.leave:(f=n.get(c.kind))===null||f===void 0?void 0:f.enter;if(v=T==null?void 0:T.call(e,c,u,d,h,p),v===ov)break;if(v===!1){if(!b){h.pop();continue}}else if(v!==void 0&&(a.push([u,v]),!b))if(vu(v))c=v;else{h.pop();continue}}if(v===void 0&&S&&a.push([u,c]),b)h.pop();else{var y;i={inArray:s,index:l,keys:o,edits:a,prev:i},s=Array.isArray(c),o=s?c:(y=t[c.kind])!==null&&y!==void 0?y:[],l=-1,a=[],d&&p.push(d),d=c}}while(i!==void 0);return a.length!==0?a[a.length-1][1]:r}function lv(r,e){const t=r[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:r.enter,leave:r.leave}}function Lu(r){return av(r,uv)}const cv=80,uv={Name:{leave:r=>r.value},Variable:{leave:r=>"$"+r.name},Document:{leave:r=>G(r.definitions,`

`)},OperationDefinition:{leave(r){const e=J("(",G(r.variableDefinitions,", "),")"),t=G([r.operation,G([r.name,e]),G(r.directives," ")]," ");return(t==="query"?"":t+" ")+r.selectionSet}},VariableDefinition:{leave:({variable:r,type:e,defaultValue:t,directives:n})=>r+": "+e+J(" = ",t)+J(" ",G(n," "))},SelectionSet:{leave:({selections:r})=>Fe(r)},Field:{leave({alias:r,name:e,arguments:t,directives:n,selectionSet:i}){const s=J("",r,": ")+e;let o=s+J("(",G(t,", "),")");return o.length>cv&&(o=s+J(`(
`,ti(G(t,`
`)),`
)`)),G([o,G(n," "),i]," ")}},Argument:{leave:({name:r,value:e})=>r+": "+e},FragmentSpread:{leave:({name:r,directives:e})=>"..."+r+J(" ",G(e," "))},InlineFragment:{leave:({typeCondition:r,directives:e,selectionSet:t})=>G(["...",J("on ",r),G(e," "),t]," ")},FragmentDefinition:{leave:({name:r,typeCondition:e,variableDefinitions:t,directives:n,selectionSet:i})=>`fragment ${r}${J("(",G(t,", "),")")} on ${e} ${J("",G(n," ")," ")}`+i},IntValue:{leave:({value:r})=>r},FloatValue:{leave:({value:r})=>r},StringValue:{leave:({value:r,block:e})=>e?WS(r):rv(r)},BooleanValue:{leave:({value:r})=>r?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:r})=>r},ListValue:{leave:({values:r})=>"["+G(r,", ")+"]"},ObjectValue:{leave:({fields:r})=>"{"+G(r,", ")+"}"},ObjectField:{leave:({name:r,value:e})=>r+": "+e},Directive:{leave:({name:r,arguments:e})=>"@"+r+J("(",G(e,", "),")")},NamedType:{leave:({name:r})=>r},ListType:{leave:({type:r})=>"["+r+"]"},NonNullType:{leave:({type:r})=>r+"!"},SchemaDefinition:{leave:({description:r,directives:e,operationTypes:t})=>J("",r,`
`)+G(["schema",G(e," "),Fe(t)]," ")},OperationTypeDefinition:{leave:({operation:r,type:e})=>r+": "+e},ScalarTypeDefinition:{leave:({description:r,name:e,directives:t})=>J("",r,`
`)+G(["scalar",e,G(t," ")]," ")},ObjectTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:i})=>J("",r,`
`)+G(["type",e,J("implements ",G(t," & ")),G(n," "),Fe(i)]," ")},FieldDefinition:{leave:({description:r,name:e,arguments:t,type:n,directives:i})=>J("",r,`
`)+e+(Gu(t)?J(`(
`,ti(G(t,`
`)),`
)`):J("(",G(t,", "),")"))+": "+n+J(" ",G(i," "))},InputValueDefinition:{leave:({description:r,name:e,type:t,defaultValue:n,directives:i})=>J("",r,`
`)+G([e+": "+t,J("= ",n),G(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:i})=>J("",r,`
`)+G(["interface",e,J("implements ",G(t," & ")),G(n," "),Fe(i)]," ")},UnionTypeDefinition:{leave:({description:r,name:e,directives:t,types:n})=>J("",r,`
`)+G(["union",e,G(t," "),J("= ",G(n," | "))]," ")},EnumTypeDefinition:{leave:({description:r,name:e,directives:t,values:n})=>J("",r,`
`)+G(["enum",e,G(t," "),Fe(n)]," ")},EnumValueDefinition:{leave:({description:r,name:e,directives:t})=>J("",r,`
`)+G([e,G(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:r,name:e,directives:t,fields:n})=>J("",r,`
`)+G(["input",e,G(t," "),Fe(n)]," ")},DirectiveDefinition:{leave:({description:r,name:e,arguments:t,repeatable:n,locations:i})=>J("",r,`
`)+"directive @"+e+(Gu(t)?J(`(
`,ti(G(t,`
`)),`
)`):J("(",G(t,", "),")"))+(n?" repeatable":"")+" on "+G(i," | ")},SchemaExtension:{leave:({directives:r,operationTypes:e})=>G(["extend schema",G(r," "),Fe(e)]," ")},ScalarTypeExtension:{leave:({name:r,directives:e})=>G(["extend scalar",r,G(e," ")]," ")},ObjectTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>G(["extend type",r,J("implements ",G(e," & ")),G(t," "),Fe(n)]," ")},InterfaceTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>G(["extend interface",r,J("implements ",G(e," & ")),G(t," "),Fe(n)]," ")},UnionTypeExtension:{leave:({name:r,directives:e,types:t})=>G(["extend union",r,G(e," "),J("= ",G(t," | "))]," ")},EnumTypeExtension:{leave:({name:r,directives:e,values:t})=>G(["extend enum",r,G(e," "),Fe(t)]," ")},InputObjectTypeExtension:{leave:({name:r,directives:e,fields:t})=>G(["extend input",r,G(e," "),Fe(t)]," ")}};function G(r,e=""){var t;return(t=r==null?void 0:r.filter(n=>n).join(e))!==null&&t!==void 0?t:""}function Fe(r){return J(`{
`,ti(G(r,`
`)),`
}`)}function J(r,e,t=""){return e!=null&&e!==""?r+e+t:""}function ti(r){return J("  ",r.replace(/\n/g,`
  `))}function Gu(r){var e;return(e=r==null?void 0:r.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}/*! js-cookie v3.0.5 | MIT */function ri(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)r[n]=t[n]}return r}var dv={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function No(r,e){function t(i,s,o){if(typeof document!="undefined"){o=ri({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var a in o)o[a]&&(l+="; "+a,o[a]!==!0&&(l+="="+o[a].split(";")[0]));return document.cookie=i+"="+r.write(s,i)+l}}function n(i){if(!(typeof document=="undefined"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},l=0;l<s.length;l++){var a=s[l].split("="),c=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(o[u]=r.read(c,u),i===u)break}catch(d){}}return i?o[i]:o}}return Object.create({set:t,get:n,remove:function(i,s){t(i,"",ri({},s,{expires:-1}))},withAttributes:function(i){return No(this.converter,ri({},this.attributes,i))},withConverter:function(i){return No(ri({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(r)}})}var Vo=No(dv,{path:"/"});let Oo="localStorage",Xo=!0;class hv{constructor(){_(this,"storage",{})}getItem(e){var t;return(t=this.storage[e])!=null?t:""}setItem(e,t){this.storage[e]=t}removeItem(e){delete this.storage[e]}}class pv{getItem(e){var t;return(t=Vo.get(e))!=null?t:""}setItem(e,t){if(!Xo)return;const n=new Date;n.setTime(n.getTime()+Xe),Vo.set(e,t,{expires:n})}removeItem(e){Xo&&Vo.remove(e)}}let fv=new hv;const ni=new pv,Wo=()=>{try{switch(Oo){case"localStorage":return window.localStorage;case"sessionStorage":return window.sessionStorage}}catch(r){return fv}},mv=r=>{Oo=r},Nu=r=>{Xo=r},ke=r=>Wo().getItem(r),ct=(r,e)=>(ni.setItem(r,e),Wo().setItem(r,e)),xo=r=>(ni.removeItem(r),Wo().removeItem(r)),yv=r=>{if(Oo==="sessionStorage"){console.warn("highlight.io cannot use local storage; segment integration will not work");return}const e=window.localStorage.setItem;window.localStorage.setItem=function(){const[t,n]=arguments;r({keyName:t,keyValue:n}),e.apply(this,[t,n])}};var Ze;(function(r){r.SEGMENT_LAST_SENT_HASH_KEY="HIGHLIGHT_SEGMENT_LAST_SENT_HASH_KEY",r.SESSION_ID="sessionID",r.SESSION_DATA="sessionData",r.USER_IDENTIFIER="highlightIdentifier",r.USER_OBJECT="highlightUserObject"})(Ze||(Ze={}));const ii=r=>`${Ze.SESSION_DATA}_${r}`;let Vu="";const bv=()=>Vu,gv=r=>{r&&(Vu=r)},Sv=()=>{var r;return(r=ke(Ze.SESSION_ID))!=null?r:""},si=r=>{ct(Ze.SESSION_ID,r)},vv=r=>{const e=ii(r);return JSON.parse(ke(e)||"{}")},sr=r=>{r||(r=Sv());let e=vv(r);if(e&&e.lastPushTime&&Date.now()-e.lastPushTime<Xe)return e;xo(ii(r))},or=function(r){if(!(r!=null&&r.sessionSecureID))return;const e=r.sessionSecureID;gv(e),ct(ii(e),JSON.stringify(r))},Rv=function(){const r=ni.getItem(Ze.SESSION_ID);si(r);const e=ii(r),t=ni.getItem(e);try{or(JSON.parse(t))}catch(n){}},Ou=(r,e,t)=>{const n=Xu(e,r.headers,t);return se(I({},r),{headers:n})},Xu=(r,e,t)=>{var i,s;const n=I({},e);return t?((i=Object.keys(n))==null||i.forEach(o=>{[...t].includes(o==null?void 0:o.toLowerCase())||(n[o]="[REDACTED]")}),n):((s=Object.keys(n))==null||s.forEach(o=>{[...Tv,...r].includes(o==null?void 0:o.toLowerCase())&&(n[o]="[REDACTED]")}),n)},Tv=["authorization","cookie","proxy-authorization","token"],Wu=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"],xu="X-Highlight-Request",ku=r=>{let e=r;return!r.startsWith("https://")&&!r.startsWith("http://")&&(e=`${window.location.origin}${e}`),e.replace(/\/+$/,"")},Iv=(r,{headersToRedact:e,headersToRecord:t,requestResponseSanitizer:n})=>{var a,c;let i=r;if(n){let d=!0;try{i.request.body=JSON.parse(i.request.body)}catch(p){d=!1}let h=!0;try{i.response.body=JSON.parse(i.response.body)}catch(p){h=!1}try{i=n(i)}catch(p){}finally{d=d&&!!((a=i==null?void 0:i.request)!=null&&a.body),h=h&&!!((c=i==null?void 0:i.response)!=null&&c.body),d&&(i.request.body=JSON.stringify(i.request.body)),h&&(i.response.body=JSON.stringify(i.response.body))}if(!i)return null}const u=i,{request:s,response:o}=u,l=Ve(u,["request","response"]);return I({request:Ou(s,e,t),response:Ou(o,e,t)},l)},Pu=(r,e,t,n)=>{r.sort((a,c)=>a.responseEnd-c.responseEnd);const i={xmlhttprequest:{},others:{},fetch:{}},s=r.reduce((a,c)=>{const u=ku(c.name);return c.initiatorType===t?a[t][u]=[...a[t][u]||[],c]:a.others[u]=[...a.others[u]||[],c],a},i);let o={};o=e.reduce((a,c)=>{const u=ku(c.request.url);return a[u]=[...a[u]||[],c],a},o);for(let a in s[t]){const c=s[t][a],u=o[a];if(!u)continue;const d=Math.max(c.length-u.length,0);for(let h=d;h<c.length;h++)c[h]&&(c[h].requestResponsePair=u[h-d])}let l=[];for(let a in s)for(let c in s[a])l=l.concat(s[a][c]);return l.sort((a,c)=>a.fetchStart-c.fetchStart).reduce((a,c)=>{let u=c.requestResponsePair;return u&&(u=Iv(c.requestResponsePair,n),!u)||(c.toJSON=function(){const d=window.performance.timeOrigin;return{initiatorType:this.initiatorType,startTimeAbs:d+this.startTime,connectStartAbs:d+this.connectStart,connectEndAbs:d+this.connectEnd,domainLookupStartAbs:d+this.domainLookupStart,domainLookupEndAbs:d+this.domainLookupEnd,fetchStartAbs:d+this.fetchStart,redirectStartAbs:d+this.redirectStart,redirectEndAbs:d+this.redirectEnd,requestStartAbs:d+this.requestStart,responseStartAbs:d+this.responseStart,responseEndAbs:d+this.responseEnd,secureConnectionStartAbs:d+this.secureConnectionStart,workerStartAbs:d+this.workerStart,name:this.name,transferSize:this.transferSize,encodedBodySize:this.encodedBodySize,decodedBodySize:this.decodedBodySize,nextHopProtocol:this.nextHopProtocol,requestResponsePairs:u}},a.push(c)),a},[])},Ev=(r,e)=>r.toLocaleLowerCase().includes("https://pub.highlight.io")||r.toLocaleLowerCase().includes("pub.highlight.io")||r.toLocaleLowerCase().includes("otel.highlight.io")||e.some(t=>r.toLocaleLowerCase().includes(t)),oi=(r,e,t)=>!Ev(r,e)||ko(r,t!=null?t:[],[]),ko=(r,e,t)=>{var s;if(t.some(o=>r.toLowerCase().includes(o)))return!1;let n=[];e===!0?(n=["localhost",/^\//],(s=window==null?void 0:window.location)!=null&&s.host&&n.push(window.location.host)):e instanceof Array&&(n=e);let i=!1;return n.forEach(o=>{r.match(o)&&(i=!0)}),i};function wv(r){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,i=0;i<r;i++)e+=t.charAt(Math.floor(Math.random()*n));return e}const Po=()=>{const r=wv(10),e=TT(),t=e==null?void 0:e.spanContext().traceId;return[bv(),t!=null?t:r]},Au=(r,e)=>r+"/"+e,Zv=(r,e,t,n,i,s)=>{const o=XMLHttpRequest.prototype,l=o.open,a=o.send,c=o.setRequestHeader;return o.open=function(u,d){return typeof d=="string"?this._url=d:this._url=d.toString(),this._method=u,this._requestHeaders={},this._shouldRecordHeaderAndBody=!n.some(h=>this._url.toLowerCase().includes(h)),l.apply(this,arguments)},o.setRequestHeader=function(u,d){return this._requestHeaders[u]=d,c.apply(this,arguments)},o.send=function(u){if(!oi(this._url,e,t))return a.apply(this,arguments);const[d,h]=Po();ko(this._url,t,n)&&this.setRequestHeader(xu,Au(d,h));const p=this._shouldRecordHeaderAndBody,m={sessionSecureID:d,id:h,url:this._url,verb:this._method,headers:p?this._requestHeaders:{},body:void 0};if(p&&u){const f=Uu(u,m.url);f&&(this._body=f,m.body=St(f,i,s,m.headers))}return this.addEventListener("load",function(){return $(this,null,function*(){const f={status:this.status,headers:{},body:void 0};if(p){const S=this.getAllResponseHeaders().trim().split(/[\r\n]+/),v={};if(S.forEach(function(T){const C=T.split(": "),N=C.shift();v[N]=C.join(": ")}),f.headers=v,u){const T=Uu(u,m.url);T&&(m.body=St(T,i,s,f.headers))}if(this.responseType===""||this.responseType==="text")f.body=St(this.responseText,i,s,f.headers),f.size=this.responseText.length*8;else if(this.responseType==="blob"){if(this.response instanceof Blob)try{const T=yield this.response.text();f.body=St(T,i,s,f.headers),f.size=this.response.size}catch(T){}}else try{f.body=St(this.response,i,s,f.headers)}catch(T){}}r({request:m,response:f,urlBlocked:!p})})}),this.addEventListener("error",function(){return $(this,null,function*(){const f={status:this.status,headers:void 0,body:void 0};r({request:m,response:f,urlBlocked:!1})})}),a.apply(this,arguments)},()=>{o.open=l,o.send=a,o.setRequestHeader=c}},Uu=(r,e)=>{if(typeof r=="string"){if(!((e!=null&&e.includes("localhost")||e!=null&&e.includes("highlight.run"))&&r.includes("pushPayload")))return r}else if(typeof r=="object"||typeof r=="number"||typeof r=="boolean")return Gt(r);return null},Mu=64*1024,_v={"application/json":64*1024*1024,"text/plain":64*1024*1024},St=(r,e,t,n)=>{var s,o,l;let i=Mu;if(n){let a="";typeof n.get=="function"?a=(s=n.get("content-type"))!=null?s:"":a=(o=n["content-type"])!=null?o:"";try{a=a.split(";")[0]}catch(c){}i=(l=_v[a])!=null?l:Mu}if(r){if(e)try{const a=JSON.parse(r);Array.isArray(a)?a.forEach(c=>{Object.keys(c).forEach(u=>{e.includes(u.toLocaleLowerCase())&&(c[u]="[REDACTED]")})}):Object.keys(a).forEach(c=>{e.includes(c.toLocaleLowerCase())&&(a[c]="[REDACTED]")}),r=JSON.stringify(a)}catch(a){}if(t)try{const a=JSON.parse(r);Object.keys(a).forEach(c=>{t.includes(c.toLocaleLowerCase())||(a[c]="[REDACTED]")}),r=JSON.stringify(a)}catch(a){}}try{r=r.slice(0,i)}catch(a){}return r},Cv=(r,e,t,n,i,s)=>{const o=window._fetchProxy;return window._fetchProxy=function(l,a){const{method:c,url:u}=Lv(l,a);if(!oi(u,e,t))return o.call(this,l,a);const[d,h]=Po();if(ko(u,t,n)){a=a||{};let y=new Headers(a.headers);l instanceof Request&&[...l.headers].forEach(([b,S])=>y.set(b,S)),y.set(xu,Au(d,h)),a.headers=Object.fromEntries(y.entries())}const p={sessionSecureID:d,id:h,headers:{},body:void 0,url:u,verb:c},m=!n.some(y=>u.toLowerCase().includes(y));m&&(p.headers=Object.fromEntries(new Headers(a==null?void 0:a.headers).entries()),p.body=St(a==null?void 0:a.body,i,s,a==null?void 0:a.headers));let f=o.call(this,l,a);return Gv(f,p,r,m,i,s),f},()=>{window._fetchProxy=o}},Lv=(r,e)=>{const t=e&&e.method||typeof r=="object"&&"method"in r&&r.method||"GET";let n;return typeof r=="object"?"url"in r&&r.url?n=r.url:n=r.toString():n=r,{method:t,url:n}},Gv=(r,e,t,n,i,s)=>{const o=l=>$(this,null,function*(){let a={body:void 0,headers:void 0,status:0,size:0},c=!1,u=!n;"stack"in l||l instanceof Error?(a=se(I({},a),{body:l.message,status:0,size:void 0}),c=!0):"status"in l&&(a=se(I({},a),{status:l.status}),n&&(a.body=yield Yu(l,s,i),a.headers=Object.fromEntries(l.headers.entries()),a.size=a.body.length*8),(l.type==="opaque"||l.type==="opaqueredirect")&&(u=!0,a=se(I({},a),{body:"CORS blocked request"})),c=!0),c&&t({request:e,response:a,urlBlocked:u})});r.then(o).catch(()=>{})},Yu=(r,e,t)=>$(this,null,function*(){let n;try{const s=r.clone().body;if(s){let o=s.getReader(),l=new TextDecoder,a,c="";for(;!(a=yield o.read()).done;){let u=a.value;c+=l.decode(u)}n=c,n=St(n,t,e,r.headers)}else n=""}catch(i){n=`Unable to clone response: ${i}`}return n});var Nv="=",Ao=";",Fu=",",Vv=8192,Ov=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s};function Xv(r){return r.reduce(function(e,t){var n=""+e+(e!==""?Fu:"")+t;return n.length>Vv?e:n},"")}function Wv(r){return r.getAllEntries().map(function(e){var t=Ov(e,2),n=t[0],i=t[1],s=encodeURIComponent(n)+"="+encodeURIComponent(i.value);return i.metadata!==void 0&&(s+=Ao+i.metadata.toString()),s})}function Hu(r){var e=r.split(Ao);if(!(e.length<=0)){var t=e.shift();if(t){var n=t.indexOf(Nv);if(!(n<=0)){var i=decodeURIComponent(t.substring(0,n).trim()),s=decodeURIComponent(t.substring(n+1).trim()),o;return e.length>0&&(o=Ws(e.join(Ao))),{key:i,value:s,metadata:o}}}}}function xv(r){return typeof r!="string"||r.length===0?{}:r.split(Fu).map(function(e){return Hu(e)}).filter(function(e){return e!==void 0&&e.value.length>0}).reduce(function(e,t){return e[t.key]=t.value,e},{})}var Uo;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(Uo||(Uo={}));var kv=",",Pv=["OTEL_SDK_DISABLED"];function Av(r){return Pv.indexOf(r)>-1}var Uv=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Mv(r){return Uv.indexOf(r)>-1}var Yv=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Fv(r){return Yv.indexOf(r)>-1}var Mo=1/0,Yo=128,Hv=128,Jv=128,Ju={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:te.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Mo,OTEL_ATTRIBUTE_COUNT_LIMIT:Yo,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Mo,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Yo,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Mo,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Yo,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:Hv,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Jv,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Uo.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function Bv(r,e,t){if(typeof t[r]!="undefined"){var n=String(t[r]);e[r]=n.toLowerCase()==="true"}}function Kv(r,e,t,n,i){if(n===void 0&&(n=-1/0),i===void 0&&(i=1/0),typeof t[r]!="undefined"){var s=Number(t[r]);isNaN(s)||(s<n?e[r]=n:s>i?e[r]=i:e[r]=s)}}function Dv(r,e,t,n){n===void 0&&(n=kv);var i=t[r];typeof i=="string"&&(e[r]=i.split(n).map(function(s){return s.trim()}))}var zv={ALL:te.ALL,VERBOSE:te.VERBOSE,DEBUG:te.DEBUG,INFO:te.INFO,WARN:te.WARN,ERROR:te.ERROR,NONE:te.NONE};function jv(r,e,t){var n=t[r];if(typeof n=="string"){var i=zv[n.toUpperCase()];i!=null&&(e[r]=i)}}function Qv(r){var e={};for(var t in Ju){var n=t;switch(n){case"OTEL_LOG_LEVEL":jv(n,e,r);break;default:if(Av(n))Bv(n,e,r);else if(Mv(n))Kv(n,e,r);else if(Fv(n))Dv(n,e,r);else{var i=r[n];typeof i!="undefined"&&i!==null&&(e[n]=String(i))}}}return e}var $v=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};function Fo(){var r=Qv($v);return Object.assign({},Ju,r)}var ar;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(ar||(ar={}));var qv=function(){function r(){var e=this;this._promise=new Promise(function(t,n){e._resolve=t,e._reject=n})}return Object.defineProperty(r.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),r.prototype.resolve=function(e){this._resolve(e)},r.prototype.reject=function(e){this._reject(e)},r}(),eR=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},tR=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},rR=function(){function r(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new qv}return Object.defineProperty(r.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),r.prototype.call=function(){for(var e,t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,tR([this._that],eR(n),!1))).then(function(s){return t._deferred.resolve(s)},function(s){return t._deferred.reject(s)})}catch(s){this._deferred.reject(s)}}return this._deferred.promise},r}(),nR={getKeyPairs:Wv,serializeKeyPairs:Xv,parseKeyPairsIntoRecord:xv,parsePairKeyValue:Hu},iR=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},Bu=1e4;function sR(r){r===void 0&&(r={});var e={};return Object.entries(r).forEach(function(t){var n=iR(t,2),i=n[0],s=n[1];typeof s!="undefined"?e[i]=String(s):M.warn('Header "'+i+'" has invalid value ('+s+") and will be ignored")}),e}function oR(r){return typeof r=="number"?r<=0?Ku(r,Bu):r:aR()}function aR(){var r,e=Number((r=Fo().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&r!==void 0?r:Fo().OTEL_EXPORTER_OTLP_TIMEOUT);return e<=0?Ku(e,Bu):e}function Ku(r,e){return M.warn("Timeout must be greater than 0",r),e}function lR(r){var e=[429,502,503,504];return e.includes(r)}function cR(r){if(r==null)return-1;var e=Number.parseInt(r,10);if(Number.isInteger(e))return e>0?e*1e3:-1;var t=new Date(r).getTime()-Date.now();return t>=0?t:0}var uR=function(){function r(e){e===void 0&&(e={}),this._sendingPromises=[],this.url=this.getDefaultUrl(e),typeof e.hostname=="string"&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new rR(this._shutdown,this),this._concurrencyLimit=typeof e.concurrencyLimit=="number"?e.concurrencyLimit:30,this.timeoutMillis=oR(e.timeoutMillis),this.onInit(e)}return r.prototype.export=function(e,t){if(this._shutdownOnce.isCalled){t({code:ar.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){t({code:ar.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(e).then(function(){t({code:ar.SUCCESS})}).catch(function(n){t({code:ar.FAILED,error:n})})},r.prototype._export=function(e){var t=this;return new Promise(function(n,i){try{M.debug("items to be sent",e),t.send(e,n,i)}catch(s){i(s)}})},r.prototype.shutdown=function(){return this._shutdownOnce.call()},r.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then(function(){})},r.prototype._shutdown=function(){return M.debug("shutdown started"),this.onShutdown(),this.forceFlush()},r}(),dR=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Du=function(r){dR(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.name="OTLPExporterError",s.data=i,s.code=n,s}return e}(Error),hR=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s},pR=function(){function r(e){this._parameters=e}return r.prototype.send=function(e,t){var n=this;return new Promise(function(i){var s=new XMLHttpRequest;s.timeout=t,s.open("POST",n._parameters.url),Object.entries(n._parameters.headers).forEach(function(o){var l=hR(o,2),a=l[0],c=l[1];s.setRequestHeader(a,c)}),s.ontimeout=function(o){i({status:"failure",error:new Error("XHR request timed out")})},s.onreadystatechange=function(){s.status>=200&&s.status<=299?(M.debug("XHR success"),i({status:"success"})):s.status&&lR(s.status)?i({status:"retryable",retryInMillis:cR(s.getResponseHeader("Retry-After"))}):s.status!==0&&i({status:"failure",error:new Error("XHR request failed with non-retryable status")})},s.onabort=function(){i({status:"failure",error:new Error("XHR request aborted")})},s.onerror=function(){i({status:"failure",error:new Error("XHR request errored")})},s.send(new Blob([e],{type:n._parameters.headers["Content-Type"]}))})},r.prototype.shutdown=function(){},r}();function fR(r){return new pR(r)}var mR=function(){function r(e){this._params=e}return r.prototype.send=function(e){var t=this;return new Promise(function(n){navigator.sendBeacon(t._params.url,new Blob([e],{type:t._params.blobType}))?(M.debug("SendBeacon success"),n({status:"success"})):n({status:"failure",error:new Error("SendBeacon failed")})})},r.prototype.shutdown=function(){},r}();function yR(r){return new mR(r)}var bR=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(d){o(d)}}function a(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(l,a)}c((n=n.apply(r,e||[])).next())})},gR=function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(u){return a([c,u])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},SR=5,vR=1e3,RR=5e3,TR=1.5,zu=.2;function IR(){return Math.random()*(2*zu)-zu}var ER=function(){function r(e){this._transport=e}return r.prototype.retry=function(e,t,n){var i=this;return new Promise(function(s,o){setTimeout(function(){i._transport.send(e,t).then(s,o)},n)})},r.prototype.send=function(e,t){var n;return bR(this,void 0,void 0,function(){var i,s,o,l,a,c,u;return gR(this,function(d){switch(d.label){case 0:return i=Date.now()+t,[4,this._transport.send(e,t)];case 1:s=d.sent(),o=SR,l=vR,d.label=2;case 2:return s.status==="retryable"&&o>0?(o--,a=Math.max(Math.min(l,RR)+IR(),0),l=l*TR,c=(n=s.retryInMillis)!==null&&n!==void 0?n:a,u=i-Date.now(),c>u?[2,s]:[4,this.retry(e,u,c)]):[3,4];case 3:return s=d.sent(),[3,2];case 4:return[2,s]}})})},r.prototype.shutdown=function(){return this._transport.shutdown()},r}();function wR(r){return new ER(r.transport)}var ZR=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_R=function(r){ZR(e,r);function e(t,n,i){t===void 0&&(t={});var s=r.call(this,t)||this;s._serializer=n;var o=!!t.headers||typeof navigator.sendBeacon!="function";return o?s._transport=wR({transport:fR({headers:Object.assign({},sR(t.headers),nR.parseKeyPairsIntoRecord(Fo().OTEL_EXPORTER_OTLP_HEADERS),{"Content-Type":i}),url:s.url})}):s._transport=yR({url:s.url,blobType:i}),s}return e.prototype.onInit=function(){},e.prototype.onShutdown=function(){},e.prototype.send=function(t,n,i){var s=this;if(this._shutdownOnce.isCalled){M.debug("Shutdown already started. Cannot send objects");return}var o=this._serializer.serializeRequest(t);if(o==null){i(new Error("Could not serialize message"));return}var l=this._transport.send(o,this.timeoutMillis).then(function(c){c.status==="success"?n():c.status==="failure"&&c.error?i(c.error):c.status==="retryable"?i(new Du("Export failed with retryable status")):i(new Du("Export failed with unknown error"))},i);this._sendingPromises.push(l);var a=function(){var c=s._sendingPromises.indexOf(l);s._sendingPromises.splice(c,1)};l.then(a,a)},e}(uR);function ju(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}function Ho(r){for(var e=new Uint8Array(r.length/2),t=0,n=0;n<r.length;n+=2){var i=ju(r.charCodeAt(n)),s=ju(r.charCodeAt(n+1));e[t++]=i<<4|s}return e}var CR=9,LR=Math.pow(10,CR);function GR(r){return r[0]*LR+r[1]}function Qu(r){var e=BigInt(1e9);return BigInt(r[0])*e+BigInt(r[1])}function NR(r){var e=Number(BigInt.asUintN(32,r)),t=Number(BigInt.asUintN(32,r>>BigInt(32)));return{low:e,high:t}}function $u(r){var e=Qu(r);return NR(e)}function VR(r){var e=Qu(r);return e.toString()}var OR=typeof BigInt!="undefined"?VR:GR;function qu(r){return r}function ed(r){if(r!==void 0)return Ho(r)}var XR={encodeHrTime:$u,encodeSpanContext:Ho,encodeOptionalSpanContext:ed};function WR(r){var e,t;if(r===void 0)return XR;var n=(e=r.useLongBits)!==null&&e!==void 0?e:!0,i=(t=r.useHex)!==null&&t!==void 0?t:!1;return{encodeHrTime:n?$u:OR,encodeSpanContext:i?qu:Ho,encodeOptionalSpanContext:i?qu:ed}}var xR=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s};function kR(r){return{name:r.name,version:r.version}}function ai(r){return Object.keys(r).map(function(e){return td(e,r[e])})}function td(r,e){return{key:r,value:rd(e)}}function rd(r){var e=typeof r;return e==="string"?{stringValue:r}:e==="number"?Number.isInteger(r)?{intValue:r}:{doubleValue:r}:e==="boolean"?{boolValue:r}:r instanceof Uint8Array?{bytesValue:r}:Array.isArray(r)?{arrayValue:{values:r.map(rd)}}:e==="object"&&r!=null?{kvlistValue:{values:Object.entries(r).map(function(t){var n=xR(t,2),i=n[0],s=n[1];return td(i,s)})}}:{}}function PR(r,e){var t,n=r.spanContext(),i=r.status;return{traceId:e.encodeSpanContext(n.traceId),spanId:e.encodeSpanContext(n.spanId),parentSpanId:e.encodeOptionalSpanContext(r.parentSpanId),traceState:(t=n.traceState)===null||t===void 0?void 0:t.serialize(),name:r.name,kind:r.kind==null?0:r.kind+1,startTimeUnixNano:e.encodeHrTime(r.startTime),endTimeUnixNano:e.encodeHrTime(r.endTime),attributes:ai(r.attributes),droppedAttributesCount:r.droppedAttributesCount,events:r.events.map(function(s){return UR(s,e)}),droppedEventsCount:r.droppedEventsCount,status:{code:i.code,message:i.message},links:r.links.map(function(s){return AR(s,e)}),droppedLinksCount:r.droppedLinksCount}}function AR(r,e){var t;return{attributes:r.attributes?ai(r.attributes):[],spanId:e.encodeSpanContext(r.context.spanId),traceId:e.encodeSpanContext(r.context.traceId),traceState:(t=r.context.traceState)===null||t===void 0?void 0:t.serialize(),droppedAttributesCount:r.droppedAttributesCount||0}}function UR(r,e){return{attributes:r.attributes?ai(r.attributes):[],name:r.name,timeUnixNano:e.encodeHrTime(r.time),droppedAttributesCount:r.droppedAttributesCount||0}}function MR(r){return{attributes:ai(r.attributes),droppedAttributesCount:0}}var YR=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FR=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s};function HR(r,e){var t=WR(e);return{resourceSpans:BR(r,t)}}function JR(r){var e,t,n=new Map;try{for(var i=YR(r),s=i.next();!s.done;s=i.next()){var o=s.value,l=n.get(o.resource);l||(l=new Map,n.set(o.resource,l));var a=o.instrumentationLibrary.name+"@"+(o.instrumentationLibrary.version||"")+":"+(o.instrumentationLibrary.schemaUrl||""),c=l.get(a);c||(c=[],l.set(a,c)),c.push(o)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n}function BR(r,e){for(var t=JR(r),n=[],i=t.entries(),s=i.next();!s.done;){for(var o=FR(s.value,2),l=o[0],a=o[1],c=[],u=a.values(),d=u.next();!d.done;){var h=d.value;if(h.length>0){var p=h.map(function(f){return PR(f,e)});c.push({scope:kR(h[0].instrumentationLibrary),spans:p,schemaUrl:h[0].instrumentationLibrary.schemaUrl})}d=u.next()}var m={resource:MR(l),scopeSpans:c,schemaUrl:void 0};n.push(m),s=i.next()}return n}var KR={serializeRequest:function(r){var e=HR(r,{useHex:!0,useLongBits:!1}),t=new TextEncoder;return t.encode(JSON.stringify(e))},deserializeResponse:function(r){var e=new TextDecoder;return JSON.parse(e.decode(r))}},DR=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zR="v1/traces",jR="http://localhost:4318/"+zR,nd=function(r){DR(e,r);function e(t){return t===void 0&&(t={}),r.call(this,t,KR,"application/json")||this}return e.prototype.getDefaultUrl=function(t){return typeof t.url=="string"?t.url:jR},e}(_R);const Jo=JSON,QR=r=>r.toUpperCase(),$R=r=>{const e={};return r.forEach((t,n)=>{e[n]=t}),e},qR=(r,e,t)=>r.document?r:{document:r,variables:e,requestHeaders:t,signal:void 0},eT=(r,e,t)=>r.query?r:{query:r,variables:e,requestHeaders:t,signal:void 0},tT=(r,e)=>r.documents?r:{documents:r,requestHeaders:e,signal:void 0},id=r=>{var n,i;let e;const t=r.definitions.filter(s=>s.kind==="OperationDefinition");return t.length===1&&(e=(i=(n=t[0])==null?void 0:n.name)==null?void 0:i.value),e},Bo=r=>{if(typeof r=="string"){let t;try{const n=Go(r);t=id(n)}catch(n){}return{query:r,operationName:t}}const e=id(r);return{query:Lu(r),operationName:e}};class lr extends Error{constructor(e,t){const n=`${lr.extractMessage(e)}: ${JSON.stringify({response:e,request:t})}`;super(n),Object.setPrototypeOf(this,lr.prototype),this.response=e,this.request=t,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,lr)}static extractMessage(e){var t,n,i;return(i=(n=(t=e.errors)==null?void 0:t[0])==null?void 0:n.message)!=null?i:`GraphQL Error (Code: ${e.status})`}}var Ko={exports:{}};(function(r,e){var t=typeof self!="undefined"?self:Cs,n=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(o){var l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch(g){return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function a(g){return g&&DataView.prototype.isPrototypeOf(g)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(g){return g&&c.indexOf(Object.prototype.toString.call(g))>-1};function d(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(g))throw new TypeError("Invalid character in header field name");return g.toLowerCase()}function h(g){return typeof g!="string"&&(g=String(g)),g}function p(g){var E={next:function(){var X=g.shift();return{done:X===void 0,value:X}}};return l.iterable&&(E[Symbol.iterator]=function(){return E}),E}function m(g){this.map={},g instanceof m?g.forEach(function(E,X){this.append(X,E)},this):Array.isArray(g)?g.forEach(function(E){this.append(E[0],E[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(E){this.append(E,g[E])},this)}m.prototype.append=function(g,E){g=d(g),E=h(E);var X=this.map[g];this.map[g]=X?X+", "+E:E},m.prototype.delete=function(g){delete this.map[d(g)]},m.prototype.get=function(g){return g=d(g),this.has(g)?this.map[g]:null},m.prototype.has=function(g){return this.map.hasOwnProperty(d(g))},m.prototype.set=function(g,E){this.map[d(g)]=h(E)},m.prototype.forEach=function(g,E){for(var X in this.map)this.map.hasOwnProperty(X)&&g.call(E,this.map[X],X,this)},m.prototype.keys=function(){var g=[];return this.forEach(function(E,X){g.push(X)}),p(g)},m.prototype.values=function(){var g=[];return this.forEach(function(E){g.push(E)}),p(g)},m.prototype.entries=function(){var g=[];return this.forEach(function(E,X){g.push([X,E])}),p(g)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function f(g){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}function y(g){return new Promise(function(E,X){g.onload=function(){E(g.result)},g.onerror=function(){X(g.error)}})}function b(g){var E=new FileReader,X=y(E);return E.readAsArrayBuffer(g),X}function S(g){var E=new FileReader,X=y(E);return E.readAsText(g),X}function v(g){for(var E=new Uint8Array(g),X=new Array(E.length),ce=0;ce<E.length;ce++)X[ce]=String.fromCharCode(E[ce]);return X.join("")}function T(g){if(g.slice)return g.slice(0);var E=new Uint8Array(g.byteLength);return E.set(new Uint8Array(g)),E.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(g){this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:l.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:l.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():l.arrayBuffer&&l.blob&&a(g)?(this._bodyArrayBuffer=T(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||u(g))?this._bodyArrayBuffer=T(g):this._bodyText=g=Object.prototype.toString.call(g):this._bodyText="",this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var g=f(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var g=f(this);if(g)return g;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(g){var E=g.toUpperCase();return N.indexOf(E)>-1?E:g}function L(g,E){E=E||{};var X=E.body;if(g instanceof L){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,E.headers||(this.headers=new m(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!X&&g._bodyInit!=null&&(X=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new m(E.headers)),this.method=w(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&X)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(X)}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function x(g){var E=new FormData;return g.trim().split("&").forEach(function(X){if(X){var ce=X.split("="),H=ce.shift().replace(/\+/g," "),k=ce.join("=").replace(/\+/g," ");E.append(decodeURIComponent(H),decodeURIComponent(k))}}),E}function V(g){var E=new m,X=g.replace(/\r?\n[\t ]+/g," ");return X.split(/\r?\n/).forEach(function(ce){var H=ce.split(":"),k=H.shift().trim();if(k){var Ge=H.join(":").trim();E.append(k,Ge)}}),E}C.call(L.prototype);function q(g,E){E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in E?E.statusText:"OK",this.headers=new m(E.headers),this.url=E.url||"",this._initBody(g)}C.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},q.error=function(){var g=new q(null,{status:0,statusText:""});return g.type="error",g};var be=[301,302,303,307,308];q.redirect=function(g,E){if(be.indexOf(E)===-1)throw new RangeError("Invalid status code");return new q(null,{status:E,headers:{location:g}})},o.DOMException=s.DOMException;try{new o.DOMException}catch(g){o.DOMException=function(E,X){this.message=E,this.name=X;var ce=Error(E);this.stack=ce.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function A(g,E){return new Promise(function(X,ce){var H=new L(g,E);if(H.signal&&H.signal.aborted)return ce(new o.DOMException("Aborted","AbortError"));var k=new XMLHttpRequest;function Ge(){k.abort()}k.onload=function(){var Ie={status:k.status,statusText:k.statusText,headers:V(k.getAllResponseHeaders()||"")};Ie.url="responseURL"in k?k.responseURL:Ie.headers.get("X-Request-URL");var Cn="response"in k?k.response:k.responseText;X(new q(Cn,Ie))},k.onerror=function(){ce(new TypeError("Network request failed"))},k.ontimeout=function(){ce(new TypeError("Network request failed"))},k.onabort=function(){ce(new o.DOMException("Aborted","AbortError"))},k.open(H.method,H.url,!0),H.credentials==="include"?k.withCredentials=!0:H.credentials==="omit"&&(k.withCredentials=!1),"responseType"in k&&l.blob&&(k.responseType="blob"),H.headers.forEach(function(Ie,Cn){k.setRequestHeader(Cn,Ie)}),H.signal&&(H.signal.addEventListener("abort",Ge),k.onreadystatechange=function(){k.readyState===4&&H.signal.removeEventListener("abort",Ge)}),k.send(typeof H._bodyInit=="undefined"?null:H._bodyInit)})}return A.polyfill=!0,s.fetch||(s.fetch=A,s.Headers=m,s.Request=L,s.Response=q),o.Headers=m,o.Request=L,o.Response=q,o.fetch=A,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,r.exports=e})(Ko,Ko.exports);var li=Ko.exports;const ci=Ls(li),rT=U({__proto__:null,default:ci},[li]),cr=r=>{let e={};return r&&(typeof Headers!="undefined"&&r instanceof Headers||rT&&li.Headers&&r instanceof li.Headers?e=$R(r):Array.isArray(r)?r.forEach(([t,n])=>{t&&n!==void 0&&(e[t]=n)}):e=r),e},sd=r=>r.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),nT=r=>{if(!Array.isArray(r.query)){const n=r,i=[`query=${encodeURIComponent(sd(n.query))}`];return r.variables&&i.push(`variables=${encodeURIComponent(n.jsonSerializer.stringify(n.variables))}`),n.operationName&&i.push(`operationName=${encodeURIComponent(n.operationName)}`),i.join("&")}if(typeof r.variables!="undefined"&&!Array.isArray(r.variables))throw new Error("Cannot create query with given variable type, array expected");const e=r,t=r.query.reduce((n,i,s)=>(n.push({query:sd(i),variables:e.variables?e.jsonSerializer.stringify(e.variables[s]):void 0}),n),[]);return`query=${encodeURIComponent(e.jsonSerializer.stringify(t))}`},iT=r=>e=>$(this,null,function*(){var f;const{url:t,query:n,variables:i,operationName:s,fetch:o,fetchOptions:l,middleware:a}=e,c=I({},e.headers);let u="",d;r==="POST"?(d=oT(n,i,s,l.jsonSerializer),typeof d=="string"&&(c["Content-Type"]="application/json")):u=nT({query:n,variables:i,operationName:s,jsonSerializer:(f=l.jsonSerializer)!=null?f:Jo});const h=I({method:r,headers:c,body:d},l);let p=t,m=h;if(a){const y=yield Promise.resolve(a(se(I({},h),{url:t,operationName:s,variables:i}))),{url:S}=y,v=Ve(y,["url"]);p=S,m=v}return u&&(p=`${p}?${u}`),yield o(p,m)});class sT{constructor(e,t={}){this.url=e,this.requestConfig=t,this.rawRequest=(...n)=>$(this,null,function*(){const[i,s,o]=n,l=eT(i,s,o),y=this.requestConfig,{headers:a,fetch:c=ci,method:u="POST",requestMiddleware:d,responseMiddleware:h}=y,p=Ve(y,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:m}=this;l.signal!==void 0&&(p.signal=l.signal);const{operationName:f}=Bo(l.query);return Do({url:m,query:l.query,variables:l.variables,headers:I(I({},cr(zo(a))),cr(l.requestHeaders)),operationName:f,fetch:c,method:u,fetchOptions:p,middleware:d}).then(b=>(h&&h(b),b)).catch(b=>{throw h&&h(b),b})})}request(e,...t){return $(this,null,function*(){const[n,i]=t,s=qR(e,n,i),f=this.requestConfig,{headers:o,fetch:l=ci,method:a="POST",requestMiddleware:c,responseMiddleware:u}=f,d=Ve(f,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:h}=this;s.signal!==void 0&&(d.signal=s.signal);const{query:p,operationName:m}=Bo(s.document);return Do({url:h,query:p,variables:s.variables,headers:I(I({},cr(zo(o))),cr(s.requestHeaders)),operationName:m,fetch:l,method:a,fetchOptions:d,middleware:c}).then(y=>(u&&u(y),y.data)).catch(y=>{throw u&&u(y),y})})}batchRequests(e,t){var c;const n=tT(e,t),a=this.requestConfig,{headers:i}=a,s=Ve(a,["headers"]);n.signal!==void 0&&(s.signal=n.signal);const o=n.documents.map(({document:u})=>Bo(u).query),l=n.documents.map(({variables:u})=>u);return Do({url:this.url,query:o,variables:l,headers:I(I({},cr(zo(i))),cr(n.requestHeaders)),operationName:void 0,fetch:(c=this.requestConfig.fetch)!=null?c:ci,method:this.requestConfig.method||"POST",fetchOptions:s,middleware:this.requestConfig.requestMiddleware}).then(u=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(u),u.data)).catch(u=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(u),u})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){const{headers:n}=this.requestConfig;return n?n[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}}const Do=r=>$(this,null,function*(){var u,d;const{query:e,variables:t,fetchOptions:n}=r,i=iT(QR((u=r.method)!=null?u:"post")),s=Array.isArray(r.query),o=yield i(r),l=yield aT(o,(d=n.jsonSerializer)!=null?d:Jo),a=Array.isArray(l)?!l.some(({data:p})=>!p):!!l.data,c=Array.isArray(l)||!l.errors||Array.isArray(l.errors)&&!l.errors.length||n.errorPolicy==="all"||n.errorPolicy==="ignore";if(o.ok&&c&&a){const h=(Array.isArray(l),l),{errors:p}=h,m=Ve(h,["errors"]),f=n.errorPolicy==="ignore"?m:l;return se(I({},s?{data:f}:f),{headers:o.headers,status:o.status})}else{const p=typeof l=="string"?{error:l}:l;throw new lr(se(I({},p),{status:o.status,headers:o.headers}),{query:e,variables:t})}}),oT=(r,e,t,n)=>{const i=n!=null?n:Jo;if(!Array.isArray(r))return i.stringify({query:r,variables:e,operationName:t});if(typeof e!="undefined"&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");const s=r.reduce((o,l,a)=>(o.push({query:l,variables:e?e[a]:void 0}),o),[]);return i.stringify(s)},aT=(r,e)=>$(this,null,function*(){let t;return r.headers.forEach((n,i)=>{i.toLowerCase()==="content-type"&&(t=n)}),t&&(t.toLowerCase().startsWith("application/json")||t.toLowerCase().startsWith("application/graphql+json")||t.toLowerCase().startsWith("application/graphql-response+json"))?e.parse(yield r.text()):r.text()}),zo=r=>typeof r=="function"?r():r;var jo;(function(r){r.BillingQuotaExceeded="BillingQuotaExceeded"})(jo||(jo={}));const od=10,lT=1e3,cT=500,uT=[jo.BillingQuotaExceeded.toString()],dT=r=>{var t;return((t=r.response.errors)==null?void 0:t.find(n=>uT.includes(n.message)))===void 0},hT=r=>{const e=(t,n,i,s,o=0)=>$(this,null,function*(){try{return yield t()}catch(l){if(l instanceof lr&&!dT(l))throw l;if(o<od)return yield new Promise(a=>setTimeout(a,lT+cT*Math.pow(2,o))),yield e(t,n,i,s,o+1);throw console.error(`highlight.io: [${r||r}] data request failed after ${o} retries`),l}});return e};class pT extends nd{constructor(t){super(t);_(this,"xhrTraceExporter");this.xhrTraceExporter=new nd(se(I({},t!=null?t:{}),{headers:{}}))}send(t,n,i){let s=0;const o=l=>{s++,s>od?(console.error(`[highlight.io] failed to export OTeL traces: ${l.message}`,l),i(l)):this.xhrTraceExporter.send(t,n,o)};super.send(t,n,o)}}const fT="OT_ZONE_CONTEXT",mT="Navigation:";function yT(){return!1}const it=class it extends kn{constructor(t={}){super(it.moduleName,it.version,t);_(this,"_spansData",new WeakMap);_(this,"_zonePatched");_(this,"_wrappedListeners",new WeakMap);_(this,"_eventsSpanMap",new WeakMap);_(this,"_shouldPreventSpanCreation");this._shouldPreventSpanCreation=typeof(t==null?void 0:t.shouldPreventSpanCreation)=="function"?t.shouldPreventSpanCreation:yT}init(){}_checkForTimeout(t,n){const i=this._spansData.get(n);i&&(t.source==="setTimeout"?i.hrTimeLastTimeout=mb():t.source!=="Promise.then"&&t.source!=="setTimeout"&&(i.hrTimeLastTimeout=void 0))}_allowEventName(t){return!0}_createSpan(t,n){var l;const i=t==null?void 0:t.target,s=t==null?void 0:t.type;if(!(i instanceof HTMLElement)||!i.getAttribute||i.hasAttribute("disabled")||!this._allowEventName(s))return;const o=iu(i,!0);try{const a=this.tracer.startSpan(s,{attributes:{"event.type":s,"event.tag":i.tagName,"event.xpath":o,"event.id":i.id,"event.text":(l=i.textContent)!=null?l:"","event.url":window.location.href,"viewport.width":window.innerWidth,"viewport.height":window.innerHeight}},n?re.setSpan(Q.active(),n):void 0);return t instanceof MouseEvent&&(a.setAttribute("event.x",t.clientX),a.setAttribute("event.y",t.clientY),a.setAttribute("event.relativeX",t.clientX/window.innerWidth),a.setAttribute("event.relativeY",t.clientY/window.innerHeight),s==="scroll"&&(a.setAttribute("event.scrollX",window.scrollX),a.setAttribute("event.scrollY",window.scrollY))),this._shouldPreventSpanCreation(s,i,a)===!0?void 0:(this._spansData.set(a,{taskCount:0}),a)}catch(a){this._diag.error("failed to start create new user interaction span",a)}}_decrementTask(t){const n=this._spansData.get(t);n&&(n.taskCount--,n.taskCount===0&&this._tryToEndSpan(t,n.hrTimeLastTimeout))}_getCurrentSpan(t){const n=t.get(fT);return n&&re.getSpan(n)}_incrementTask(t){const n=this._spansData.get(t);n&&n.taskCount++}addPatchedListener(t,n,i,s){let o=this._wrappedListeners.get(i);o||(o=new Map,this._wrappedListeners.set(i,o));let l=o.get(n);return l||(l=new Map,o.set(n,l)),l.has(t)?!1:(l.set(t,s),!0)}removePatchedListener(t,n,i){const s=this._wrappedListeners.get(i);if(!s)return;const o=s.get(n);if(!o)return;const l=o.get(t);return l&&(o.delete(t),o.size===0&&(s.delete(n),s.size===0&&this._wrappedListeners.delete(i))),l}_invokeListener(t,n,i){return typeof t=="function"?t.apply(n,i):t.handleEvent(i[0])}_patchAddEventListener(){const t=this;let n=new Map;return i=>function(o,l,a){if(!l)return i.call(this,o,l,a);const c=a&&typeof a=="object"&&a.once,u=function(...d){var f;let h;const p=d[0];if(!(p!=null&&p.type))return t._invokeListener(l,this,d);if(Date.now()-((f=n.get(p.type))!=null?f:0)<1e3/60)return t._invokeListener(l,this,d);n.set(p.type,Date.now()),p&&(h=t._eventsSpanMap.get(p)),c&&t.removePatchedListener(this,o,l);const m=t._createSpan(p,h);return m?(p&&t._eventsSpanMap.set(p,m),Q.with(re.setSpan(Q.active(),m),()=>{const y=t._invokeListener(l,this,d);return m.end(),y})):t._invokeListener(l,this,d)};if(t.addPatchedListener(this,o,l,u))return i.call(this,o,u,a)}}_patchRemoveEventListener(){const t=this;return n=>function(s,o,l){const a=t.removePatchedListener(this,s,o);return a?n.call(this,s,a,l):n.call(this,s,o,l)}}_getPatchableEventTargets(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]}_patchHistoryApi(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())}_patchHistoryMethod(){const t=this;return n=>function(...s){const o=`${location.pathname}${location.hash}${location.search}`,l=n.apply(this,s),a=`${location.pathname}${location.hash}${location.search}`;return o!==a&&t._updateInteractionName(a),l}}_unpatchHistoryApi(){ge(history.replaceState)&&this._unwrap(history,"replaceState"),ge(history.pushState)&&this._unwrap(history,"pushState"),ge(history.back)&&this._unwrap(history,"back"),ge(history.forward)&&this._unwrap(history,"forward"),ge(history.go)&&this._unwrap(history,"go")}_updateInteractionName(t){const n=re.getSpan(Q.active());n&&typeof n.updateName=="function"&&n.updateName(`${mT} ${t}`)}_patchZoneCancelTask(){const t=this;return n=>function(s){const o=Zone.current,l=t._getCurrentSpan(o);return l&&t._shouldCountTask(s,o)&&t._decrementTask(l),n.call(this,s)}}_patchZoneScheduleTask(){const t=this;return n=>function(s){const o=Zone.current,l=t._getCurrentSpan(o);return l&&t._shouldCountTask(s,o)&&(t._incrementTask(l),t._checkForTimeout(s,l)),n.call(this,s)}}_patchZoneRunTask(){const t=this;return n=>function(s,o,l){const a=Array.isArray(l)&&l[0]instanceof Event?l[0]:void 0,c=a==null?void 0:a.target;let u;const d=this;if(c){if(u=t._createSpan(a),u)return t._incrementTask(u),d.run(()=>{try{return Q.with(re.setSpan(Q.active(),u),()=>{const h=Zone.current;return s._zone=h,n.call(h,s,o,l)})}finally{t._decrementTask(u)}})}else u=t._getCurrentSpan(d);try{return n.call(d,s,o,l)}finally{u&&t._shouldCountTask(s,d)&&t._decrementTask(u)}}}_shouldCountTask(t,n){if(t._zone&&(n=t._zone),!n||!t.data||t.data.isPeriodic)return!1;const i=this._getCurrentSpan(n);return!i||!this._spansData.get(i)?!1:t.type==="macroTask"||t.type==="microTask"}_tryToEndSpan(t,n){t&&this._spansData.get(t)&&(t.end(n),this._spansData.delete(t))}enable(){const t=this._getZoneWithPrototype();this._diag.debug("applying patch to",it.moduleName,it.version,"zone:",!!t),t?(ge(t.prototype.runTask)&&(this._unwrap(t.prototype,"runTask"),this._diag.debug("removing previous patch from method runTask")),ge(t.prototype.scheduleTask)&&(this._unwrap(t.prototype,"scheduleTask"),this._diag.debug("removing previous patch from method scheduleTask")),ge(t.prototype.cancelTask)&&(this._unwrap(t.prototype,"cancelTask"),this._diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(t.prototype,"runTask",this._patchZoneRunTask()),this._wrap(t.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(t.prototype,"cancelTask",this._patchZoneCancelTask())):(this._zonePatched=!1,this._getPatchableEventTargets().forEach(i=>{ge(i.addEventListener)&&(this._unwrap(i,"addEventListener"),this._diag.debug("removing previous patch from method addEventListener")),ge(i.removeEventListener)&&(this._unwrap(i,"removeEventListener"),this._diag.debug("removing previous patch from method removeEventListener")),this._wrap(i,"addEventListener",this._patchAddEventListener()),this._wrap(i,"removeEventListener",this._patchRemoveEventListener())})),this._patchHistoryApi()}disable(){const t=this._getZoneWithPrototype();this._diag.debug("removing patch from",it.moduleName,it.version,"zone:",!!t),t&&this._zonePatched?(ge(t.prototype.runTask)&&this._unwrap(t.prototype,"runTask"),ge(t.prototype.scheduleTask)&&this._unwrap(t.prototype,"scheduleTask"),ge(t.prototype.cancelTask)&&this._unwrap(t.prototype,"cancelTask")):this._getPatchableEventTargets().forEach(i=>{ge(i.addEventListener)&&this._unwrap(i,"addEventListener"),ge(i.removeEventListener)&&this._unwrap(i,"removeEventListener")}),this._unpatchHistoryApi()}_getZoneWithPrototype(){return window.Zone}};_(it,"version","0.1.0"),_(it,"moduleName","user-interaction");let Qo=it,vt;const ui="highlight.record",bT=r=>{var a,c,u,d,h;if(vt!==void 0){console.warn("OTEL already initialized. Skipping...");return}const e=r.backendUrl||"https://pub.highlight.io",t=[...(c=(a=r.networkRecordingOptions)==null?void 0:a.urlBlocklist)!=null?c:[],...Wu],n=(u=r.environment)!=null?u:"production";vt=new A0({resource:new ES({[ab]:(d=r.serviceName)!=null?d:"highlight-browser",[sb]:n,"highlight.project_id":r.projectId,"highlight.session_id":r.sessionSecureId})});const i=new pT({url:r.otlpEndpoint+"/v1/traces",concurrencyLimit:100,timeoutMillis:3e4,compression:"gzip",keepAlive:!0,httpAgentOptions:{timeout:3e4,keepAlive:!0}}),s=new gT(i,{maxExportBatchSize:100,maxQueueSize:1e3});vt.addSpanProcessor(s);let o=[new Q0({applyCustomAttributesOnSpan:{documentLoad:cd,documentFetch:cd,resourceFetch:wT}}),new Qo];(h=r.networkRecordingOptions)!=null&&h.enabled&&(o.push(new lS({propagateTraceHeaderCorsUrls:dd(r.tracingOrigins),applyCustomAttributesOnSpan:(p,m,f)=>$(this,null,function*(){var T,C,N;const y=p;if(y.attributes[ui]===!1)return;const b=y.attributes["http.url"],S=(T=m.method)!=null?T:"GET";if(p.updateName(ad(b,S,m.body)),!(f instanceof Response)){p.setAttributes({"http.response.error":f.message,"http.response.status":f.status});return}ld(p,m.body,m.headers,r.networkRecordingOptions);const v=yield Yu(f,(C=r.networkRecordingOptions)==null?void 0:C.bodyKeysToRecord,(N=r.networkRecordingOptions)==null?void 0:N.networkBodyKeysToRedact);p.setAttribute("http.response.body",v)})})),o.push(new SS({propagateTraceHeaderCorsUrls:dd(r.tracingOrigins),applyCustomAttributesOnSpan:(p,m)=>{var v,T;const f=m;if(p.attributes[ui]===!1)return;const b=ad(f._url,f._method,m.responseText);p.updateName(b),ld(p,f._body,f._requestHeaders,r.networkRecordingOptions);const S=St(f._body,(v=r.networkRecordingOptions)==null?void 0:v.networkBodyKeysToRedact,(T=r.networkRecordingOptions)==null?void 0:T.bodyKeysToRecord,f._requestHeaders);p.setAttribute("http.request.body",S)}}))),Fb({instrumentations:o});const l=new tu;l.enable(),vt.register({contextManager:l,propagator:new gb({propagators:[new ky,new ST({backendUrl:e,otlpEndpoint:r.otlpEndpoint,tracingOrigins:r.tracingOrigins,urlBlocklist:t})]})})};class gT extends $c{onEnd(e){e.attributes[ui]!==!1&&super.onEnd(e)}}class ST extends Wb{constructor(t){super();_(this,"highlightEndpoints");_(this,"tracingOrigins");_(this,"urlBlocklist");this.highlightEndpoints=[t.backendUrl,t.otlpEndpoint],this.tracingOrigins=t.tracingOrigins,this.urlBlocklist=t.urlBlocklist}inject(t,n,i){const s=re.getSpan(t);if(!s)return;const o=s.attributes["http.url"];if(typeof o=="string"&&!ET(o,this.highlightEndpoints,this.tracingOrigins,this.urlBlocklist)){s.setAttribute(ui,!1);return}super.inject(t,n,i)}}const vT="highlight-browser",RT=()=>vt.getTracer(vT),TT=()=>re.getActiveSpan(),IT=()=>$(this,null,function*(){vt!==void 0&&(yield vt.forceFlush(),vt.shutdown())}),ad=(r,e,t)=>{var l,a,c;let n;const i=new URL(r),s=i.pathname;let o=`${e.toUpperCase()} - ${s}`;try{if(n=typeof t=="string"?JSON.parse(t):t,n&&n.query){const u=Go(n.query),d=((l=u.definitions[0])==null?void 0:l.kind)==="OperationDefinition"?(c=(a=u.definitions[0])==null?void 0:a.name)==null?void 0:c.value:void 0;d&&(o=`${d} (GraphQL: ${i.host+i.pathname})`)}}catch(u){}return o},ld=(r,e,t,n)=>{var u;const i=typeof e=="string"?e:String(e),o=r.attributes["http.url"],l=new URL(o);let a;try{a=e?JSON.parse(i):void 0,a.operationName&&r.setAttribute("graphql.operation.name",a.operationName)}catch(d){}const c=Xu((u=n==null?void 0:n.networkHeadersToRedact)!=null?u:[],t,n==null?void 0:n.headerKeysToRecord);r.setAttributes({"highlight.type":"http.request","http.request.headers":JSON.stringify(c),"http.request.body":i,[lb]:o,[cb]:l.pathname,[ub]:l.search}),l.searchParams.size>0&&r.setAttributes({"url.query_params":JSON.stringify(Object.fromEntries(l.searchParams))})},ET=(r,e,t,n)=>n!=null&&n.some(s=>r.toLowerCase().includes(s))?!1:oi(r,e,t),cd=r=>{const t=r.events,n={unload:He("unloadEventStart","unloadEventEnd",t),dom_interactive:He("domInteractive","fetchStart",t),dom_content_loaded:He("domContentLoadedEventEnd","domContentLoadedEventStart",t),dom_complete:He("fetchStart","domComplete",t),load_event:He("loadEventStart","loadEventEnd",t),first_paint:He("fetchStart","firstPaint",t),first_contentful_paint:He("fetchStart","firstContentfulPaint",t),domain_lookup:He("domainLookupStart","domainLookupEnd",t),connect:He("connectStart","connectEnd",t),request:He("requestStart","requestEnd",t),response:He("responseStart","responseEnd",t)};Object.entries(n).forEach(([i,s])=>{s>0&&(r.setAttribute(`timings.${i}.ns`,s),r.setAttribute(`timings.${i}.readable`,ud(s)))})};function He(r,e,t){const n=t.find(l=>l.name===r),i=t.find(l=>l.name===e);if(!n||!i)return 0;const s=n.time[0]*1e9+n.time[1];return i.time[0]*1e9+i.time[1]-s}const wT=(r,e)=>{const t={domain_lookup:(e.domainLookupEnd-e.domainLookupStart)*1e6,connect:(e.connectEnd-e.connectStart)*1e6,request:(e.responseEnd-e.requestStart)*1e6,response:(e.responseEnd-e.responseStart)*1e6};Object.entries(t).forEach(([n,i])=>{i>0&&(r.setAttribute(`timings.${n}.ns`,i),r.setAttribute(`timings.${n}.readable`,ud(i)))})},ud=r=>{if(r>=36e11){const o=r/36e11;return`${Number(o.toFixed(1))}h`}else if(r>=6e10){const o=r/6e10;return`${Number(o.toFixed(1))}m`}else if(r>=1e9){const o=r/1e9;return`${Number(o.toFixed(1))}s`}else if(r>=1e6){const o=r/1e6;return`${Number(o.toFixed(1))}ms`}else if(r>=1e3){const o=r/1e3;return`${Number(o.toFixed(1))}s`}else return`${Number(r.toFixed(1))}ns`},dd=r=>r===!0?[/localhost/,/^\//,new RegExp(window.location.host)]:Array.isArray(r)?r.map(e=>typeof e=="string"?new RegExp(e):e):/^$/,ZT=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];var Rt;(function(r){r.DeviceMemory="DeviceMemory",r.ViewportHeight="ViewportHeight",r.ViewportWidth="ViewportWidth",r.ScreenHeight="ScreenHeight",r.ScreenWidth="ScreenWidth",r.ViewportArea="ViewportArea"})(Rt||(Rt={}));var We;(function(r){r.Device="Device",r.WebVital="WebVital",r.Performance="Performance",r.Frontend="Frontend",r.Backend="Backend"})(We||(We={}));const _T=(r,e,t)=>{const n=window._highlightWebSocketRequestCallback;window._highlightWebSocketRequestCallback=r;const i=window._highlightWebSocketEventCallback;return window._highlightWebSocketEventCallback=s=>{const d=s,{message:o,size:l}=d,a=Ve(d,["message","size"]),u=t.some(h=>s.name.toLowerCase().includes(h))?a:s;e(u)},()=>{window._highlightWebSocketRequestCallback=n,window._highlightWebSocketEventCallback=i}},CT=({xhrCallback:r,fetchCallback:e,webSocketRequestCallback:t,webSocketEventCallback:n,disableWebSocketRecording:i,bodyKeysToRedact:s,highlightEndpoints:o,tracingOrigins:l,urlBlocklist:a,bodyKeysToRecord:c})=>{const u=Zv(r,o,l,a,s,c),d=Cv(e,o,l,a,s,c),h=i?()=>{}:_T(t,n,a);return()=>{u(),d(),h()}};class qe{constructor(e){_(this,"disableConsoleRecording");_(this,"reportConsoleErrors");_(this,"enablePromisePatch");_(this,"consoleMethodsToRecord");_(this,"listeners");_(this,"errors");_(this,"messages");_(this,"options");_(this,"hasNetworkRecording",!0);_(this,"disableNetworkRecording");_(this,"enableRecordingNetworkContents");_(this,"xhrNetworkContents");_(this,"fetchNetworkContents");_(this,"disableRecordingWebSocketContents");_(this,"webSocketNetworkContents");_(this,"webSocketEventContents");_(this,"tracingOrigins");_(this,"networkHeadersToRedact");_(this,"networkBodyKeysToRedact");_(this,"networkBodyKeysToRecord");_(this,"networkHeaderKeysToRecord");_(this,"lastNetworkRequestTimestamp");_(this,"urlBlocklist");_(this,"highlightEndpoints");_(this,"requestResponseSanitizer");var t,n;this.options=e,this.disableConsoleRecording=!!e.disableConsoleRecording,this.reportConsoleErrors=(t=e.reportConsoleErrors)!=null?t:!1,this.enablePromisePatch=(n=e.enablePromisePatch)!=null?n:!1,this.consoleMethodsToRecord=e.consoleMethodsToRecord||[...ZT],this.listeners=[],this.errors=[],this.messages=[],this.lastNetworkRequestTimestamp=0}isListening(){return this.listeners.length>0}startListening(){if(this.isListening())return;const e=this;this.disableConsoleRecording||this.listeners.push(fm(t=>{var n,i,s;if(this.reportConsoleErrors&&(t.type==="Error"||t.type==="error")&&t.value&&t.trace){const o=Gt(t.value);if(jl.includes(o)||Ql.some(l=>o.includes(l)))return;e.errors.push({event:o,type:"console.error",url:window.location.href,source:(n=t.trace[0])!=null&&n.fileName?t.trace[0].fileName:"",lineNumber:(i=t.trace[0])!=null&&i.lineNumber?t.trace[0].lineNumber:0,columnNumber:(s=t.trace[0])!=null&&s.columnNumber?t.trace[0].columnNumber:0,stackTrace:t.trace,timestamp:new Date().toISOString()})}e.messages.push(t)},{level:this.consoleMethodsToRecord,logger:"console",stringifyOptions:{depthOfLimit:10,numOfKeysLimit:100,stringLengthLimit:1e3}})),this.listeners.push(ym(t=>{jl.includes(t.event)||Ql.some(n=>t.event.includes(n))||e.errors.push(t)},{enablePromisePatch:this.enablePromisePatch})),this.listeners.push(IT),qe.setupNetworkListener(this,this.options)}stopListening(){this.listeners.forEach(e=>e()),this.listeners=[]}static setupNetworkListener(e,t){var s,o,l,a,c,u,d,h,p,m,f,y;const n=(t==null?void 0:t.backendUrl)||"https://pub.highlight.io",i=t.otlpEndpoint||"https://otel.highlight.io";e.highlightEndpoints=[n,i],e.xhrNetworkContents=[],e.fetchNetworkContents=[],e.webSocketNetworkContents=[],e.webSocketEventContents=[],e.networkHeadersToRedact=[],e.urlBlocklist=[],e.tracingOrigins=t.tracingOrigins||[],(t==null?void 0:t.disableNetworkRecording)!==void 0?(e.disableNetworkRecording=t==null?void 0:t.disableNetworkRecording,e.enableRecordingNetworkContents=!1,e.disableRecordingWebSocketContents=!0,e.networkHeadersToRedact=[],e.networkBodyKeysToRedact=[],e.urlBlocklist=[],e.networkBodyKeysToRecord=[]):typeof(t==null?void 0:t.networkRecording)=="boolean"?(e.disableNetworkRecording=!t.networkRecording,e.enableRecordingNetworkContents=!1,e.disableRecordingWebSocketContents=!0,e.networkHeadersToRedact=[],e.networkBodyKeysToRedact=[],e.urlBlocklist=[]):(((s=t.networkRecording)==null?void 0:s.enabled)!==void 0?e.disableNetworkRecording=!t.networkRecording.enabled:e.disableNetworkRecording=!1,e.enableRecordingNetworkContents=((o=t.networkRecording)==null?void 0:o.recordHeadersAndBody)||!1,e.disableRecordingWebSocketContents=((l=t.networkRecording)==null?void 0:l.disableWebSocketEventRecordings)||!1,e.networkHeadersToRedact=((c=(a=t.networkRecording)==null?void 0:a.networkHeadersToRedact)==null?void 0:c.map(b=>b.toLowerCase()))||[],e.networkBodyKeysToRedact=((d=(u=t.networkRecording)==null?void 0:u.networkBodyKeysToRedact)==null?void 0:d.map(b=>b.toLowerCase()))||[],e.urlBlocklist=((p=(h=t.networkRecording)==null?void 0:h.urlBlocklist)==null?void 0:p.map(b=>b.toLowerCase()))||[],e.urlBlocklist=[...e.urlBlocklist,...Wu],e.requestResponseSanitizer=(m=t.networkRecording)==null?void 0:m.requestResponseSanitizer,e.networkHeaderKeysToRecord=(f=t.networkRecording)==null?void 0:f.headerKeysToRecord,e.networkHeaderKeysToRecord&&(e.networkHeadersToRedact=[],e.networkHeaderKeysToRecord=e.networkHeaderKeysToRecord.map(b=>b.toLocaleLowerCase())),e.networkBodyKeysToRecord=(y=t.networkRecording)==null?void 0:y.bodyKeysToRecord,e.networkBodyKeysToRecord&&(e.networkBodyKeysToRedact=[],e.networkBodyKeysToRecord=e.networkBodyKeysToRecord.map(b=>b.toLocaleLowerCase()))),!e.disableNetworkRecording&&e.enableRecordingNetworkContents&&e.listeners.push(CT({xhrCallback:b=>{e.xhrNetworkContents.push(b)},fetchCallback:b=>{e.fetchNetworkContents.push(b)},webSocketRequestCallback:b=>{e.webSocketNetworkContents&&e.webSocketNetworkContents.push(b)},webSocketEventCallback:b=>{e.webSocketEventContents.push(b)},disableWebSocketRecording:e.disableRecordingWebSocketContents,bodyKeysToRedact:e.networkBodyKeysToRedact,highlightEndpoints:e.highlightEndpoints,tracingOrigins:e.tracingOrigins,urlBlocklist:e.urlBlocklist,bodyKeysToRecord:e.networkBodyKeysToRecord}))}static getRecordedNetworkResources(e,t){var s,o;let n=[],i=[];if(!e.disableNetworkRecording){const l=((s=window==null?void 0:window.performance)==null?void 0:s.timeOrigin)||0;n=performance.getEntriesByType("resource");const a=(t-l)*2;if(n=n.filter(c=>c.responseEnd<e.lastNetworkRequestTimestamp?!1:oi(c.name,e.highlightEndpoints,e.tracingOrigins)).map(c=>se(I({},c.toJSON()),{offsetStartTime:c.startTime-a,offsetResponseEnd:c.responseEnd-a,offsetFetchStart:c.fetchStart-a})),e.lastNetworkRequestTimestamp=((o=n.at(-1))==null?void 0:o.responseEnd)||e.lastNetworkRequestTimestamp,e.enableRecordingNetworkContents){const c={headersToRedact:e.networkHeadersToRedact,headersToRecord:e.networkHeaderKeysToRecord,requestResponseSanitizer:e.requestResponseSanitizer};n=Pu(n,e.xhrNetworkContents,"xmlhttprequest",c),n=Pu(n,e.fetchNetworkContents,"fetch",c)}}return e.disableRecordingWebSocketContents||(i=e.webSocketNetworkContents||[]),[...n,...i]}static getRecordedWebSocketEvents(e){let t=[];return!e.disableNetworkRecording&&!e.disableRecordingWebSocketContents&&(t=e.webSocketEventContents),t}static clearRecordedNetworkResources(e){e.disableNetworkRecording||(e.xhrNetworkContents=[],e.fetchNetworkContents=[],e.webSocketNetworkContents=[],e.webSocketEventContents=[],performance.clearResourceTimings())}}const Kr=()=>{var s;const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var t="";const n=typeof window!="undefined"&&((s=window.crypto)==null?void 0:s.getRandomValues),i=new Uint32Array(28);n&&window.crypto.getRandomValues(i);for(let o=0;o<28;o++)n?t+=e.charAt(i[o]%e.length):t+=e.charAt(Math.floor(Math.random()*e.length));return t},LT="9.7.3",GT=()=>{var r,e;typeof chrome!="undefined"&&((r=chrome==null?void 0:chrome.runtime)!=null&&r.onMessage)&&((e=chrome==null?void 0:chrome.runtime)==null||e.onMessage.addListener((t,n,i)=>{const s=t.action;switch(console.log(`[highlight] received '${s}' event from extension.`),s){case"init":{ue.init(1,{debug:!0}),ue.getSessionURL().then(o=>{i({url:o})});break}case"stop":{ue.stop(),i({success:!0});break}}return!0}))};function NT(r){var e;r.on&&((e=r.webContents)!=null&&e.send)&&(r.on("focus",()=>{r.webContents.send("highlight.run",{visible:!0})}),r.on("blur",()=>{r.webContents.send("highlight.run",{visible:!1})}),r.on("close",()=>{r.webContents.send("highlight.run",{visible:!1})}))}const VT=({next:r,payload:e})=>{if(typeof window!="undefined"&&typeof document!="undefined"&&"H"in window){if(e.obj.type==="track"){const t=e.obj.event,n=e.obj.properties;window.H.track(t,n)}else if(e.obj.type==="identify"){const t=e.obj.userId;if(t!=null&&t.length){const n=e.obj.traits;window.H.identify(t,n)}}}r(e)},$o=()=>{if(typeof window!="undefined"){if(typeof window._highlightFetchPatch!="undefined")return;window._originalFetch=window.fetch,window._fetchProxy=(r,e)=>window._originalFetch(r,e),window._highlightFetchPatch=(r,e)=>window._fetchProxy.call(window||global,r,e),window.fetch=window._highlightFetchPatch}},hd=()=>null,qo=()=>{if(typeof window!="undefined"){if(typeof window._highlightWebSocketRequestCallback!="undefined")return;window._highlightWebSocketRequestCallback=hd,window._highlightWebSocketEventCallback=hd;const r=new Proxy(window.WebSocket,{construct(e,t){const[,n]=Po(),i=new e(...t),s=u=>{window._highlightWebSocketRequestCallback({socketId:n,initiatorType:"websocket",type:"open",name:i.url,startTimeAbs:performance.timeOrigin+u.timeStamp})},o=u=>{window._highlightWebSocketRequestCallback({socketId:n,initiatorType:"websocket",type:"close",name:i.url,responseEndAbs:performance.timeOrigin+u.timeStamp}),i.removeEventListener("open",s),i.removeEventListener("error",a),i.removeEventListener("message",l),i.removeEventListener("close",o)},l=u=>{const{data:d}=u,h=typeof d=="string"?u.data:void 0;let p;typeof d=="string"?p=d.length:d instanceof Blob?p=d.size:p=d.byteLength||0,window._highlightWebSocketEventCallback({socketId:n,type:"received",name:i.url,timeStamp:performance.timeOrigin+u.timeStamp,size:p,message:h})},a=u=>{window._highlightWebSocketEventCallback({socketId:n,type:"error",name:i.url,timeStamp:performance.timeOrigin+u.timeStamp,size:0})};i.addEventListener("open",s),i.addEventListener("error",a),i.addEventListener("message",l),i.addEventListener("close",o);const c=new Proxy(i.send,{apply:function(u,d,h){const p=h[0],m=typeof p=="string"?p:void 0;let f;typeof p=="string"?f=p.length:p instanceof Blob?f=p.size:f=p.byteLength||0,window._highlightWebSocketEventCallback({socketId:n,type:"sent",name:i.url,timeStamp:performance.timeOrigin+performance.now(),size:f,message:m}),u.apply(d,h)}});return i.send=c,i}});window.WebSocket=r}},pd=()=>{const r={end:()=>{},spanContext:()=>({traceId:"",spanId:"",traceFlags:0}),setAttribute:(e,t)=>r,setAttributes:e=>r,addEvent:(e,t,n)=>r,addLinks:e=>r,setStatus:e=>r,recordException:()=>{},addLink:()=>r,updateName:()=>r,isRecording:()=>!1};return r};W.MetricCategory=void 0,function(r){r.Device="Device",r.WebVital="WebVital",r.Frontend="Frontend",r.Backend="Backend"}(W.MetricCategory||(W.MetricCategory={}));const ut=(r,e)=>{console.warn(`highlight.run warning: (${r}): `,e)},OT=200;let Dr=[],di,D,zr,ea=!1,jr;const ue={options:void 0,init:(r,e)=>{var t,n,i,s,o,l,a,c;try{if(ue.options=e,typeof window=="undefined"||typeof document=="undefined")return;if(!r){console.info("Highlight is not initializing because projectID was passed undefined.");return}e!=null&&e.skipCookieSessionDataLoad?Nu(!1):Rv();let u=sr(),d=Kr();if(u!=null&&u.sessionSecureID&&(d=u.sessionSecureID),ea)return{sessionSecureID:d};ea=!0,$o(),qo(),Promise.resolve().then(()=>mL).then(y=>$(this,[y],function*({Highlight:p,setupBrowserTracing:m,getTracer:f}){var b,S,v;m({otlpEndpoint:(b=e==null?void 0:e.otlpEndpoint)!=null?b:"https://otel.highlight.io",projectId:r,sessionSecureId:d,environment:(S=e==null?void 0:e.environment)!=null?S:"production",networkRecordingOptions:typeof(e==null?void 0:e.networkRecording)=="object"?e.networkRecording:void 0,tracingOrigins:e==null?void 0:e.tracingOrigins,serviceName:(v=e==null?void 0:e.serviceName)!=null?v:"highlight-browser"}),jr=f,D=new p(h,zr),$o(),qo(),e!=null&&e.manualStart||(yield D.initialize())}));const h=se(I({},e),{organizationID:r,firstloadVersion:LT,environment:(e==null?void 0:e.environment)||"production",appVersion:e==null?void 0:e.version,sessionSecureID:d});return zr=new qe(h),e!=null&&e.manualStart||zr.startListening(),!((n=(t=e==null?void 0:e.integrations)==null?void 0:t.mixpanel)!=null&&n.disabled)&&((s=(i=e==null?void 0:e.integrations)==null?void 0:i.mixpanel)!=null&&s.projectToken)&&me(e.integrations.mixpanel),!((l=(o=e==null?void 0:e.integrations)==null?void 0:o.amplitude)!=null&&l.disabled)&&((c=(a=e==null?void 0:e.integrations)==null?void 0:a.amplitude)!=null&&c.apiKey)&&oe(e.integrations.amplitude),{sessionSecureID:d}}catch(u){ut("init",u)}},snapshot:r=>$(this,null,function*(){try{if(D&&D.ready)return yield D.snapshot(r)}catch(e){ut("snapshot",e)}}),addSessionFeedback:({verbatim:r,userName:e,userEmail:t,timestampOverride:n})=>{try{ue.onHighlightReady(()=>D.addSessionFeedback({verbatim:r,timestamp:n||new Date().toISOString(),user_email:t,user_name:e}))}catch(i){ut("error",i)}},consumeError:(r,e,t)=>{try{ue.onHighlightReady(()=>D.consumeCustomError(r,e,JSON.stringify(t)))}catch(n){ut("error",n)}},consume:(r,e)=>{try{ue.onHighlightReady(()=>D.consumeError(r,e))}catch(t){ut("error",t)}},error:(r,e)=>{try{ue.onHighlightReady(()=>D.pushCustomError(r,JSON.stringify(e)))}catch(t){ut("error",t)}},track:(r,e={})=>{var t,n,i,s,o,l,a,c,u,d,h;try{ue.onHighlightReady(()=>D.addProperties(se(I({},e),{event:r})));const p=D==null?void 0:D.getCurrentSessionURL();(i=(n=(t=ue.options)==null?void 0:t.integrations)==null?void 0:n.mixpanel)!=null&&i.disabled||(s=window.mixpanel)!=null&&s.track&&window.mixpanel.track(r,se(I({},e),{highlightSessionURL:p})),(a=(l=(o=ue.options)==null?void 0:o.integrations)==null?void 0:l.amplitude)!=null&&a.disabled||(c=window.amplitude)!=null&&c.getInstance&&window.amplitude.getInstance().logEvent(r,se(I({},e),{highlightSessionURL:p})),(h=(d=(u=ue.options)==null?void 0:u.integrations)==null?void 0:d.intercom)!=null&&h.disabled||window.Intercom&&window.Intercom("trackEvent",r,e)}catch(p){ut("track",p)}},start:r=>{(D==null?void 0:D.state)==="Recording"&&!(r!=null&&r.forceNew)?r!=null&&r.silent||console.warn("Highlight is already recording. Please `H.stop()` the current session before starting a new one."):(zr.startListening(),ue.onHighlightReady(()=>$(this,null,function*(){yield D.initialize(r)}),{waitForReady:!1}))},stop:r=>{(D==null?void 0:D.state)!=="Recording"?r!=null&&r.silent||console.warn("Highlight is already stopped. Please call `H.start()`."):ue.onHighlightReady(()=>D.stopRecording(!0))},identify:(r,e={})=>{var t,n,i,s,o,l,a,c;try{ue.onHighlightReady(()=>D.identify(r,e))}catch(u){ut("identify",u)}if((i=(n=(t=ue.options)==null?void 0:t.integrations)==null?void 0:n.mixpanel)!=null&&i.disabled||(s=window.mixpanel)!=null&&s.identify&&(window.mixpanel.identify(typeof(e==null?void 0:e.email)=="string"?e==null?void 0:e.email:r),e&&(window.mixpanel.track("identify",e),window.mixpanel.people.set(e))),!((a=(l=(o=ue.options)==null?void 0:o.integrations)==null?void 0:l.amplitude)!=null&&a.disabled)&&(c=window.amplitude)!=null&&c.getInstance&&(window.amplitude.getInstance().setUserId(r),Object.keys(e).length>0)){const u=Object.keys(e).reduce((d,h)=>(d.set(h,e[h]),d),new window.amplitude.Identify);window.amplitude.getInstance().identify(u)}},metrics:r=>{try{ue.onHighlightReady(()=>D.recordMetric(r.map(e=>se(I({},e),{category:W.MetricCategory.Frontend}))))}catch(e){ut("metrics",e)}},startSpan:(r,e,t,n)=>{const i=typeof jr=="function"?jr():void 0;if(!i){const o=pd();return n===void 0&&t===void 0?e(o):n===void 0?t(o):n(o)}const s=(o,l)=>{const a=l(o);return a instanceof Promise?a.finally(()=>o.end()):(o.end(),a)};return n===void 0&&t===void 0?i.startActiveSpan(r,o=>s(o,e)):n===void 0?i.startActiveSpan(r,e,o=>s(o,t)):i.startActiveSpan(r,e,t,o=>s(o,n))},startManualSpan:(r,e,t,n)=>{const i=typeof jr=="function"?jr():void 0;if(!i){const s=pd();return n===void 0&&t===void 0?e(s):n===void 0?t(s):n(s)}return n===void 0&&t===void 0?i.startActiveSpan(r,e):n===void 0?i.startActiveSpan(r,e,t):i.startActiveSpan(r,e,t,n)},getSessionURL:()=>new Promise((r,e)=>{ue.onHighlightReady(()=>{const t=D.sessionData.sessionSecureID,n=sr(t);n?r(`https://${_s}/${n.projectID}/sessions/${t}`):e(new Error(`Unable to get session URL: ${t}`))})}),getSessionDetails:()=>new Promise((r,e)=>{ue.onHighlightReady(()=>$(this,null,function*(){try{const t=yield ue.getSessionURL();if(!t)throw new Error("Could not get session URL");const n=D.sessionData.sessionSecureID,i=sr(n),s=i==null?void 0:i.sessionStartTime;if(!s)throw new Error("Could not get session start timestamp");const o=new Date().getTime(),l=new URL(t),a=new URL(t);a.searchParams.set("ts",((o-s)/1e3).toString()),r({url:l.toString(),urlWithTimestamp:a.toString(),sessionSecureID:n})}catch(t){e(t)}}))}),getRecordingState:()=>{var r;return(r=D==null?void 0:D.state)!=null?r:"NotRecording"},onHighlightReady:(r,e)=>{if(D&&D.ready){r();return}if(Dr.push({options:e,func:r}),di!==void 0)return;const t=()=>{Dr=Dr.filter(i=>{var s;return!D||((s=i.options)==null?void 0:s.waitForReady)!==!1&&!D.ready?!0:(i.func(),!1)}),di=void 0,Dr.length>0&&(di=setTimeout(t,OT))};t()}};typeof window!="undefined"&&(window.H=ue),GT(),$o(),qo();const XT={reset:()=>{ea=!1,D=void 0,Dr=[],di=void 0,zr=void 0},setHighlightObj:r=>{D=r}},fd={key:"_sid"},WT="rrweb/sequential-id@1",xT=r=>{const e=r?Object.assign({},fd,r):fd;let t=0;return{name:WT,eventProcessor(n){return Object.assign(n,{[e.key]:++t}),n},options:e}};var kT=Object.defineProperty,PT=(r,e,t)=>e in r?kT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Z=(r,e,t)=>PT(r,typeof e!="symbol"?e+"":e,t),md,AT=Object.defineProperty,UT=(r,e,t)=>e in r?AT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yd=(r,e,t)=>UT(r,typeof e!="symbol"?e+"":e,t),ye=(r=>(r[r.Document=0]="Document",r[r.DocumentType=1]="DocumentType",r[r.Element=2]="Element",r[r.Text=3]="Text",r[r.CDATA=4]="CDATA",r[r.Comment=5]="Comment",r))(ye||{});const bd={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},gd={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},hi={};function ta(r){if(hi[r])return hi[r];const e=globalThis[r],t=e.prototype,n=r in bd?bd[r]:void 0,i=!!(n&&n.every(l=>{var a,c;return!!((c=(a=Object.getOwnPropertyDescriptor(t,l))==null?void 0:a.get)!=null&&c.toString().includes("[native code]"))})),s=r in gd?gd[r]:void 0,o=!!(s&&s.every(l=>{var a;return typeof t[l]=="function"&&((a=t[l])==null?void 0:a.toString().includes("[native code]"))}));if(i&&o)return hi[r]=e.prototype,e.prototype;try{const l=document.createElement("iframe");document.body.appendChild(l);const a=l.contentWindow;if(!a)return e.prototype;const c=a[r].prototype;return document.body.removeChild(l),c?hi[r]=c:t}catch(l){return t}}const ra={};function Tt(r,e,t){var n;const i=`${r}.${String(t)}`;if(ra[i])return ra[i].call(e);const s=ta(r),o=(n=Object.getOwnPropertyDescriptor(s,t))==null?void 0:n.get;return o?(ra[i]=o,o.call(e)):e[t]}const na={};function Sd(r,e,t){const n=`${r}.${String(t)}`;if(na[n])return na[n].bind(e);const s=ta(r)[t];return typeof s!="function"?e[t]:(na[n]=s,s.bind(e))}function MT(r){return Tt("Node",r,"childNodes")}function YT(r){return Tt("Node",r,"parentNode")}function FT(r){return Tt("Node",r,"parentElement")}function HT(r){return Tt("Node",r,"textContent")}function JT(r,e){return Sd("Node",r,"contains")(e)}function BT(r){return Sd("Node",r,"getRootNode")()}function KT(r){return!r||!("host"in r)?null:Tt("ShadowRoot",r,"host")}function DT(r){return r.styleSheets}function zT(r){return!r||!("shadowRoot"in r)?null:Tt("Element",r,"shadowRoot")}function jT(r,e){return Tt("Element",r,"querySelector")(e)}function QT(r,e){return Tt("Element",r,"querySelectorAll")(e)}function $T(){return ta("MutationObserver").constructor}const Re={childNodes:MT,parentNode:YT,parentElement:FT,textContent:HT,contains:JT,getRootNode:BT,host:KT,styleSheets:DT,shadowRoot:zT,querySelector:jT,querySelectorAll:QT,mutationObserver:$T};function vd(r){return r.nodeType===r.ELEMENT_NODE}function Qr(r){const e=r&&"host"in r&&"mode"in r&&Re.host(r)||null;return!!(e&&"shadowRoot"in e&&Re.shadowRoot(e)===r)}function $r(r){return Object.prototype.toString.call(r)==="[object ShadowRoot]"}function qT(r){return r.includes(" background-clip: text;")&&!r.includes(" -webkit-background-clip: text;")&&(r=r.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),r}function eI(r){const{cssText:e}=r;if(e.split('"').length<3)return e;const t=["@import",`url(${JSON.stringify(r.href)})`];return r.layerName===""?t.push("layer"):r.layerName&&t.push(`layer(${r.layerName})`),r.supportsText&&t.push(`supports(${r.supportsText})`),r.media.length&&t.push(r.media.mediaText),t.join(" ")+";"}function pi(r){try{const e=r.rules||r.cssRules;if(!e)return null;const t=Array.from(e,n=>Rd(n,r.href)).join("");return qT(t)}catch(e){return null}}function Rd(r,e){if(rI(r)){let t;try{t=pi(r.styleSheet)||eI(r)}catch(n){t=r.cssText}return r.styleSheet.href?fi(t,r.styleSheet.href):t}else{let t=r.cssText;return nI(r)&&r.selectorText.includes(":")&&(t=tI(t)),e?fi(t,e):t}}function tI(r){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return r.replace(e,"$1\\$2")}function rI(r){return"styleSheet"in r}function nI(r){return"selectorText"in r}class Td{constructor(){yd(this,"idNodeMap",new Map),yd(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;const n=(t=this.getMeta(e))==null?void 0:t.id;return n!=null?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const i=this.nodeMetaMap.get(n);i&&this.nodeMetaMap.set(t,i)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function iI(){return new Td}function ia({element:r,maskInputOptions:e,tagName:t,type:n,value:i,overwriteRecord:s,maskInputFn:o}){let l=i||"";return Zd({maskInputOptions:e,tagName:t,type:n,overwriteRecord:s})&&(o?l=o(l,r):l="*".repeat(l.length)),l}function ur(r){return r.toLowerCase()}const Id="__rrweb_original__";function sI(r){const e=r.getContext("2d");if(!e)return!0;const t=50;for(let n=0;n<r.width;n+=t)for(let i=0;i<r.height;i+=t){const s=e.getImageData,o=Id in s?s[Id]:s;if(new Uint32Array(o.call(e,n,i,Math.min(t,r.width-n),Math.min(t,r.height-i)).data.buffer).some(a=>a!==0))return!1}return!0}function sa(r){const e=r.type;return r.hasAttribute("data-rr-is-password")?"password":e?ur(e):null}function Ed(r,e){var s;let t;try{t=new URL(r,window.location.href)}catch(o){return null}const n=/\.([0-9a-z]+)(?:$)/i,i=t.pathname.match(n);return(s=i==null?void 0:i[1])!=null?s:null}function oI(r){let e="";return r.indexOf("//")>-1?e=r.split("/").slice(0,3).join("/"):e=r.split("/")[0],e=e.split("?")[0],e}const aI=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,lI=/^(?:[a-z+]+:)?\/\//i,cI=/^www\..*/i,uI=/^(data:)([^,]*),(.*)/i;function fi(r,e){return(r||"").replace(aI,(t,n,i,s,o,l)=>{const a=i||o||l,c=n||s||"";if(!a)return t;if(lI.test(a)||cI.test(a))return`url(${c}${a}${c})`;if(uI.test(a))return`url(${c}${a}${c})`;if(a[0]==="/")return`url(${c}${oI(e)+a}${c})`;const u=e.split("/"),d=a.split("/");u.pop();for(const h of d)h!=="."&&(h===".."?u.pop():u.push(h));return`url(${c}${u.join("/")}${c})`})}function oa(r){return r=r.replace(/[^ -~]+/g,""),r=(r==null?void 0:r.split(" ").map(e=>Math.random().toString(20).substring(2,e.length)).join(" "))||"",r}function aa(r){return r==="img"||r==="video"||r==="audio"||r==="source"}const dI=new RegExp(/[a-zA-Z0-9.!#$%&'*+=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*/),hI=new RegExp(/[0-9]{9,16}/),pI=new RegExp(/[0-9]{3}-?[0-9]{2}-?[0-9]{4}/),fI=new RegExp(/[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}/),mI=new RegExp(/[0-9]{4}-?[0-9]{4}-?[0-9]{4}-?[0-9]{4}/),yI=new RegExp(/[0-9]{1,5}.?[0-9]{0,3}\s[a-zA-Z]{2,30}\s[a-zA-Z]{2,15}/),bI=new RegExp(/(?:[0-9]{1,3}.){3}[0-9]{1,3}/),gI=[dI,hI,pI,fI,mI,yI,bI];function wd(r){return r?gI.some(e=>e.test(r)):!1}const Zd=({maskInputOptions:r,tagName:e,type:t,overwriteRecord:n})=>{const i=t&&t.toLowerCase();return n!=="true"&&(!!r[e.toLowerCase()]||!!(i&&r[i]))};let SI=1;const vI=new RegExp("[^a-z0-9-_:]"),qr=-2;function _d(){return SI++}function RI(r){if(r instanceof HTMLFormElement)return"form";const e=ur(r.tagName);return vI.test(e)?"div":e}let dr,Cd;const TI=/^[^ \t\n\r\u000c]+/,II=/^[, \t\n\r\u000c]+/;function EI(r,e){if(e.trim()==="")return e;let t=0;function n(s){let o;const l=s.exec(e.substring(t));return l?(o=l[0],t+=o.length,o):""}const i=[];for(;n(II),!(t>=e.length);){let s=n(TI);if(s.slice(-1)===",")s=hr(r,s.substring(0,s.length-1)),i.push(s);else{let o="";s=hr(r,s);let l=!1;for(;;){const a=e.charAt(t);if(a===""){i.push((s+o).trim());break}else if(l)a===")"&&(l=!1);else if(a===","){t+=1,i.push((s+o).trim());break}else a==="("&&(l=!0);o+=a,t+=1}}}return i.join(", ")}const Ld=new WeakMap;function hr(r,e){return!e||e.trim()===""?e:la(r,e)}function wI(r){return!!(r.tagName==="svg"||r.ownerSVGElement)}function la(r,e){let t=Ld.get(r);if(t||(t=r.createElement("a"),Ld.set(r,t)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return t.setAttribute("href",e),t.href}function Gd(r,e,t,n){return n&&(t==="src"||t==="href"&&!(e==="use"&&n[0]==="#")||t==="xlink:href"&&n[0]!=="#"||t==="background"&&(e==="table"||e==="td"||e==="th")?hr(r,n):t==="srcset"?EI(r,n):t==="style"?fi(n,la(r)):e==="object"&&t==="data"?hr(r,n):n)}function Nd(r,e,t){return(r==="video"||r==="audio")&&e==="autoplay"}function Vd(r,e,t){try{if(typeof e=="string"){if(r.classList.contains(e))return!0}else for(let n=r.classList.length;n--;){const i=r.classList[n];if(e.test(i))return!0}if(t)return r.matches(t)}catch(n){}return!1}function mi(r,e,t){if(!r)return!1;if(r.nodeType!==r.ELEMENT_NODE)return t?mi(Re.parentNode(r),e,t):!1;for(let n=r.classList.length;n--;){const i=r.classList[n];if(e.test(i))return!0}return t?mi(Re.parentNode(r),e,t):!1}function Od(r,e,t,n){let i;if(vd(r)){if(i=r,!Re.childNodes(i).length)return!1}else{if(Re.parentElement(r)===null)return!1;i=Re.parentElement(r)}try{if(typeof e=="string"){if(n){if(i.closest(`.${e}`))return!0}else if(i.classList.contains(e))return!0}else if(mi(i,e,n))return!0;if(t){if(n){if(i.closest(t))return!0}else if(i.matches(t))return!0}}catch(s){}return!1}function ZI(r,e,t){const n=r.contentWindow;if(!n)return;let i=!1,s;try{s=n.document.readyState}catch(l){return}if(s!=="complete"){const l=setTimeout(()=>{i||(e(),i=!0)},t);r.addEventListener("load",()=>{clearTimeout(l),i=!0,e()});return}const o="about:blank";if(n.location.href!==o||r.src===o||r.src==="")return setTimeout(e,0),r.addEventListener("load",e);r.addEventListener("load",e)}function _I(r,e,t){let n=!1,i;try{i=r.sheet}catch(o){return}if(i)return;const s=setTimeout(()=>{n||(e(),n=!0)},t);r.addEventListener("load",()=>{clearTimeout(s),n=!0,e()})}function CI(r,e){const{doc:t,mirror:n,blockClass:i,blockSelector:s,needsMask:o,inlineStylesheet:l,maskInputOptions:a={},maskTextClass:c,maskTextFn:u,maskInputFn:d,dataURLOptions:h={},inlineImages:p,recordCanvas:m,keepIframeSrcFn:f,newlyAddedElement:y=!1,privacySetting:b}=e,S=LI(t,n);switch(r.nodeType){case r.DOCUMENT_NODE:return r.compatMode!=="CSS1Compat"?{type:ye.Document,childNodes:[],compatMode:r.compatMode}:{type:ye.Document,childNodes:[]};case r.DOCUMENT_TYPE_NODE:return{type:ye.DocumentType,name:r.name,publicId:r.publicId,systemId:r.systemId,rootId:S};case r.ELEMENT_NODE:return NI(r,{doc:t,blockClass:i,blockSelector:s,inlineStylesheet:l,maskInputOptions:a,maskInputFn:d,maskTextClass:c,dataURLOptions:h,inlineImages:p,recordCanvas:m,keepIframeSrcFn:f,newlyAddedElement:y,privacySetting:b,rootId:S});case r.TEXT_NODE:return GI(r,{doc:t,needsMask:o,maskTextFn:u,privacySetting:b,rootId:S});case r.CDATA_SECTION_NODE:return{type:ye.CDATA,textContent:"",rootId:S};case r.COMMENT_NODE:return{type:ye.Comment,textContent:Re.textContent(r)||"",rootId:S};default:return!1}}function LI(r,e){if(!e.hasNode(r))return;const t=e.getId(r);return t===1?void 0:t}function GI(r,e){var t,n;const{needsMask:i,maskTextFn:s,privacySetting:o,rootId:l}=e,a=Re.parentNode(r),c=a&&a.tagName;let u=Re.textContent(r);const d=c==="STYLE"?!0:void 0,h=c==="SCRIPT"?!0:void 0;if(d&&u){try{r.nextSibling||r.previousSibling||(t=a.sheet)!=null&&t.cssRules&&(u=pi(a.sheet))}catch(y){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${y}`,r)}u=fi(u,la(e.doc))}h&&(u="SCRIPT_PLACEHOLDER"),!d&&!h&&u&&i&&(u=s?s(u,Re.parentElement(r)):u.replace(/[\S]/g,"*"));const p=o==="strict",m=(n=r.parentElement)==null?void 0:n.getAttribute("data-hl-record"),f=o==="default"&&wd(u);return(p||f)&&!m&&c&&!new Set(["HEAD","TITLE","STYLE","SCRIPT","HTML","BODY","NOSCRIPT"]).has(c)&&u&&(u=oa(u)),{type:ye.Text,textContent:u||"",isStyle:d,rootId:l}}function NI(r,e){const{doc:t,blockClass:n,blockSelector:i,inlineStylesheet:s,maskInputOptions:o={},maskInputFn:l,maskTextClass:a,dataURLOptions:c={},inlineImages:u,recordCanvas:d,keepIframeSrcFn:h,newlyAddedElement:p=!1,privacySetting:m,rootId:f}=e;let y=Vd(r,n,i);const b=Vd(r,a,null),S=m==="strict";let v=RI(r),T={};const C=r.attributes.length;for(let w=0;w<C;w++){const L=r.attributes[w];Nd(v,L.name)||(T[L.name]=Gd(t,v,ur(L.name),L.value))}if(v==="link"&&s){const w=Array.from(t.styleSheets).find(x=>x.href===r.href);let L=null;w&&(L=pi(w)),L&&(delete T.rel,delete T.href,T._cssText=L)}if(v==="style"&&r.sheet&&!(r.innerText||Re.textContent(r)||"").trim().length){const w=pi(r.sheet);w&&(T._cssText=w)}if(v==="input"||v==="textarea"||v==="select"){const w=r.value,L=r.checked;T.type!=="radio"&&T.type!=="checkbox"&&T.type!=="submit"&&T.type!=="button"&&w?T.value=ia({element:r,type:sa(r),tagName:v,value:w,overwriteRecord:r.getAttribute("data-hl-record"),maskInputOptions:o,maskInputFn:l}):L&&(T.checked=L)}if(v==="option"&&(r.selected&&!o.select?T.selected=!0:delete T.selected),v==="dialog"&&r.open&&(T.rr_open_mode=r.matches("dialog:modal")?"modal":"non-modal"),v==="canvas"&&d){if(r.__context==="2d")sI(r);else if(!("__context"in r)){const w=r.toDataURL(c.type,c.quality),L=t.createElement("canvas");L.width=r.width,L.height=r.height;const x=L.toDataURL(c.type,c.quality);w!==x&&(T.rr_dataURL=w)}}if(v==="img"&&u&&!y&&!b&&!S){dr||(dr=t.createElement("canvas"),Cd=dr.getContext("2d"));const w=r,L=w.currentSrc||w.getAttribute("src")||"<unknown-src>",x=w.crossOrigin,V=()=>{w.removeEventListener("load",V);try{dr.width=w.naturalWidth,dr.height=w.naturalHeight,Cd.drawImage(w,0,0),T.rr_dataURL=dr.toDataURL(c.type,c.quality)}catch(q){if(w.crossOrigin!=="anonymous"){w.crossOrigin="anonymous",w.complete&&w.naturalWidth!==0?V():w.addEventListener("load",V);return}else console.warn(`Cannot inline img src=${L}! Error: ${q}`)}w.crossOrigin==="anonymous"&&(x?T.crossOrigin=x:w.removeAttribute("crossorigin"))};w.complete&&w.naturalWidth!==0?V():w.addEventListener("load",V)}if(v==="audio"||v==="video"){const w=T;w.rr_mediaState=r.paused?"paused":"played",w.rr_mediaCurrentTime=r.currentTime,w.rr_mediaPlaybackRate=r.playbackRate,w.rr_mediaMuted=r.muted,w.rr_mediaLoop=r.loop,w.rr_mediaVolume=r.volume}if(p||(r.scrollLeft&&(T.rr_scrollLeft=r.scrollLeft),r.scrollTop&&(T.rr_scrollTop=r.scrollTop)),y||b||S&&aa(v)){const{width:w,height:L}=r.getBoundingClientRect();T={class:T.class,rr_width:`${w}px`,rr_height:`${L}px`}}S&&aa(v)&&(y=!0),v==="iframe"&&!h(T.src)&&(r.contentDocument||(T.rr_src=T.src),delete T.src);let N;try{customElements.get(v)&&(N=!0)}catch(w){}if(u&&v==="video"){const w=r;if(w.src===""||w.src.indexOf("blob:")!==-1){const{width:L,height:x}=r.getBoundingClientRect();T={width:L,height:x,rr_width:`${L}px`,rr_height:`${x}px`,rr_inlined_video:!0,class:T.class,style:T.style},v="canvas";const V=t.createElement("canvas");V.width=r.width,V.height=r.height,T.rr_dataURL=V.toDataURL(c.type,c.quality)}}return{type:ye.Element,tagName:v,attributes:T,childNodes:[],isSVG:wI(r)||void 0,needBlock:y,needMask:b,rootId:f,isCustom:N}}function le(r){return r==null?"":r.toLowerCase()}function VI(r,e){if(e.comment&&r.type===ye.Comment)return!0;if(r.type===ye.Element){if(e.script&&(r.tagName==="script"||r.tagName==="link"&&(r.attributes.rel==="preload"||r.attributes.rel==="modulepreload")&&r.attributes.as==="script"||r.tagName==="link"&&r.attributes.rel==="prefetch"&&typeof r.attributes.href=="string"&&Ed(r.attributes.href)==="js"))return!0;if(e.headFavicon&&(r.tagName==="link"&&r.attributes.rel==="shortcut icon"||r.tagName==="meta"&&(le(r.attributes.name).match(/^msapplication-tile(image|color)$/)||le(r.attributes.name)==="application-name"||le(r.attributes.rel)==="icon"||le(r.attributes.rel)==="apple-touch-icon"||le(r.attributes.rel)==="shortcut icon")))return!0;if(r.tagName==="meta"){if(e.headMetaDescKeywords&&le(r.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(le(r.attributes.property).match(/^(og|twitter|fb):/)||le(r.attributes.name).match(/^(og|twitter):/)||le(r.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(le(r.attributes.name)==="robots"||le(r.attributes.name)==="googlebot"||le(r.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&r.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(le(r.attributes.name)==="author"||le(r.attributes.name)==="generator"||le(r.attributes.name)==="framework"||le(r.attributes.name)==="publisher"||le(r.attributes.name)==="progid"||le(r.attributes.property).match(/^article:/)||le(r.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(le(r.attributes.name)==="google-site-verification"||le(r.attributes.name)==="yandex-verification"||le(r.attributes.name)==="csrf-token"||le(r.attributes.name)==="p:domain_verify"||le(r.attributes.name)==="verify-v1"||le(r.attributes.name)==="verification"||le(r.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function pr(r,e){const{doc:t,mirror:n,blockClass:i,blockSelector:s,maskTextClass:o,maskTextSelector:l,skipChild:a=!1,inlineStylesheet:c=!0,maskInputOptions:u={},maskTextFn:d,maskInputFn:h,slimDOMOptions:p,dataURLOptions:m={},inlineImages:f=!1,recordCanvas:y=!1,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:v=5e3,onStylesheetLoad:T,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:N=()=>!1,newlyAddedElement:w=!1,privacySetting:L}=e;let{needsMask:x}=e,{preserveWhiteSpace:V=!0}=e;x||(x=Od(r,o,l,x===void 0));const q=CI(r,{doc:t,mirror:n,blockClass:i,blockSelector:s,needsMask:x,inlineStylesheet:c,maskInputOptions:u,maskTextClass:o,maskTextFn:d,maskInputFn:h,dataURLOptions:m,inlineImages:f,recordCanvas:y,keepIframeSrcFn:N,newlyAddedElement:w,privacySetting:L});if(!q)return console.warn(r,"not serialized"),null;let be;n.hasNode(r)?be=n.getId(r):VI(q,p)||!V&&q.type===ye.Text&&!q.isStyle&&!q.textContent.replace(/^\s+|\s+$/gm,"").length?be=qr:be=_d();const A=Object.assign(q,{id:be});if(n.add(r,A),be===qr)return null;b&&b(r);let g=!a,E=L,X=L==="strict";if(A.type===ye.Element){if(g=g&&!A.needBlock,X||(X=!!A.needBlock||!!A.needMask),E=X?"strict":E,X&&aa(A.tagName)){const k=r.cloneNode();k.src="",n.add(k,A)}delete A.needBlock,delete A.needMask;const H=Re.shadowRoot(r);H&&$r(H)&&(A.isShadowHost=!0)}if((A.type===ye.Document||A.type===ye.Element)&&g){p.headWhitespace&&A.type===ye.Element&&A.tagName==="head"&&(V=!1);const H={doc:t,mirror:n,blockClass:i,blockSelector:s,needsMask:x,maskTextClass:o,maskTextSelector:l,skipChild:a,inlineStylesheet:c,maskInputOptions:u,maskTextFn:d,maskInputFn:h,slimDOMOptions:p,dataURLOptions:m,inlineImages:f,recordCanvas:y,preserveWhiteSpace:V,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:v,onStylesheetLoad:T,stylesheetLoadTimeout:C,keepIframeSrcFn:N,privacySetting:E};if(!(A.type===ye.Element&&A.tagName==="textarea"&&A.attributes.value!==void 0))for(const Ge of Array.from(Re.childNodes(r))){const Ie=pr(Ge,H);Ie&&A.childNodes.push(Ie)}let k=null;if(vd(r)&&(k=Re.shadowRoot(r)))for(const Ge of Array.from(Re.childNodes(k))){const Ie=pr(Ge,H);Ie&&($r(k)&&(Ie.isShadow=!0),A.childNodes.push(Ie))}}const ce=Re.parentNode(r);return ce&&Qr(ce)&&$r(ce)&&(A.isShadow=!0),A.type===ye.Element&&A.tagName==="iframe"&&ZI(r,()=>{const H=r.contentDocument;if(H&&S){const k=pr(H,{doc:H,mirror:n,blockClass:i,blockSelector:s,needsMask:x,maskTextClass:o,maskTextSelector:l,skipChild:!1,inlineStylesheet:c,maskInputOptions:u,maskTextFn:d,maskInputFn:h,slimDOMOptions:p,dataURLOptions:m,inlineImages:f,recordCanvas:y,preserveWhiteSpace:V,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:v,onStylesheetLoad:T,stylesheetLoadTimeout:C,keepIframeSrcFn:N,privacySetting:L});k&&S(r,k)}},v),A.type===ye.Element&&A.tagName==="link"&&typeof A.attributes.rel=="string"&&(A.attributes.rel==="stylesheet"||A.attributes.rel==="preload"&&typeof A.attributes.href=="string"&&Ed(A.attributes.href)==="css")&&_I(r,()=>{if(T){const H=pr(r,{doc:t,mirror:n,blockClass:i,blockSelector:s,needsMask:x,maskTextClass:o,maskTextSelector:l,skipChild:!1,inlineStylesheet:c,maskInputOptions:u,maskTextFn:d,maskInputFn:h,slimDOMOptions:p,dataURLOptions:m,inlineImages:f,recordCanvas:y,preserveWhiteSpace:V,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:v,onStylesheetLoad:T,stylesheetLoadTimeout:C,keepIframeSrcFn:N,privacySetting:L});H&&T(r,H)}},C),A}function OI(r,e){const{mirror:t=new Td,blockClass:n="highlight-block",blockSelector:i=null,maskTextClass:s="highlight-mask",maskTextSelector:o=null,inlineStylesheet:l=!0,inlineImages:a=!1,recordCanvas:c=!1,maskAllInputs:u=!1,maskTextFn:d,maskInputFn:h,slimDOM:p=!1,dataURLOptions:m,preserveWhiteSpace:f,onSerialize:y,onIframeLoad:b,iframeLoadTimeout:S,onStylesheetLoad:v,stylesheetLoadTimeout:T,keepIframeSrcFn:C=()=>!1,privacySetting:N="default"}=e||{};return pr(r,{doc:r,mirror:t,blockClass:n,blockSelector:i,maskTextClass:s,maskTextSelector:o,skipChild:!1,inlineStylesheet:l,maskInputOptions:u===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:u===!1?{password:!0}:u,maskTextFn:d,maskInputFn:h,slimDOMOptions:p||p==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:p==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:p||{},dataURLOptions:m,inlineImages:a,recordCanvas:c,preserveWhiteSpace:f,onSerialize:y,onIframeLoad:b,iframeLoadTimeout:S,onStylesheetLoad:v,stylesheetLoadTimeout:T,keepIframeSrcFn:C,newlyAddedElement:!1,privacySetting:N})}function XI(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var ca={exports:{}},Y=String,Xd=function(){return{isColorSupported:!1,reset:Y,bold:Y,dim:Y,italic:Y,underline:Y,inverse:Y,hidden:Y,strikethrough:Y,black:Y,red:Y,green:Y,yellow:Y,blue:Y,magenta:Y,cyan:Y,white:Y,gray:Y,bgBlack:Y,bgRed:Y,bgGreen:Y,bgYellow:Y,bgBlue:Y,bgMagenta:Y,bgCyan:Y,bgWhite:Y,blackBright:Y,redBright:Y,greenBright:Y,yellowBright:Y,blueBright:Y,magentaBright:Y,cyanBright:Y,whiteBright:Y,bgBlackBright:Y,bgRedBright:Y,bgGreenBright:Y,bgYellowBright:Y,bgBlueBright:Y,bgMagentaBright:Y,bgCyanBright:Y,bgWhiteBright:Y}};ca.exports=Xd(),ca.exports.createColors=Xd;var WI=ca.exports;const Je=XI(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let Wd=WI,xd=Je,ua=class tm extends Error{constructor(e,t,n,i,s,o){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),i&&(this.source=i),o&&(this.plugin=o),typeof t!="undefined"&&typeof n!="undefined"&&(typeof t=="number"?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,tm)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=Wd.isColorSupported);let n=u=>u,i=u=>u,s=u=>u;if(e){let{bold:u,gray:d,red:h}=Wd.createColors(!0);i=p=>u(h(p)),n=p=>d(p),xd&&(s=p=>xd(p))}let o=t.split(/\r?\n/),l=Math.max(this.line-3,0),a=Math.min(this.line+2,o.length),c=String(a).length;return o.slice(l,a).map((u,d)=>{let h=l+1+d,p=" "+(" "+h).slice(-c)+" | ";if(h===this.line){if(u.length>160){let f=20,y=Math.max(0,this.column-f),b=Math.max(this.column+f,this.endColumn+f),S=u.slice(y,b),v=n(p.replace(/\d/g," "))+u.slice(0,Math.min(this.column-1,f-1)).replace(/[^\t]/g," ");return i(">")+n(p)+s(S)+`
 `+v+i("^")}let m=n(p.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return i(">")+n(p)+s(u)+`
 `+m+i("^")}return" "+n(p)+s(u)}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var da=ua;ua.default=ua;const kd={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function xI(r){return r[0].toUpperCase()+r.slice(1)}let ha=class{constructor(e){this.builder=e}atrule(e,t){let n="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName!="undefined"?n+=e.raws.afterName:i&&(n+=" "),e.nodes)this.block(e,n+i);else{let s=(e.raws.between||"")+(t?";":"");this.builder(n+i+s,e)}}beforeAfter(e,t){let n;e.type==="decl"?n=this.raw(e,null,"beforeDecl"):e.type==="comment"?n=this.raw(e,null,"beforeComment"):t==="before"?n=this.raw(e,null,"beforeRule"):n=this.raw(e,null,"beforeClose");let i=e.parent,s=0;for(;i&&i.type!=="root";)s+=1,i=i.parent;if(n.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let l=0;l<s;l++)n+=o}return n}block(e,t){let n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let n=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i],o=this.raw(s,"before");o&&this.builder(o),this.stringify(s,t!==i||n)}}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),i=e.prop+n+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,n){let i;if(n||(n=t),t&&(i=e.raws[t],typeof i!="undefined"))return i;let s=e.parent;if(n==="before"&&(!s||s.type==="root"&&s.first===e||s&&s.type==="document"))return"";if(!s)return kd[n];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[n]!="undefined")return o.rawCache[n];if(n==="before"||n==="after")return this.beforeAfter(e,n);{let l="raw"+xI(n);this[l]?i=this[l](o,e):o.walk(a=>{if(i=a.raws[t],typeof i!="undefined")return!1})}return typeof i=="undefined"&&(i=kd[n]),o.rawCache[n]=i,i}rawBeforeClose(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length>0&&typeof n.raws.after!="undefined")return t=n.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let n;return e.walkComments(i=>{if(typeof i.raws.before!="undefined")return n=i.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),typeof n=="undefined"?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls(i=>{if(typeof i.raws.before!="undefined")return n=i.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),typeof n=="undefined"?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(e){let t;return e.walk(n=>{if(n.type!=="decl"&&(t=n.raws.between,typeof t!="undefined"))return!1}),t}rawBeforeRule(e){let t;return e.walk(n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&typeof n.raws.before!="undefined")return t=n.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(n=>{if(typeof n.raws.between!="undefined")return t=n.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length===0&&(t=n.raws.after,typeof t!="undefined"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(n=>{let i=n.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof n.raws.before!="undefined"){let s=n.raws.before.split(`
`);return t=s[s.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length&&n.last.type==="decl"&&(t=n.raws.semicolon,typeof t!="undefined"))return!1}),t}rawValue(e,t){let n=e[t],i=e.raws[t];return i&&i.value===n?i.raw:n}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var Pd=ha;ha.default=ha;let kI=Pd;function pa(r,e){new kI(e).stringify(r)}var yi=pa;pa.default=pa;var en={};en.isClean=Symbol("isClean"),en.my=Symbol("my");let PI=da,AI=Pd,UI=yi,{isClean:tn,my:MI}=en;function fa(r,e){let t=new r.constructor;for(let n in r){if(!Object.prototype.hasOwnProperty.call(r,n)||n==="proxyCache")continue;let i=r[n],s=typeof i;n==="parent"&&s==="object"?e&&(t[n]=e):n==="source"?t[n]=i:Array.isArray(i)?t[n]=i.map(o=>fa(o,t)):(s==="object"&&i!==null&&(i=fa(i)),t[n]=i)}return t}let ma=class{constructor(e={}){this.raws={},this[tn]=!1,this[MI]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let n of e[t])typeof n.clone=="function"?this.append(n.clone()):this.append(n)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=fa(this);for(let n in e)t[n]=e[n];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:n,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:n.column,line:n.line},t)}return new PI(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,n){return e[t]===n||(e[t]=n,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markClean(){this[tn]=!0}markDirty(){if(this[tn]){this[tn]=!1;let e=this;for(;e=e.parent;)e[tn]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let n=this.source.start;if(e.index)n=this.positionInside(e.index,t);else if(e.word){t=this.toString();let i=t.indexOf(e.word);i!==-1&&(n=this.positionInside(i,t))}return n}positionInside(e,t){let n=t||this.toString(),i=this.source.start.column,s=this.source.start.line;for(let o=0;o<e;o++)n[o]===`
`?(i=1,s+=1):i+=1;return{column:i,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),s=i.indexOf(e.word);s!==-1&&(t=this.positionInside(s,i),n=this.positionInside(s+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?n={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={column:t.column+1,line:t.line}),{end:n,start:t}}raw(e,t){return new AI().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let i of e)i===this?n=!0:n?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);n||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let n={},i=t==null;t=t||new Map;let s=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let l=this[o];if(Array.isArray(l))n[o]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,t):a);else if(typeof l=="object"&&l.toJSON)n[o]=l.toJSON(null,t);else if(o==="source"){let a=t.get(l.input);a==null&&(a=s,t.set(l.input,s),s++),n[o]={end:l.end,inputId:a,start:l.start}}else n[o]=l}return i&&(n.inputs=[...t.keys()].map(o=>o.toJSON())),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=UI){e.stringify&&(e=e.stringify);let t="";return e(this,n=>{t+=n}),t}warn(e,t,n){let i={node:this};for(let s in n)i[s]=n[s];return e.warn(t,i)}get proxyOf(){return this}};var bi=ma;ma.default=ma;let YI=bi,ya=class extends YI{constructor(e){super(e),this.type="comment"}};var gi=ya;ya.default=ya;let FI=bi,ba=class extends FI{constructor(e){e&&typeof e.value!="undefined"&&typeof e.value!="string"&&(e=se(I({},e),{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var Si=ba;ba.default=ba;let Ad=gi,Ud=Si,HI=bi,{isClean:Md,my:Yd}=en,ga,Fd,Hd,Sa;function Jd(r){return r.map(e=>(e.nodes&&(e.nodes=Jd(e.nodes)),delete e.source,e))}function Bd(r){if(r[Md]=!1,r.proxyOf.nodes)for(let e of r.proxyOf.nodes)Bd(e)}let dt=class rm extends HI{append(...e){for(let t of e){let n=this.normalize(t,this.last);for(let i of n)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),n,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(n=this.indexes[t],i=e(this.proxyOf.nodes[n],n),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...n)=>e[t](...n.map(i=>typeof i=="function"?(s,o)=>i(s.toProxy(),o):i)):t==="every"||t==="some"?n=>e[t]((i,...s)=>n(i.toProxy(),...s)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(n=>n.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,n){return e[t]===n||(e[t]=n,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let n=this.index(e),i=this.normalize(t,this.proxyOf.nodes[n]).reverse();n=this.index(e);for(let o of i)this.proxyOf.nodes.splice(n+1,0,o);let s;for(let o in this.indexes)s=this.indexes[o],n<s&&(this.indexes[o]=s+i.length);return this.markDirty(),this}insertBefore(e,t){let n=this.index(e),i=n===0?"prepend":!1,s=this.normalize(t,this.proxyOf.nodes[n],i).reverse();n=this.index(e);for(let l of s)this.proxyOf.nodes.splice(n,0,l);let o;for(let l in this.indexes)o=this.indexes[l],n<=o&&(this.indexes[l]=o+s.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=Jd(Fd(e).nodes);else if(typeof e=="undefined")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value=="undefined")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new Ud(e)]}else if(e.selector||e.selectors)e=[new Sa(e)];else if(e.name)e=[new ga(e)];else if(e.text)e=[new Ad(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[Yd]||rm.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[Md]&&Bd(i),i.raws||(i.raws={}),typeof i.raws.before=="undefined"&&t&&typeof t.raws.before!="undefined"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...e){e=e.reverse();for(let t of e){let n=this.normalize(t,this.first,"prepend").reverse();for(let i of n)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+n.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,n))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,n)=>{let i;try{i=e(t,n)}catch(s){throw t.addToError(s)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="atrule"&&e.test(n.name))return t(n,i)}):this.walk((n,i)=>{if(n.type==="atrule"&&n.name===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="atrule")return t(n,i)}))}walkComments(e){return this.walk((t,n)=>{if(t.type==="comment")return e(t,n)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="decl"&&e.test(n.prop))return t(n,i)}):this.walk((n,i)=>{if(n.type==="decl"&&n.prop===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="decl")return t(n,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="rule"&&e.test(n.selector))return t(n,i)}):this.walk((n,i)=>{if(n.type==="rule"&&n.selector===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="rule")return t(n,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};dt.registerParse=r=>{Fd=r},dt.registerRule=r=>{Sa=r},dt.registerAtRule=r=>{ga=r},dt.registerRoot=r=>{Hd=r};var At=dt;dt.default=dt,dt.rebuild=r=>{r.type==="atrule"?Object.setPrototypeOf(r,ga.prototype):r.type==="rule"?Object.setPrototypeOf(r,Sa.prototype):r.type==="decl"?Object.setPrototypeOf(r,Ud.prototype):r.type==="comment"?Object.setPrototypeOf(r,Ad.prototype):r.type==="root"&&Object.setPrototypeOf(r,Hd.prototype),r[Yd]=!0,r.nodes&&r.nodes.forEach(e=>{dt.rebuild(e)})};let Kd=At,vi=class extends Kd{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var va=vi;vi.default=vi,Kd.registerAtRule(vi);let JI=At,Dd,zd,rn=class extends JI{constructor(e){super(I({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(e={}){return new Dd(new zd,this,e).stringify()}};rn.registerLazyResult=r=>{Dd=r},rn.registerProcessor=r=>{zd=r};var Ra=rn;rn.default=rn;let BI="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var KI={nanoid:(r=21)=>{let e="",t=r;for(;t--;)e+=BI[Math.random()*64|0];return e},customAlphabet:(r,e=21)=>(t=e)=>{let n="",i=t;for(;i--;)n+=r[Math.random()*r.length|0];return n}};let{existsSync:DI,readFileSync:zI}=Je,{dirname:Ta,join:jI}=Je,{SourceMapConsumer:jd,SourceMapGenerator:Qd}=Je;function QI(r){return Buffer?Buffer.from(r,"base64").toString():window.atob(r)}let Ia=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,i=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Ta(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new jd(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,n=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/,o=e.match(i)||e.match(s);if(o)return decodeURIComponent(e.substr(o[0].length));let l=e.match(t)||e.match(n);if(l)return QI(e.substr(l[0].length));let a=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+a)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let n=e.lastIndexOf(t.pop()),i=e.indexOf("*/",n);n>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,i)))}loadFile(e){if(this.root=Ta(e),DI(e))return this.mapFile=e,zI(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let n=t(e);if(n){let i=this.loadFile(n);if(!i)throw new Error("Unable to load previous source map: "+n.toString());return i}}else{if(t instanceof jd)return Qd.fromSourceMap(t).toString();if(t instanceof Qd)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let n=this.annotation;return e&&(n=jI(Ta(e),n)),this.loadFile(n)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var $d=Ia;Ia.default=Ia;let{nanoid:$I}=KI,{isAbsolute:Ea,resolve:wa}=Je,{SourceMapConsumer:qI,SourceMapGenerator:eE}=Je,{fileURLToPath:qd,pathToFileURL:Ri}=Je,eh=da,tE=$d,Za=Je,_a=Symbol("fromOffsetCache"),rE=!!(qI&&eE),th=!!(wa&&Ea),Ti=class{constructor(e,t={}){if(e===null||typeof e=="undefined"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!th||/^\w+:\/\//.test(t.from)||Ea(t.from)?this.file=t.from:this.file=wa(t.from)),th&&rE){let n=new tE(this.css,t);if(n.text){this.map=n;let i=n.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+$I(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,n,i={}){let s,o,l;if(t&&typeof t=="object"){let c=t,u=n;if(typeof c.offset=="number"){let d=this.fromOffset(c.offset);t=d.line,n=d.col}else t=c.line,n=c.column;if(typeof u.offset=="number"){let d=this.fromOffset(u.offset);o=d.line,s=d.col}else o=u.line,s=u.column}else if(!n){let c=this.fromOffset(t);t=c.line,n=c.col}let a=this.origin(t,n,o,s);return a?l=new eh(e,a.endLine===void 0?a.line:{column:a.column,line:a.line},a.endLine===void 0?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,i.plugin):l=new eh(e,o===void 0?t:{column:n,line:t},o===void 0?n:{column:s,line:o},this.css,this.file,i.plugin),l.input={column:n,endColumn:s,endLine:o,line:t,source:this.css},this.file&&(Ri&&(l.input.url=Ri(this.file).toString()),l.input.file=this.file),l}fromOffset(e){let t,n;if(this[_a])n=this[_a];else{let s=this.css.split(`
`);n=new Array(s.length);let o=0;for(let l=0,a=s.length;l<a;l++)n[l]=o,o+=s[l].length+1;this[_a]=n}t=n[n.length-1];let i=0;if(e>=t)i=n.length-1;else{let s=n.length-2,o;for(;i<s;)if(o=i+(s-i>>1),e<n[o])s=o-1;else if(e>=n[o+1])i=o+1;else{i=o;break}}return{col:e-n[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:wa(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,n,i){if(!this.map)return!1;let s=this.map.consumer(),o=s.originalPositionFor({column:t,line:e});if(!o.source)return!1;let l;typeof n=="number"&&(l=s.originalPositionFor({column:i,line:n}));let a;Ea(o.source)?a=Ri(o.source):a=new URL(o.source,this.map.consumer().sourceRoot||Ri(this.map.mapFile));let c={column:o.column,endColumn:l&&l.column,endLine:l&&l.line,line:o.line,url:a.toString()};if(a.protocol==="file:")if(qd)c.file=qd(a);else throw new Error("file: protocol is not available in this PostCSS build");let u=s.sourceContentFor(o.source);return u&&(c.source=u),c}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map=I({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Ii=Ti;Ti.default=Ti,Za&&Za.registerInput&&Za.registerInput(Ti);let rh=At,nh,ih,fr=class extends rh{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,n){let i=super.normalize(e);if(t){if(n==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of i)s.raws.before=t.raws.before}return i}removeChild(e,t){let n=this.index(e);return!t&&n===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}toResult(e={}){return new nh(new ih,this,e).stringify()}};fr.registerLazyResult=r=>{nh=r},fr.registerProcessor=r=>{ih=r};var nn=fr;fr.default=fr,rh.registerRoot(fr);let sn={comma(r){return sn.split(r,[","],!0)},space(r){let e=[" ",`
`,"	"];return sn.split(r,e)},split(r,e,t){let n=[],i="",s=!1,o=0,l=!1,a="",c=!1;for(let u of r)c?c=!1:u==="\\"?c=!0:l?u===a&&(l=!1):u==='"'||u==="'"?(l=!0,a=u):u==="("?o+=1:u===")"?o>0&&(o-=1):o===0&&e.includes(u)&&(s=!0),s?(i!==""&&n.push(i.trim()),i="",s=!1):i+=u;return(t||i!=="")&&n.push(i.trim()),n}};var sh=sn;sn.default=sn;let oh=At,nE=sh,Ei=class extends oh{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return nE.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}};var Ca=Ei;Ei.default=Ei,oh.registerRule(Ei);let iE=va,sE=gi,oE=Si,aE=Ii,lE=$d,cE=nn,uE=Ca;function on(r,e){if(Array.isArray(r))return r.map(o=>on(o));let i=r,{inputs:t}=i,n=Ve(i,["inputs"]);if(t){e=[];for(let o of t){let l=se(I({},o),{__proto__:aE.prototype});l.map&&(l.map=se(I({},l.map),{__proto__:lE.prototype})),e.push(l)}}if(n.nodes&&(n.nodes=r.nodes.map(o=>on(o,e))),n.source){let s=n.source,{inputId:o}=s,l=Ve(s,["inputId"]);n.source=l,o!=null&&(n.source.input=e[o])}if(n.type==="root")return new cE(n);if(n.type==="decl")return new oE(n);if(n.type==="rule")return new uE(n);if(n.type==="comment")return new sE(n);if(n.type==="atrule")return new iE(n);throw new Error("Unknown node type: "+r.type)}var dE=on;on.default=on;let{dirname:wi,relative:ah,resolve:lh,sep:ch}=Je,{SourceMapConsumer:uh,SourceMapGenerator:Zi}=Je,{pathToFileURL:dh}=Je,hE=Ii,pE=!!(uh&&Zi),fE=!!(wi&&lh&&ah&&ch);var hh=class{constructor(e,t,n,i){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),n=e.root||wi(e.file),i;this.mapOpts.sourcesContent===!1?(i=new uh(e.text),i.sourcesContent&&(i.sourcesContent=null)):i=e.consumer(),this.map.applySourceMap(i,t,this.toUrl(this.path(n)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),fE&&pE&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Zi.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Zi({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Zi({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,n="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},s,o;this.stringify(this.root,(l,a,c)=>{if(this.css+=l,a&&c!=="end"&&(i.generated.line=e,i.generated.column=t-1,a.source&&a.source.start?(i.source=this.sourcePath(a),i.original.line=a.source.start.line,i.original.column=a.source.start.column-1,this.map.addMapping(i)):(i.source=n,i.original.line=1,i.original.column=0,this.map.addMapping(i))),o=l.match(/\n/g),o?(e+=o.length,s=l.lastIndexOf(`
`),t=l.length-s):t+=l.length,a&&c!=="start"){let u=a.parent||{raws:{}};(!(a.type==="decl"||a.type==="atrule"&&!a.nodes)||a!==u.last||u.raws.semicolon)&&(a.source&&a.source.end?(i.source=this.sourcePath(a),i.original.line=a.source.end.line,i.original.column=a.source.end.column-1,i.generated.line=e,i.generated.column=t-2,this.map.addMapping(i)):(i.source=n,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e!="undefined"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let n=this.opts.to?wi(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(n=wi(lh(n,this.mapOpts.annotation)));let i=ah(n,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new hE(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let n=t.source.input.from;if(n&&!e[n]){e[n]=!0;let i=this.usesFileUrls?this.toFileUrl(n):this.toUrl(this.path(n));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(dh){let n=dh(e).toString();return this.memoizedFileURLs.set(e,n),n}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;ch==="\\"&&(e=e.replace(/\\/g,"/"));let n=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,n),n}};const La=39,ph=34,_i=92,fh=47,Ci=10,an=32,Li=12,Gi=9,Ni=13,mE=91,yE=93,bE=40,gE=41,SE=123,vE=125,RE=59,TE=42,IE=58,EE=64,Vi=/[\t\n\f\r "#'()/;[\\\]{}]/g,Oi=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,wE=/.[\r\n"'(/\\]/,mh=/[\da-f]/i;var ZE=function(e,t={}){let n=e.css.valueOf(),i=t.ignoreErrors,s,o,l,a,c,u,d,h,p,m,f=n.length,y=0,b=[],S=[];function v(){return y}function T(L){throw e.error("Unclosed "+L,y)}function C(){return S.length===0&&y>=f}function N(L){if(S.length)return S.pop();if(y>=f)return;let x=L?L.ignoreUnclosed:!1;switch(s=n.charCodeAt(y),s){case Ci:case an:case Gi:case Ni:case Li:{a=y;do a+=1,s=n.charCodeAt(a);while(s===an||s===Ci||s===Gi||s===Ni||s===Li);u=["space",n.slice(y,a)],y=a-1;break}case mE:case yE:case SE:case vE:case IE:case RE:case gE:{let V=String.fromCharCode(s);u=[V,V,y];break}case bE:{if(m=b.length?b.pop()[1]:"",p=n.charCodeAt(y+1),m==="url"&&p!==La&&p!==ph&&p!==an&&p!==Ci&&p!==Gi&&p!==Li&&p!==Ni){a=y;do{if(d=!1,a=n.indexOf(")",a+1),a===-1)if(i||x){a=y;break}else T("bracket");for(h=a;n.charCodeAt(h-1)===_i;)h-=1,d=!d}while(d);u=["brackets",n.slice(y,a+1),y,a],y=a}else a=n.indexOf(")",y+1),o=n.slice(y,a+1),a===-1||wE.test(o)?u=["(","(",y]:(u=["brackets",o,y,a],y=a);break}case La:case ph:{c=s===La?"'":'"',a=y;do{if(d=!1,a=n.indexOf(c,a+1),a===-1)if(i||x){a=y+1;break}else T("string");for(h=a;n.charCodeAt(h-1)===_i;)h-=1,d=!d}while(d);u=["string",n.slice(y,a+1),y,a],y=a;break}case EE:{Vi.lastIndex=y+1,Vi.test(n),Vi.lastIndex===0?a=n.length-1:a=Vi.lastIndex-2,u=["at-word",n.slice(y,a+1),y,a],y=a;break}case _i:{for(a=y,l=!0;n.charCodeAt(a+1)===_i;)a+=1,l=!l;if(s=n.charCodeAt(a+1),l&&s!==fh&&s!==an&&s!==Ci&&s!==Gi&&s!==Ni&&s!==Li&&(a+=1,mh.test(n.charAt(a)))){for(;mh.test(n.charAt(a+1));)a+=1;n.charCodeAt(a+1)===an&&(a+=1)}u=["word",n.slice(y,a+1),y,a],y=a;break}default:{s===fh&&n.charCodeAt(y+1)===TE?(a=n.indexOf("*/",y+2)+1,a===0&&(i||x?a=n.length:T("comment")),u=["comment",n.slice(y,a+1),y,a],y=a):(Oi.lastIndex=y+1,Oi.test(n),Oi.lastIndex===0?a=n.length-1:a=Oi.lastIndex-2,u=["word",n.slice(y,a+1),y,a],b.push(u),y=a);break}}return y++,u}function w(L){S.push(L)}return{back:w,endOfFile:C,nextToken:N,position:v}};let _E=va,CE=gi,LE=Si,GE=nn,yh=Ca,NE=ZE;const bh={empty:!0,space:!0};function VE(r){for(let e=r.length-1;e>=0;e--){let t=r[e],n=t[3]||t[2];if(n)return n}}var OE=class{constructor(e){this.input=e,this.root=new GE,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new _E;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let n,i,s,o=!1,l=!1,a=[],c=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),n=e[0],n==="("||n==="["?c.push(n==="("?")":"]"):n==="{"&&c.length>0?c.push("}"):n===c[c.length-1]&&c.pop(),c.length===0)if(n===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(n==="{"){l=!0;break}else if(n==="}"){if(a.length>0){for(s=a.length-1,i=a[s];i&&i[0]==="space";)i=a[--s];i&&(t.source.end=this.getPosition(i[3]||i[2]),t.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),o&&(e=a[a.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let n=0,i;for(let s=t-1;s>=0&&(i=e[s],!(i[0]!=="space"&&(n+=1,n===2)));s--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let t=0,n,i,s;for(let[o,l]of e.entries()){if(i=l,s=i[0],s==="("&&(t+=1),s===")"&&(t-=1),t===0&&s===":")if(!n)this.doubleColon(i);else{if(n[0]==="word"&&n[1]==="progid")continue;return o}n=i}return!1}comment(e){let t=new CE;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let i=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}createTokenizer(){this.tokenizer=NE(this.input)}decl(e,t){let n=new LE;this.init(n,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(i[3]||i[2]||VE(e)),n.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let c=e[0][0];if(c===":"||c==="space"||c==="comment")break;n.prop+=e.shift()[1]}n.raws.between="";let s;for(;e.length;)if(s=e.shift(),s[0]===":"){n.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),n.raws.between+=s[1];(n.prop[0]==="_"||n.prop[0]==="*")&&(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let o=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let c=e.length-1;c>=0;c--){if(s=e[c],s[1].toLowerCase()==="!important"){n.important=!0;let u=this.stringFrom(e,c);u=this.spacesFromEnd(e)+u,u!==" !important"&&(n.raws.important=u);break}else if(s[1].toLowerCase()==="important"){let u=e.slice(0),d="";for(let h=c;h>0;h--){let p=u[h][0];if(d.trim().startsWith("!")&&p!=="space")break;d=u.pop()[1]+d}d.trim().startsWith("!")&&(n.important=!0,n.raws.important=d,e=u)}if(s[0]!=="space"&&s[0]!=="comment")break}e.some(c=>c[0]!=="space"&&c[0]!=="comment")&&(n.raws.between+=o.map(c=>c[1]).join(""),o=[]),this.raw(n,"value",o.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new yh;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,n=null,i=!1,s=null,o=[],l=e[1].startsWith("--"),a=[],c=e;for(;c;){if(n=c[0],a.push(c),n==="("||n==="[")s||(s=c),o.push(n==="("?")":"]");else if(l&&i&&n==="{")s||(s=c),o.push("}");else if(o.length===0)if(n===";")if(i){this.decl(a,l);return}else break;else if(n==="{"){this.rule(a);return}else if(n==="}"){this.tokenizer.back(a.pop()),t=!0;break}else n===":"&&(i=!0);else n===o[o.length-1]&&(o.pop(),o.length===0&&(s=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(s),t&&i){if(!l)for(;a.length&&(c=a[a.length-1][0],!(c!=="space"&&c!=="comment"));)this.tokenizer.back(a.pop());this.decl(a,l)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,n,i){let s,o,l=n.length,a="",c=!0,u,d;for(let h=0;h<l;h+=1)s=n[h],o=s[0],o==="space"&&h===l-1&&!i?c=!1:o==="comment"?(d=n[h-1]?n[h-1][0]:"empty",u=n[h+1]?n[h+1][0]:"empty",!bh[d]&&!bh[u]?a.slice(-1)===","?c=!1:a+=s[1]:c=!1):a+=s[1];if(!c){let h=n.reduce((p,m)=>p+m[1],"");e.raws[t]={raw:h,value:a}}e[t]=a}rule(e){e.pop();let t=new yh;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t,n="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)n+=e.shift()[1];return n}spacesFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],t==="space");)n=e.pop()[1]+n;return n}stringFrom(e,t){let n="";for(let i=t;i<e.length;i++)n+=e[i][1];return e.splice(t,e.length-t),n}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};let XE=At,WE=Ii,xE=OE;function Xi(r,e){let t=new WE(r,e),n=new xE(t);try{n.parse()}catch(i){throw process.env.NODE_ENV!=="production"&&i.name==="CssSyntaxError"&&e&&e.from&&(/\.scss$/i.test(e.from)?i.message+=`
You tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser`:/\.sass/i.test(e.from)?i.message+=`
You tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser`:/\.less$/i.test(e.from)&&(i.message+=`
You tried to parse Less with the standard CSS parser; try again with the postcss-less parser`)),i}return n.root}var Ga=Xi;Xi.default=Xi,XE.registerParse(Xi);let Na=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let n=t.node.rangeBy(t);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(let n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var gh=Na;Na.default=Na;let kE=gh,Va=class{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new kE(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var Oa=Va;Va.default=Va;let Sh={};var vh=function(e){Sh[e]||(Sh[e]=!0,typeof console!="undefined"&&console.warn&&console.warn(e))};let PE=At,AE=Ra,UE=hh,ME=Ga,Rh=Oa,YE=nn,FE=yi,{isClean:et,my:HE}=en,JE=vh;const BE={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},KE={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},DE={Once:!0,postcssPlugin:!0,prepare:!0},mr=0;function ln(r){return typeof r=="object"&&typeof r.then=="function"}function Th(r){let e=!1,t=BE[r.type];return r.type==="decl"?e=r.prop.toLowerCase():r.type==="atrule"&&(e=r.name.toLowerCase()),e&&r.append?[t,t+"-"+e,mr,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:r.append?[t,mr,t+"Exit"]:[t,t+"Exit"]}function Ih(r){let e;return r.type==="document"?e=["Document",mr,"DocumentExit"]:r.type==="root"?e=["Root",mr,"RootExit"]:e=Th(r),{eventIndex:0,events:e,iterator:0,node:r,visitorIndex:0,visitors:[]}}function Xa(r){return r[et]=!1,r.nodes&&r.nodes.forEach(e=>Xa(e)),r}let Wa={},yr=class nm{constructor(e,t,n){this.stringified=!1,this.processed=!1;let i;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))i=Xa(t);else if(t instanceof nm||t instanceof Rh)i=Xa(t.root),t.map&&(typeof n.map=="undefined"&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{let s=ME;n.syntax&&(s=n.syntax.parse),n.parser&&(s=n.parser),s.parse&&(s=s.parse);try{i=s(t,n)}catch(o){this.processed=!0,this.error=o}i&&!i[HE]&&PE.rebuild(i)}this.result=new Rh(e,i,n),this.helpers=se(I({},Wa),{postcss:Wa,result:this.result}),this.plugins=this.processor.plugins.map(s=>typeof s=="object"&&s.prepare?I(I({},s),s.prepare(this.result)):s)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin)e.plugin=n.postcssPlugin,e.setMessage();else if(n.postcssVersion&&process.env.NODE_ENV!=="production"){let i=n.postcssPlugin,s=n.postcssVersion,o=this.result.processor.version,l=s.split("."),a=o.split(".");(l[0]!==a[0]||parseInt(l[1])>parseInt(a[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+o+", but "+i+" uses "+s+". Perhaps this is the source of the error below.")}}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(t,n,i)=>{this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push([t,i])};for(let t of this.plugins)if(typeof t=="object")for(let n in t){if(!KE[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!DE[n])if(typeof t[n]=="object")for(let i in t[n])i==="*"?e(t,n,t[n][i]):e(t,n+"-"+i.toLowerCase(),t[n][i]);else typeof t[n]=="function"&&e(t,n,t[n])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){return $(this,null,function*(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],n=this.runOnRoot(t);if(ln(n))try{yield n}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[et];){e[et]=!0;let t=[Ih(e)];for(;t.length>0;){let n=this.visitTick(t);if(ln(n))try{yield n}catch(i){let s=t[t.length-1].node;throw this.handleError(i,s)}}}if(this.listeners.OnceExit)for(let[t,n]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let i=e.nodes.map(s=>n(s,this.helpers));yield Promise.all(i)}else yield n(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()})}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(n=>e.Once(n,this.helpers));return ln(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=FE;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new UE(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(ln(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[et];)e[et]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return process.env.NODE_ENV!=="production"&&("from"in this.opts||JE("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[n,i]of e){this.result.lastPlugin=n;let s;try{s=i(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(ln(s))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:n,visitors:i}=t;if(n.type!=="root"&&n.type!=="document"&&!n.parent){e.pop();return}if(i.length>0&&t.visitorIndex<i.length){let[o,l]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return l(n.toProxy(),this.helpers)}catch(a){throw this.handleError(a,n)}}if(t.iterator!==0){let o=t.iterator,l;for(;l=n.nodes[n.indexes[o]];)if(n.indexes[o]+=1,!l[et]){l[et]=!0,e.push(Ih(l));return}t.iterator=0,delete n.indexes[o]}let s=t.events;for(;t.eventIndex<s.length;){let o=s[t.eventIndex];if(t.eventIndex+=1,o===mr){n.nodes&&n.nodes.length&&(n[et]=!0,t.iterator=n.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}walkSync(e){e[et]=!0;let t=Th(e);for(let n of t)if(n===mr)e.nodes&&e.each(i=>{i[et]||this.walkSync(i)});else{let i=this.listeners[n];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};yr.registerPostcss=r=>{Wa=r};var Eh=yr;yr.default=yr,YE.registerLazyResult(yr),AE.registerLazyResult(yr);let zE=hh,jE=Ga;const QE=Oa;let $E=yi,qE=vh,xa=class{constructor(e,t,n){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0;let i,s=$E;this.result=new QE(this._processor,i,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let l=new zE(s,i,this._opts,t);if(l.isMap()){let[a,c]=l.generate();a&&(this.result.css=a),c&&(this.result.map=c)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return process.env.NODE_ENV!=="production"&&("from"in this._opts||qE("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=jE;try{e=t(this._css,this._opts)}catch(n){this.error=n}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var ew=xa;xa.default=xa;let tw=Ra,rw=Eh,nw=ew,iw=nn,cn=class{constructor(e=[]){this.version="8.4.47",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let n of e)if(n.postcss===!0?n=n():n.postcss&&(n=n.postcss),typeof n=="object"&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if(typeof n=="object"&&n.postcssPlugin)t.push(n);else if(typeof n=="function")t.push(n);else if(typeof n=="object"&&(n.parse||n.stringify)){if(process.env.NODE_ENV!=="production")throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.")}else throw new Error(n+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new nw(this,e,t):new rw(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var sw=cn;cn.default=cn,iw.registerProcessor(cn),tw.registerProcessor(cn);let wh=va,Zh=gi,ow=At,aw=da,_h=Si,Ch=Ra,lw=dE,cw=Ii,uw=Eh,dw=sh,hw=bi,pw=Ga,ka=sw,fw=Oa,Lh=nn,Gh=Ca,mw=yi,yw=gh;function ne(...r){return r.length===1&&Array.isArray(r[0])&&(r=r[0]),new ka(r)}ne.plugin=function(e,t){let n=!1;function i(...o){console&&console.warn&&!n&&(n=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let l=t(...o);return l.postcssPlugin=e,l.postcssVersion=new ka().version,l}let s;return Object.defineProperty(i,"postcss",{get(){return s||(s=i()),s}}),i.process=function(o,l,a){return ne([i(a)]).process(o,l)},i},ne.stringify=mw,ne.parse=pw,ne.fromJSON=lw,ne.list=dw,ne.comment=r=>new Zh(r),ne.atRule=r=>new wh(r),ne.decl=r=>new _h(r),ne.rule=r=>new Gh(r),ne.root=r=>new Lh(r),ne.document=r=>new Ch(r),ne.CssSyntaxError=aw,ne.Declaration=_h,ne.Container=ow,ne.Processor=ka,ne.Document=Ch,ne.Comment=Zh,ne.Warning=yw,ne.AtRule=wh,ne.Result=fw,ne.Input=cw,ne.Rule=Gh,ne.Root=Lh,ne.Node=hw,uw.registerPostcss(ne),ne.default=ne;var bw=Object.defineProperty,gw=(r,e,t)=>e in r?bw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pe=(r,e,t)=>gw(r,typeof e!="symbol"?e+"":e,t);function Sw(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Pa={exports:{}},F=String,Nh=function(){return{isColorSupported:!1,reset:F,bold:F,dim:F,italic:F,underline:F,inverse:F,hidden:F,strikethrough:F,black:F,red:F,green:F,yellow:F,blue:F,magenta:F,cyan:F,white:F,gray:F,bgBlack:F,bgRed:F,bgGreen:F,bgYellow:F,bgBlue:F,bgMagenta:F,bgCyan:F,bgWhite:F,blackBright:F,redBright:F,greenBright:F,yellowBright:F,blueBright:F,magentaBright:F,cyanBright:F,whiteBright:F,bgBlackBright:F,bgRedBright:F,bgGreenBright:F,bgYellowBright:F,bgBlueBright:F,bgMagentaBright:F,bgCyanBright:F,bgWhiteBright:F}};Pa.exports=Nh(),Pa.exports.createColors=Nh;var vw=Pa.exports;const Be=Sw(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let Vh=vw,Oh=Be,Aa=class im extends Error{constructor(e,t,n,i,s,o){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),i&&(this.source=i),o&&(this.plugin=o),typeof t!="undefined"&&typeof n!="undefined"&&(typeof t=="number"?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,im)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=Vh.isColorSupported);let n=u=>u,i=u=>u,s=u=>u;if(e){let{bold:u,gray:d,red:h}=Vh.createColors(!0);i=p=>u(h(p)),n=p=>d(p),Oh&&(s=p=>Oh(p))}let o=t.split(/\r?\n/),l=Math.max(this.line-3,0),a=Math.min(this.line+2,o.length),c=String(a).length;return o.slice(l,a).map((u,d)=>{let h=l+1+d,p=" "+(" "+h).slice(-c)+" | ";if(h===this.line){if(u.length>160){let f=20,y=Math.max(0,this.column-f),b=Math.max(this.column+f,this.endColumn+f),S=u.slice(y,b),v=n(p.replace(/\d/g," "))+u.slice(0,Math.min(this.column-1,f-1)).replace(/[^\t]/g," ");return i(">")+n(p)+s(S)+`
 `+v+i("^")}let m=n(p.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return i(">")+n(p)+s(u)+`
 `+m+i("^")}return" "+n(p)+s(u)}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var Ua=Aa;Aa.default=Aa;const Xh={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function Rw(r){return r[0].toUpperCase()+r.slice(1)}let Ma=class{constructor(e){this.builder=e}atrule(e,t){let n="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName!="undefined"?n+=e.raws.afterName:i&&(n+=" "),e.nodes)this.block(e,n+i);else{let s=(e.raws.between||"")+(t?";":"");this.builder(n+i+s,e)}}beforeAfter(e,t){let n;e.type==="decl"?n=this.raw(e,null,"beforeDecl"):e.type==="comment"?n=this.raw(e,null,"beforeComment"):t==="before"?n=this.raw(e,null,"beforeRule"):n=this.raw(e,null,"beforeClose");let i=e.parent,s=0;for(;i&&i.type!=="root";)s+=1,i=i.parent;if(n.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let l=0;l<s;l++)n+=o}return n}block(e,t){let n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let n=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i],o=this.raw(s,"before");o&&this.builder(o),this.stringify(s,t!==i||n)}}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),i=e.prop+n+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,n){let i;if(n||(n=t),t&&(i=e.raws[t],typeof i!="undefined"))return i;let s=e.parent;if(n==="before"&&(!s||s.type==="root"&&s.first===e||s&&s.type==="document"))return"";if(!s)return Xh[n];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[n]!="undefined")return o.rawCache[n];if(n==="before"||n==="after")return this.beforeAfter(e,n);{let l="raw"+Rw(n);this[l]?i=this[l](o,e):o.walk(a=>{if(i=a.raws[t],typeof i!="undefined")return!1})}return typeof i=="undefined"&&(i=Xh[n]),o.rawCache[n]=i,i}rawBeforeClose(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length>0&&typeof n.raws.after!="undefined")return t=n.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let n;return e.walkComments(i=>{if(typeof i.raws.before!="undefined")return n=i.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),typeof n=="undefined"?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls(i=>{if(typeof i.raws.before!="undefined")return n=i.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),typeof n=="undefined"?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(e){let t;return e.walk(n=>{if(n.type!=="decl"&&(t=n.raws.between,typeof t!="undefined"))return!1}),t}rawBeforeRule(e){let t;return e.walk(n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&typeof n.raws.before!="undefined")return t=n.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(n=>{if(typeof n.raws.between!="undefined")return t=n.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length===0&&(t=n.raws.after,typeof t!="undefined"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(n=>{let i=n.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof n.raws.before!="undefined"){let s=n.raws.before.split(`
`);return t=s[s.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length&&n.last.type==="decl"&&(t=n.raws.semicolon,typeof t!="undefined"))return!1}),t}rawValue(e,t){let n=e[t],i=e.raws[t];return i&&i.value===n?i.raw:n}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var Wh=Ma;Ma.default=Ma;let Tw=Wh;function Ya(r,e){new Tw(e).stringify(r)}var Wi=Ya;Ya.default=Ya;var un={};un.isClean=Symbol("isClean"),un.my=Symbol("my");let Iw=Ua,Ew=Wh,ww=Wi,{isClean:dn,my:Zw}=un;function Fa(r,e){let t=new r.constructor;for(let n in r){if(!Object.prototype.hasOwnProperty.call(r,n)||n==="proxyCache")continue;let i=r[n],s=typeof i;n==="parent"&&s==="object"?e&&(t[n]=e):n==="source"?t[n]=i:Array.isArray(i)?t[n]=i.map(o=>Fa(o,t)):(s==="object"&&i!==null&&(i=Fa(i)),t[n]=i)}return t}let Ha=class{constructor(e={}){this.raws={},this[dn]=!1,this[Zw]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let n of e[t])typeof n.clone=="function"?this.append(n.clone()):this.append(n)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=Fa(this);for(let n in e)t[n]=e[n];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:n,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:n.column,line:n.line},t)}return new Iw(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,n){return e[t]===n||(e[t]=n,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markClean(){this[dn]=!0}markDirty(){if(this[dn]){this[dn]=!1;let e=this;for(;e=e.parent;)e[dn]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let n=this.source.start;if(e.index)n=this.positionInside(e.index,t);else if(e.word){t=this.toString();let i=t.indexOf(e.word);i!==-1&&(n=this.positionInside(i,t))}return n}positionInside(e,t){let n=t||this.toString(),i=this.source.start.column,s=this.source.start.line;for(let o=0;o<e;o++)n[o]===`
`?(i=1,s+=1):i+=1;return{column:i,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),s=i.indexOf(e.word);s!==-1&&(t=this.positionInside(s,i),n=this.positionInside(s+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?n={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={column:t.column+1,line:t.line}),{end:n,start:t}}raw(e,t){return new Ew().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let i of e)i===this?n=!0:n?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);n||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let n={},i=t==null;t=t||new Map;let s=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let l=this[o];if(Array.isArray(l))n[o]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,t):a);else if(typeof l=="object"&&l.toJSON)n[o]=l.toJSON(null,t);else if(o==="source"){let a=t.get(l.input);a==null&&(a=s,t.set(l.input,s),s++),n[o]={end:l.end,inputId:a,start:l.start}}else n[o]=l}return i&&(n.inputs=[...t.keys()].map(o=>o.toJSON())),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=ww){e.stringify&&(e=e.stringify);let t="";return e(this,n=>{t+=n}),t}warn(e,t,n){let i={node:this};for(let s in n)i[s]=n[s];return e.warn(t,i)}get proxyOf(){return this}};var xi=Ha;Ha.default=Ha;let _w=xi,Ja=class extends _w{constructor(e){super(e),this.type="comment"}};var ki=Ja;Ja.default=Ja;let Cw=xi,Ba=class extends Cw{constructor(e){e&&typeof e.value!="undefined"&&typeof e.value!="string"&&(e=se(I({},e),{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var Pi=Ba;Ba.default=Ba;let xh=ki,kh=Pi,Lw=xi,{isClean:Ph,my:Ah}=un,Ka,Uh,Mh,Da;function Yh(r){return r.map(e=>(e.nodes&&(e.nodes=Yh(e.nodes)),delete e.source,e))}function Fh(r){if(r[Ph]=!1,r.proxyOf.nodes)for(let e of r.proxyOf.nodes)Fh(e)}let ht=class sm extends Lw{append(...e){for(let t of e){let n=this.normalize(t,this.last);for(let i of n)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),n,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(n=this.indexes[t],i=e(this.proxyOf.nodes[n],n),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...n)=>e[t](...n.map(i=>typeof i=="function"?(s,o)=>i(s.toProxy(),o):i)):t==="every"||t==="some"?n=>e[t]((i,...s)=>n(i.toProxy(),...s)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(n=>n.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,n){return e[t]===n||(e[t]=n,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let n=this.index(e),i=this.normalize(t,this.proxyOf.nodes[n]).reverse();n=this.index(e);for(let o of i)this.proxyOf.nodes.splice(n+1,0,o);let s;for(let o in this.indexes)s=this.indexes[o],n<s&&(this.indexes[o]=s+i.length);return this.markDirty(),this}insertBefore(e,t){let n=this.index(e),i=n===0?"prepend":!1,s=this.normalize(t,this.proxyOf.nodes[n],i).reverse();n=this.index(e);for(let l of s)this.proxyOf.nodes.splice(n,0,l);let o;for(let l in this.indexes)o=this.indexes[l],n<=o&&(this.indexes[l]=o+s.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=Yh(Uh(e).nodes);else if(typeof e=="undefined")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value=="undefined")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new kh(e)]}else if(e.selector||e.selectors)e=[new Da(e)];else if(e.name)e=[new Ka(e)];else if(e.text)e=[new xh(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[Ah]||sm.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[Ph]&&Fh(i),i.raws||(i.raws={}),typeof i.raws.before=="undefined"&&t&&typeof t.raws.before!="undefined"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...e){e=e.reverse();for(let t of e){let n=this.normalize(t,this.first,"prepend").reverse();for(let i of n)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+n.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,n))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,n)=>{let i;try{i=e(t,n)}catch(s){throw t.addToError(s)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="atrule"&&e.test(n.name))return t(n,i)}):this.walk((n,i)=>{if(n.type==="atrule"&&n.name===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="atrule")return t(n,i)}))}walkComments(e){return this.walk((t,n)=>{if(t.type==="comment")return e(t,n)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="decl"&&e.test(n.prop))return t(n,i)}):this.walk((n,i)=>{if(n.type==="decl"&&n.prop===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="decl")return t(n,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="rule"&&e.test(n.selector))return t(n,i)}):this.walk((n,i)=>{if(n.type==="rule"&&n.selector===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="rule")return t(n,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};ht.registerParse=r=>{Uh=r},ht.registerRule=r=>{Da=r},ht.registerAtRule=r=>{Ka=r},ht.registerRoot=r=>{Mh=r};var Ut=ht;ht.default=ht,ht.rebuild=r=>{r.type==="atrule"?Object.setPrototypeOf(r,Ka.prototype):r.type==="rule"?Object.setPrototypeOf(r,Da.prototype):r.type==="decl"?Object.setPrototypeOf(r,kh.prototype):r.type==="comment"?Object.setPrototypeOf(r,xh.prototype):r.type==="root"&&Object.setPrototypeOf(r,Mh.prototype),r[Ah]=!0,r.nodes&&r.nodes.forEach(e=>{ht.rebuild(e)})};let Hh=Ut,Ai=class extends Hh{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var za=Ai;Ai.default=Ai,Hh.registerAtRule(Ai);let Gw=Ut,Jh,Bh,hn=class extends Gw{constructor(e){super(I({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(e={}){return new Jh(new Bh,this,e).stringify()}};hn.registerLazyResult=r=>{Jh=r},hn.registerProcessor=r=>{Bh=r};var ja=hn;hn.default=hn;let Nw="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var Vw={nanoid:(r=21)=>{let e="",t=r;for(;t--;)e+=Nw[Math.random()*64|0];return e},customAlphabet:(r,e=21)=>(t=e)=>{let n="",i=t;for(;i--;)n+=r[Math.random()*r.length|0];return n}};let{existsSync:Ow,readFileSync:Xw}=Be,{dirname:Qa,join:Ww}=Be,{SourceMapConsumer:Kh,SourceMapGenerator:Dh}=Be;function xw(r){return Buffer?Buffer.from(r,"base64").toString():window.atob(r)}let $a=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,i=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Qa(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new Kh(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,n=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/,o=e.match(i)||e.match(s);if(o)return decodeURIComponent(e.substr(o[0].length));let l=e.match(t)||e.match(n);if(l)return xw(e.substr(l[0].length));let a=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+a)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let n=e.lastIndexOf(t.pop()),i=e.indexOf("*/",n);n>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,i)))}loadFile(e){if(this.root=Qa(e),Ow(e))return this.mapFile=e,Xw(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let n=t(e);if(n){let i=this.loadFile(n);if(!i)throw new Error("Unable to load previous source map: "+n.toString());return i}}else{if(t instanceof Kh)return Dh.fromSourceMap(t).toString();if(t instanceof Dh)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let n=this.annotation;return e&&(n=Ww(Qa(e),n)),this.loadFile(n)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var zh=$a;$a.default=$a;let{nanoid:kw}=Vw,{isAbsolute:qa,resolve:el}=Be,{SourceMapConsumer:Pw,SourceMapGenerator:Aw}=Be,{fileURLToPath:jh,pathToFileURL:Ui}=Be,Qh=Ua,Uw=zh,tl=Be,rl=Symbol("fromOffsetCache"),Mw=!!(Pw&&Aw),$h=!!(el&&qa),Mi=class{constructor(e,t={}){if(e===null||typeof e=="undefined"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!$h||/^\w+:\/\//.test(t.from)||qa(t.from)?this.file=t.from:this.file=el(t.from)),$h&&Mw){let n=new Uw(this.css,t);if(n.text){this.map=n;let i=n.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+kw(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,n,i={}){let s,o,l;if(t&&typeof t=="object"){let c=t,u=n;if(typeof c.offset=="number"){let d=this.fromOffset(c.offset);t=d.line,n=d.col}else t=c.line,n=c.column;if(typeof u.offset=="number"){let d=this.fromOffset(u.offset);o=d.line,s=d.col}else o=u.line,s=u.column}else if(!n){let c=this.fromOffset(t);t=c.line,n=c.col}let a=this.origin(t,n,o,s);return a?l=new Qh(e,a.endLine===void 0?a.line:{column:a.column,line:a.line},a.endLine===void 0?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,i.plugin):l=new Qh(e,o===void 0?t:{column:n,line:t},o===void 0?n:{column:s,line:o},this.css,this.file,i.plugin),l.input={column:n,endColumn:s,endLine:o,line:t,source:this.css},this.file&&(Ui&&(l.input.url=Ui(this.file).toString()),l.input.file=this.file),l}fromOffset(e){let t,n;if(this[rl])n=this[rl];else{let s=this.css.split(`
`);n=new Array(s.length);let o=0;for(let l=0,a=s.length;l<a;l++)n[l]=o,o+=s[l].length+1;this[rl]=n}t=n[n.length-1];let i=0;if(e>=t)i=n.length-1;else{let s=n.length-2,o;for(;i<s;)if(o=i+(s-i>>1),e<n[o])s=o-1;else if(e>=n[o+1])i=o+1;else{i=o;break}}return{col:e-n[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:el(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,n,i){if(!this.map)return!1;let s=this.map.consumer(),o=s.originalPositionFor({column:t,line:e});if(!o.source)return!1;let l;typeof n=="number"&&(l=s.originalPositionFor({column:i,line:n}));let a;qa(o.source)?a=Ui(o.source):a=new URL(o.source,this.map.consumer().sourceRoot||Ui(this.map.mapFile));let c={column:o.column,endColumn:l&&l.column,endLine:l&&l.line,line:o.line,url:a.toString()};if(a.protocol==="file:")if(jh)c.file=jh(a);else throw new Error("file: protocol is not available in this PostCSS build");let u=s.sourceContentFor(o.source);return u&&(c.source=u),c}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map=I({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Yi=Mi;Mi.default=Mi,tl&&tl.registerInput&&tl.registerInput(Mi);let qh=Ut,ep,tp,br=class extends qh{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,n){let i=super.normalize(e);if(t){if(n==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of i)s.raws.before=t.raws.before}return i}removeChild(e,t){let n=this.index(e);return!t&&n===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}toResult(e={}){return new ep(new tp,this,e).stringify()}};br.registerLazyResult=r=>{ep=r},br.registerProcessor=r=>{tp=r};var pn=br;br.default=br,qh.registerRoot(br);let fn={comma(r){return fn.split(r,[","],!0)},space(r){let e=[" ",`
`,"	"];return fn.split(r,e)},split(r,e,t){let n=[],i="",s=!1,o=0,l=!1,a="",c=!1;for(let u of r)c?c=!1:u==="\\"?c=!0:l?u===a&&(l=!1):u==='"'||u==="'"?(l=!0,a=u):u==="("?o+=1:u===")"?o>0&&(o-=1):o===0&&e.includes(u)&&(s=!0),s?(i!==""&&n.push(i.trim()),i="",s=!1):i+=u;return(t||i!=="")&&n.push(i.trim()),n}};var rp=fn;fn.default=fn;let np=Ut,Yw=rp,Fi=class extends np{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Yw.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}};var nl=Fi;Fi.default=Fi,np.registerRule(Fi);let Fw=za,Hw=ki,Jw=Pi,Bw=Yi,Kw=zh,Dw=pn,zw=nl;function mn(r,e){if(Array.isArray(r))return r.map(o=>mn(o));let i=r,{inputs:t}=i,n=Ve(i,["inputs"]);if(t){e=[];for(let o of t){let l=se(I({},o),{__proto__:Bw.prototype});l.map&&(l.map=se(I({},l.map),{__proto__:Kw.prototype})),e.push(l)}}if(n.nodes&&(n.nodes=r.nodes.map(o=>mn(o,e))),n.source){let s=n.source,{inputId:o}=s,l=Ve(s,["inputId"]);n.source=l,o!=null&&(n.source.input=e[o])}if(n.type==="root")return new Dw(n);if(n.type==="decl")return new Jw(n);if(n.type==="rule")return new zw(n);if(n.type==="comment")return new Hw(n);if(n.type==="atrule")return new Fw(n);throw new Error("Unknown node type: "+r.type)}var jw=mn;mn.default=mn;let{dirname:Hi,relative:ip,resolve:sp,sep:op}=Be,{SourceMapConsumer:ap,SourceMapGenerator:Ji}=Be,{pathToFileURL:lp}=Be,Qw=Yi,$w=!!(ap&&Ji),qw=!!(Hi&&sp&&ip&&op);var cp=class{constructor(e,t,n,i){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),n=e.root||Hi(e.file),i;this.mapOpts.sourcesContent===!1?(i=new ap(e.text),i.sourcesContent&&(i.sourcesContent=null)):i=e.consumer(),this.map.applySourceMap(i,t,this.toUrl(this.path(n)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),qw&&$w&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Ji.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Ji({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Ji({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,n="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},s,o;this.stringify(this.root,(l,a,c)=>{if(this.css+=l,a&&c!=="end"&&(i.generated.line=e,i.generated.column=t-1,a.source&&a.source.start?(i.source=this.sourcePath(a),i.original.line=a.source.start.line,i.original.column=a.source.start.column-1,this.map.addMapping(i)):(i.source=n,i.original.line=1,i.original.column=0,this.map.addMapping(i))),o=l.match(/\n/g),o?(e+=o.length,s=l.lastIndexOf(`
`),t=l.length-s):t+=l.length,a&&c!=="start"){let u=a.parent||{raws:{}};(!(a.type==="decl"||a.type==="atrule"&&!a.nodes)||a!==u.last||u.raws.semicolon)&&(a.source&&a.source.end?(i.source=this.sourcePath(a),i.original.line=a.source.end.line,i.original.column=a.source.end.column-1,i.generated.line=e,i.generated.column=t-2,this.map.addMapping(i)):(i.source=n,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e!="undefined"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let n=this.opts.to?Hi(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(n=Hi(sp(n,this.mapOpts.annotation)));let i=ip(n,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new Qw(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let n=t.source.input.from;if(n&&!e[n]){e[n]=!0;let i=this.usesFileUrls?this.toFileUrl(n):this.toUrl(this.path(n));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(lp){let n=lp(e).toString();return this.memoizedFileURLs.set(e,n),n}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;op==="\\"&&(e=e.replace(/\\/g,"/"));let n=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,n),n}};const il=39,up=34,Bi=92,dp=47,Ki=10,yn=32,Di=12,zi=9,ji=13,eZ=91,tZ=93,rZ=40,nZ=41,iZ=123,sZ=125,oZ=59,aZ=42,lZ=58,cZ=64,Qi=/[\t\n\f\r "#'()/;[\\\]{}]/g,$i=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,uZ=/.[\r\n"'(/\\]/,hp=/[\da-f]/i;var dZ=function(e,t={}){let n=e.css.valueOf(),i=t.ignoreErrors,s,o,l,a,c,u,d,h,p,m,f=n.length,y=0,b=[],S=[];function v(){return y}function T(L){throw e.error("Unclosed "+L,y)}function C(){return S.length===0&&y>=f}function N(L){if(S.length)return S.pop();if(y>=f)return;let x=L?L.ignoreUnclosed:!1;switch(s=n.charCodeAt(y),s){case Ki:case yn:case zi:case ji:case Di:{a=y;do a+=1,s=n.charCodeAt(a);while(s===yn||s===Ki||s===zi||s===ji||s===Di);u=["space",n.slice(y,a)],y=a-1;break}case eZ:case tZ:case iZ:case sZ:case lZ:case oZ:case nZ:{let V=String.fromCharCode(s);u=[V,V,y];break}case rZ:{if(m=b.length?b.pop()[1]:"",p=n.charCodeAt(y+1),m==="url"&&p!==il&&p!==up&&p!==yn&&p!==Ki&&p!==zi&&p!==Di&&p!==ji){a=y;do{if(d=!1,a=n.indexOf(")",a+1),a===-1)if(i||x){a=y;break}else T("bracket");for(h=a;n.charCodeAt(h-1)===Bi;)h-=1,d=!d}while(d);u=["brackets",n.slice(y,a+1),y,a],y=a}else a=n.indexOf(")",y+1),o=n.slice(y,a+1),a===-1||uZ.test(o)?u=["(","(",y]:(u=["brackets",o,y,a],y=a);break}case il:case up:{c=s===il?"'":'"',a=y;do{if(d=!1,a=n.indexOf(c,a+1),a===-1)if(i||x){a=y+1;break}else T("string");for(h=a;n.charCodeAt(h-1)===Bi;)h-=1,d=!d}while(d);u=["string",n.slice(y,a+1),y,a],y=a;break}case cZ:{Qi.lastIndex=y+1,Qi.test(n),Qi.lastIndex===0?a=n.length-1:a=Qi.lastIndex-2,u=["at-word",n.slice(y,a+1),y,a],y=a;break}case Bi:{for(a=y,l=!0;n.charCodeAt(a+1)===Bi;)a+=1,l=!l;if(s=n.charCodeAt(a+1),l&&s!==dp&&s!==yn&&s!==Ki&&s!==zi&&s!==ji&&s!==Di&&(a+=1,hp.test(n.charAt(a)))){for(;hp.test(n.charAt(a+1));)a+=1;n.charCodeAt(a+1)===yn&&(a+=1)}u=["word",n.slice(y,a+1),y,a],y=a;break}default:{s===dp&&n.charCodeAt(y+1)===aZ?(a=n.indexOf("*/",y+2)+1,a===0&&(i||x?a=n.length:T("comment")),u=["comment",n.slice(y,a+1),y,a],y=a):($i.lastIndex=y+1,$i.test(n),$i.lastIndex===0?a=n.length-1:a=$i.lastIndex-2,u=["word",n.slice(y,a+1),y,a],b.push(u),y=a);break}}return y++,u}function w(L){S.push(L)}return{back:w,endOfFile:C,nextToken:N,position:v}};let hZ=za,pZ=ki,fZ=Pi,mZ=pn,pp=nl,yZ=dZ;const fp={empty:!0,space:!0};function bZ(r){for(let e=r.length-1;e>=0;e--){let t=r[e],n=t[3]||t[2];if(n)return n}}var gZ=class{constructor(e){this.input=e,this.root=new mZ,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new hZ;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let n,i,s,o=!1,l=!1,a=[],c=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),n=e[0],n==="("||n==="["?c.push(n==="("?")":"]"):n==="{"&&c.length>0?c.push("}"):n===c[c.length-1]&&c.pop(),c.length===0)if(n===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(n==="{"){l=!0;break}else if(n==="}"){if(a.length>0){for(s=a.length-1,i=a[s];i&&i[0]==="space";)i=a[--s];i&&(t.source.end=this.getPosition(i[3]||i[2]),t.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),o&&(e=a[a.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let n=0,i;for(let s=t-1;s>=0&&(i=e[s],!(i[0]!=="space"&&(n+=1,n===2)));s--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let t=0,n,i,s;for(let[o,l]of e.entries()){if(i=l,s=i[0],s==="("&&(t+=1),s===")"&&(t-=1),t===0&&s===":")if(!n)this.doubleColon(i);else{if(n[0]==="word"&&n[1]==="progid")continue;return o}n=i}return!1}comment(e){let t=new pZ;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let i=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}createTokenizer(){this.tokenizer=yZ(this.input)}decl(e,t){let n=new fZ;this.init(n,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(i[3]||i[2]||bZ(e)),n.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let c=e[0][0];if(c===":"||c==="space"||c==="comment")break;n.prop+=e.shift()[1]}n.raws.between="";let s;for(;e.length;)if(s=e.shift(),s[0]===":"){n.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),n.raws.between+=s[1];(n.prop[0]==="_"||n.prop[0]==="*")&&(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let o=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let c=e.length-1;c>=0;c--){if(s=e[c],s[1].toLowerCase()==="!important"){n.important=!0;let u=this.stringFrom(e,c);u=this.spacesFromEnd(e)+u,u!==" !important"&&(n.raws.important=u);break}else if(s[1].toLowerCase()==="important"){let u=e.slice(0),d="";for(let h=c;h>0;h--){let p=u[h][0];if(d.trim().startsWith("!")&&p!=="space")break;d=u.pop()[1]+d}d.trim().startsWith("!")&&(n.important=!0,n.raws.important=d,e=u)}if(s[0]!=="space"&&s[0]!=="comment")break}e.some(c=>c[0]!=="space"&&c[0]!=="comment")&&(n.raws.between+=o.map(c=>c[1]).join(""),o=[]),this.raw(n,"value",o.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new pp;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,n=null,i=!1,s=null,o=[],l=e[1].startsWith("--"),a=[],c=e;for(;c;){if(n=c[0],a.push(c),n==="("||n==="[")s||(s=c),o.push(n==="("?")":"]");else if(l&&i&&n==="{")s||(s=c),o.push("}");else if(o.length===0)if(n===";")if(i){this.decl(a,l);return}else break;else if(n==="{"){this.rule(a);return}else if(n==="}"){this.tokenizer.back(a.pop()),t=!0;break}else n===":"&&(i=!0);else n===o[o.length-1]&&(o.pop(),o.length===0&&(s=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(s),t&&i){if(!l)for(;a.length&&(c=a[a.length-1][0],!(c!=="space"&&c!=="comment"));)this.tokenizer.back(a.pop());this.decl(a,l)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,n,i){let s,o,l=n.length,a="",c=!0,u,d;for(let h=0;h<l;h+=1)s=n[h],o=s[0],o==="space"&&h===l-1&&!i?c=!1:o==="comment"?(d=n[h-1]?n[h-1][0]:"empty",u=n[h+1]?n[h+1][0]:"empty",!fp[d]&&!fp[u]?a.slice(-1)===","?c=!1:a+=s[1]:c=!1):a+=s[1];if(!c){let h=n.reduce((p,m)=>p+m[1],"");e.raws[t]={raw:h,value:a}}e[t]=a}rule(e){e.pop();let t=new pp;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t,n="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)n+=e.shift()[1];return n}spacesFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],t==="space");)n=e.pop()[1]+n;return n}stringFrom(e,t){let n="";for(let i=t;i<e.length;i++)n+=e[i][1];return e.splice(t,e.length-t),n}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};let SZ=Ut,vZ=Yi,RZ=gZ;function qi(r,e){let t=new vZ(r,e),n=new RZ(t);try{n.parse()}catch(i){throw process.env.NODE_ENV!=="production"&&i.name==="CssSyntaxError"&&e&&e.from&&(/\.scss$/i.test(e.from)?i.message+=`
You tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser`:/\.sass/i.test(e.from)?i.message+=`
You tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser`:/\.less$/i.test(e.from)&&(i.message+=`
You tried to parse Less with the standard CSS parser; try again with the postcss-less parser`)),i}return n.root}var sl=qi;qi.default=qi,SZ.registerParse(qi);let ol=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let n=t.node.rangeBy(t);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(let n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var mp=ol;ol.default=ol;let TZ=mp,al=class{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new TZ(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var ll=al;al.default=al;let yp={};var bp=function(e){yp[e]||(yp[e]=!0,typeof console!="undefined"&&console.warn&&console.warn(e))};let IZ=Ut,EZ=ja,wZ=cp,ZZ=sl,gp=ll,_Z=pn,CZ=Wi,{isClean:tt,my:LZ}=un,GZ=bp;const NZ={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},VZ={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},OZ={Once:!0,postcssPlugin:!0,prepare:!0},gr=0;function bn(r){return typeof r=="object"&&typeof r.then=="function"}function Sp(r){let e=!1,t=NZ[r.type];return r.type==="decl"?e=r.prop.toLowerCase():r.type==="atrule"&&(e=r.name.toLowerCase()),e&&r.append?[t,t+"-"+e,gr,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:r.append?[t,gr,t+"Exit"]:[t,t+"Exit"]}function vp(r){let e;return r.type==="document"?e=["Document",gr,"DocumentExit"]:r.type==="root"?e=["Root",gr,"RootExit"]:e=Sp(r),{eventIndex:0,events:e,iterator:0,node:r,visitorIndex:0,visitors:[]}}function cl(r){return r[tt]=!1,r.nodes&&r.nodes.forEach(e=>cl(e)),r}let ul={},Sr=class om{constructor(e,t,n){this.stringified=!1,this.processed=!1;let i;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))i=cl(t);else if(t instanceof om||t instanceof gp)i=cl(t.root),t.map&&(typeof n.map=="undefined"&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{let s=ZZ;n.syntax&&(s=n.syntax.parse),n.parser&&(s=n.parser),s.parse&&(s=s.parse);try{i=s(t,n)}catch(o){this.processed=!0,this.error=o}i&&!i[LZ]&&IZ.rebuild(i)}this.result=new gp(e,i,n),this.helpers=se(I({},ul),{postcss:ul,result:this.result}),this.plugins=this.processor.plugins.map(s=>typeof s=="object"&&s.prepare?I(I({},s),s.prepare(this.result)):s)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin)e.plugin=n.postcssPlugin,e.setMessage();else if(n.postcssVersion&&process.env.NODE_ENV!=="production"){let i=n.postcssPlugin,s=n.postcssVersion,o=this.result.processor.version,l=s.split("."),a=o.split(".");(l[0]!==a[0]||parseInt(l[1])>parseInt(a[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+o+", but "+i+" uses "+s+". Perhaps this is the source of the error below.")}}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(t,n,i)=>{this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push([t,i])};for(let t of this.plugins)if(typeof t=="object")for(let n in t){if(!VZ[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!OZ[n])if(typeof t[n]=="object")for(let i in t[n])i==="*"?e(t,n,t[n][i]):e(t,n+"-"+i.toLowerCase(),t[n][i]);else typeof t[n]=="function"&&e(t,n,t[n])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){return $(this,null,function*(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],n=this.runOnRoot(t);if(bn(n))try{yield n}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[tt];){e[tt]=!0;let t=[vp(e)];for(;t.length>0;){let n=this.visitTick(t);if(bn(n))try{yield n}catch(i){let s=t[t.length-1].node;throw this.handleError(i,s)}}}if(this.listeners.OnceExit)for(let[t,n]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let i=e.nodes.map(s=>n(s,this.helpers));yield Promise.all(i)}else yield n(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()})}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(n=>e.Once(n,this.helpers));return bn(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=CZ;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new wZ(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(bn(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[tt];)e[tt]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return process.env.NODE_ENV!=="production"&&("from"in this.opts||GZ("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[n,i]of e){this.result.lastPlugin=n;let s;try{s=i(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(bn(s))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:n,visitors:i}=t;if(n.type!=="root"&&n.type!=="document"&&!n.parent){e.pop();return}if(i.length>0&&t.visitorIndex<i.length){let[o,l]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return l(n.toProxy(),this.helpers)}catch(a){throw this.handleError(a,n)}}if(t.iterator!==0){let o=t.iterator,l;for(;l=n.nodes[n.indexes[o]];)if(n.indexes[o]+=1,!l[tt]){l[tt]=!0,e.push(vp(l));return}t.iterator=0,delete n.indexes[o]}let s=t.events;for(;t.eventIndex<s.length;){let o=s[t.eventIndex];if(t.eventIndex+=1,o===gr){n.nodes&&n.nodes.length&&(n[tt]=!0,t.iterator=n.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}walkSync(e){e[tt]=!0;let t=Sp(e);for(let n of t)if(n===gr)e.nodes&&e.each(i=>{i[tt]||this.walkSync(i)});else{let i=this.listeners[n];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Sr.registerPostcss=r=>{ul=r};var Rp=Sr;Sr.default=Sr,_Z.registerLazyResult(Sr),EZ.registerLazyResult(Sr);let XZ=cp,WZ=sl;const xZ=ll;let kZ=Wi,PZ=bp,dl=class{constructor(e,t,n){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0;let i,s=kZ;this.result=new xZ(this._processor,i,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let l=new XZ(s,i,this._opts,t);if(l.isMap()){let[a,c]=l.generate();a&&(this.result.css=a),c&&(this.result.map=c)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return process.env.NODE_ENV!=="production"&&("from"in this._opts||PZ("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=WZ;try{e=t(this._css,this._opts)}catch(n){this.error=n}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var AZ=dl;dl.default=dl;let UZ=ja,MZ=Rp,YZ=AZ,FZ=pn,gn=class{constructor(e=[]){this.version="8.4.47",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let n of e)if(n.postcss===!0?n=n():n.postcss&&(n=n.postcss),typeof n=="object"&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if(typeof n=="object"&&n.postcssPlugin)t.push(n);else if(typeof n=="function")t.push(n);else if(typeof n=="object"&&(n.parse||n.stringify)){if(process.env.NODE_ENV!=="production")throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.")}else throw new Error(n+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new YZ(this,e,t):new MZ(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var HZ=gn;gn.default=gn,FZ.registerProcessor(gn),UZ.registerProcessor(gn);let Tp=za,Ip=ki,JZ=Ut,BZ=Ua,Ep=Pi,wp=ja,KZ=jw,DZ=Yi,zZ=Rp,jZ=rp,QZ=xi,$Z=sl,hl=HZ,qZ=ll,Zp=pn,_p=nl,e_=Wi,t_=mp;function ie(...r){return r.length===1&&Array.isArray(r[0])&&(r=r[0]),new hl(r)}ie.plugin=function(e,t){let n=!1;function i(...o){console&&console.warn&&!n&&(n=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let l=t(...o);return l.postcssPlugin=e,l.postcssVersion=new hl().version,l}let s;return Object.defineProperty(i,"postcss",{get(){return s||(s=i()),s}}),i.process=function(o,l,a){return ie([i(a)]).process(o,l)},i},ie.stringify=e_,ie.parse=$Z,ie.fromJSON=KZ,ie.list=jZ,ie.comment=r=>new Ip(r),ie.atRule=r=>new Tp(r),ie.decl=r=>new Ep(r),ie.rule=r=>new _p(r),ie.root=r=>new Zp(r),ie.document=r=>new wp(r),ie.CssSyntaxError=BZ,ie.Declaration=Ep,ie.Container=JZ,ie.Processor=hl,ie.Document=wp,ie.Comment=Ip,ie.Warning=t_,ie.AtRule=Tp,ie.Result=qZ,ie.Input=DZ,ie.Rule=_p,ie.Root=Zp,ie.Node=QZ,zZ.registerPostcss(ie),ie.default=ie;class pl{constructor(...e){Pe(this,"parentElement",null),Pe(this,"parentNode",null),Pe(this,"ownerDocument"),Pe(this,"firstChild",null),Pe(this,"lastChild",null),Pe(this,"previousSibling",null),Pe(this,"nextSibling",null),Pe(this,"ELEMENT_NODE",1),Pe(this,"TEXT_NODE",3),Pe(this,"nodeType"),Pe(this,"nodeName"),Pe(this,"RRNodeType")}get childNodes(){const e=[];let t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(e instanceof pl){if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0}else return!1;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}const Cp={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Lp={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},es={};function fl(r){if(es[r])return es[r];const e=globalThis[r],t=e.prototype,n=r in Cp?Cp[r]:void 0,i=!!(n&&n.every(l=>{var a,c;return!!((c=(a=Object.getOwnPropertyDescriptor(t,l))==null?void 0:a.get)!=null&&c.toString().includes("[native code]"))})),s=r in Lp?Lp[r]:void 0,o=!!(s&&s.every(l=>{var a;return typeof t[l]=="function"&&((a=t[l])==null?void 0:a.toString().includes("[native code]"))}));if(i&&o)return es[r]=e.prototype,e.prototype;try{const l=document.createElement("iframe");document.body.appendChild(l);const a=l.contentWindow;if(!a)return e.prototype;const c=a[r].prototype;return document.body.removeChild(l),c?es[r]=c:t}catch(l){return t}}const ml={};function It(r,e,t){var n;const i=`${r}.${String(t)}`;if(ml[i])return ml[i].call(e);const s=fl(r),o=(n=Object.getOwnPropertyDescriptor(s,t))==null?void 0:n.get;return o?(ml[i]=o,o.call(e)):e[t]}const yl={};function Gp(r,e,t){const n=`${r}.${String(t)}`;if(yl[n])return yl[n].bind(e);const s=fl(r)[t];return typeof s!="function"?e[t]:(yl[n]=s,s.bind(e))}function r_(r){return It("Node",r,"childNodes")}function n_(r){return It("Node",r,"parentNode")}function i_(r){return It("Node",r,"parentElement")}function s_(r){return It("Node",r,"textContent")}function o_(r,e){return Gp("Node",r,"contains")(e)}function a_(r){return Gp("Node",r,"getRootNode")()}function l_(r){return!r||!("host"in r)?null:It("ShadowRoot",r,"host")}function c_(r){return r.styleSheets}function u_(r){return!r||!("shadowRoot"in r)?null:It("Element",r,"shadowRoot")}function d_(r,e){return It("Element",r,"querySelector")(e)}function h_(r,e){return It("Element",r,"querySelectorAll")(e)}function Np(){return fl("MutationObserver").constructor}const B={childNodes:r_,parentNode:n_,parentElement:i_,textContent:s_,contains:o_,getRootNode:a_,host:l_,styleSheets:c_,shadowRoot:u_,querySelector:d_,querySelectorAll:h_,mutationObserver:Np};function _e(r,e,t=document){const n={capture:!0};return t.addEventListener(r,e,n),()=>t.removeEventListener(r,e,n)}const vr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Vp={map:{},getId(){return console.error(vr),-1},getNode(){return console.error(vr),null},removeNodeFromMap(){console.error(vr)},has(){return console.error(vr),!1},reset(){console.error(vr)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(Vp=new Proxy(Vp,{get(r,e,t){return e==="map"&&console.error(vr),Reflect.get(r,e,t)}}));function Sn(r,e,t={}){let n=null,i=0;return function(...s){const o=Date.now();!i&&t.leading===!1&&(i=o);const l=e-(o-i),a=this;l<=0||l>e?(n&&(clearTimeout(n),n=null),i=o,r.apply(a,s)):!n&&t.trailing!==!1&&(n=setTimeout(()=>{i=t.leading===!1?0:Date.now(),n=null,r.apply(a,s)},l))}}function ts(r,e,t,n,i=window){const s=i.Object.getOwnPropertyDescriptor(r,e);return i.Object.defineProperty(r,e,n?t:{set(o){setTimeout(()=>{t.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>ts(r,e,s||{},!0)}function Rr(r,e,t){try{if(!(e in r))return()=>{};const n=r[e],i=t(n);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),r[e]=i,()=>{r[e]=n}}catch(n){return()=>{}}}let rs=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(rs=()=>new Date().getTime());function Op(r){var e,t,n,i;const s=r.document;return{left:s.scrollingElement?s.scrollingElement.scrollLeft:r.pageXOffset!==void 0?r.pageXOffset:s.documentElement.scrollLeft||(s==null?void 0:s.body)&&((e=B.parentElement(s.body))==null?void 0:e.scrollLeft)||((t=s==null?void 0:s.body)==null?void 0:t.scrollLeft)||0,top:s.scrollingElement?s.scrollingElement.scrollTop:r.pageYOffset!==void 0?r.pageYOffset:(s==null?void 0:s.documentElement.scrollTop)||(s==null?void 0:s.body)&&((n=B.parentElement(s.body))==null?void 0:n.scrollTop)||((i=s==null?void 0:s.body)==null?void 0:i.scrollTop)||0}}function Xp(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Wp(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function xp(r){return r?r.nodeType===r.ELEMENT_NODE?r:B.parentElement(r):null}const p_=r=>{try{if(r instanceof HTMLElement)return r.tagName==="CANVAS"}catch(e){return!1}return!1};function Te(r,e,t,n){if(!r)return!1;const i=xp(r);if(!i)return!1;try{if(typeof e=="string"){if(i.classList.contains(e)||n&&i.closest("."+e)!==null)return!0}else if(mi(i,e,n))return!0}catch(s){}return!!(t&&(i.matches(t)||n&&i.closest(t)!==null))}function f_(r,e){return e.getId(r)!==-1}function bl(r,e,t){return r.tagName==="TITLE"&&t.headTitleMutations?!0:e.getId(r)===qr}function kp(r,e){if(Qr(r))return!1;const t=e.getId(r);if(!e.has(t))return!0;const n=B.parentNode(r);return n&&n.nodeType===r.DOCUMENT_NODE?!1:n?kp(n,e):!0}function gl(r){return!!r.changedTouches}function m_(r=window){"NodeList"in r&&!r.NodeList.prototype.forEach&&(r.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in r&&!r.DOMTokenList.prototype.forEach&&(r.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function Pp(r,e){return!!(r.nodeName==="IFRAME"&&e.getMeta(r))}function Ap(r,e){return!!(r.nodeName==="LINK"&&r.nodeType===r.ELEMENT_NODE&&r.getAttribute&&r.getAttribute("rel")==="stylesheet"&&e.getMeta(r))}function Sl(r){return r?r instanceof pl&&"shadowRoot"in r?!!r.shadowRoot:!!B.shadowRoot(r):!1}class y_{constructor(){Z(this,"id",1),Z(this,"styleIDMap",new WeakMap),Z(this,"idStyleMap",new Map)}getId(e){var t;return(t=this.styleIDMap.get(e))!=null?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return t===void 0?n=this.id++:n=t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Up(r){var e;let t=null;return"getRootNode"in r&&((e=B.getRootNode(r))==null?void 0:e.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&B.host(B.getRootNode(r))&&(t=B.host(B.getRootNode(r))),t}function b_(r){let e=r,t;for(;t=Up(e);)e=t;return e}function g_(r){const e=r.ownerDocument;if(!e)return!1;const t=b_(r);return B.contains(e,t)}function Mp(r){const e=r.ownerDocument;return e?B.contains(e,r)||g_(r):!1}var j=(r=>(r[r.DomContentLoaded=0]="DomContentLoaded",r[r.Load=1]="Load",r[r.FullSnapshot=2]="FullSnapshot",r[r.IncrementalSnapshot=3]="IncrementalSnapshot",r[r.Meta=4]="Meta",r[r.Custom=5]="Custom",r[r.Plugin=6]="Plugin",r))(j||{}),K=(r=>(r[r.Mutation=0]="Mutation",r[r.MouseMove=1]="MouseMove",r[r.MouseInteraction=2]="MouseInteraction",r[r.Scroll=3]="Scroll",r[r.ViewportResize=4]="ViewportResize",r[r.Input=5]="Input",r[r.TouchMove=6]="TouchMove",r[r.MediaInteraction=7]="MediaInteraction",r[r.StyleSheetRule=8]="StyleSheetRule",r[r.CanvasMutation=9]="CanvasMutation",r[r.Font=10]="Font",r[r.Log=11]="Log",r[r.Drag=12]="Drag",r[r.StyleDeclaration=13]="StyleDeclaration",r[r.Selection=14]="Selection",r[r.AdoptedStyleSheet=15]="AdoptedStyleSheet",r[r.CustomElement=16]="CustomElement",r))(K||{}),Ne=(r=>(r[r.MouseUp=0]="MouseUp",r[r.MouseDown=1]="MouseDown",r[r.Click=2]="Click",r[r.ContextMenu=3]="ContextMenu",r[r.DblClick=4]="DblClick",r[r.Focus=5]="Focus",r[r.Blur=6]="Blur",r[r.TouchStart=7]="TouchStart",r[r.TouchMove_Departed=8]="TouchMove_Departed",r[r.TouchEnd=9]="TouchEnd",r[r.TouchCancel=10]="TouchCancel",r))(Ne||{}),Et=(r=>(r[r.Mouse=0]="Mouse",r[r.Pen=1]="Pen",r[r.Touch=2]="Touch",r))(Et||{}),Tr=(r=>(r[r["2D"]=0]="2D",r[r.WebGL=1]="WebGL",r[r.WebGL2=2]="WebGL2",r))(Tr||{}),Ir=(r=>(r[r.Play=0]="Play",r[r.Pause=1]="Pause",r[r.Seeked=2]="Seeked",r[r.VolumeChange=3]="VolumeChange",r[r.RateChange=4]="RateChange",r))(Ir||{});function Yp(r){return"__ln"in r}class S_{constructor(){Z(this,"length",0),Z(this,"head",null),Z(this,"tail",null)}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(t==null?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Yp(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Yp(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;t.next===null&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Fp=(r,e)=>`${r}@${e}`;class v_{constructor(){Z(this,"frozen",!1),Z(this,"locked",!1),Z(this,"texts",[]),Z(this,"attributes",[]),Z(this,"attributeMap",new WeakMap),Z(this,"removes",[]),Z(this,"mapRemoves",[]),Z(this,"movedMap",{}),Z(this,"addedSet",new Set),Z(this,"movedSet",new Set),Z(this,"droppedSet",new Set),Z(this,"removesSubTreeCache",new Set),Z(this,"mutationCb"),Z(this,"blockClass"),Z(this,"blockSelector"),Z(this,"maskTextClass"),Z(this,"maskTextSelector"),Z(this,"inlineStylesheet"),Z(this,"maskInputOptions"),Z(this,"maskTextFn"),Z(this,"maskInputFn"),Z(this,"keepIframeSrcFn"),Z(this,"recordCanvas"),Z(this,"inlineImages"),Z(this,"privacySetting"),Z(this,"slimDOMOptions"),Z(this,"dataURLOptions"),Z(this,"doc"),Z(this,"mirror"),Z(this,"iframeManager"),Z(this,"stylesheetManager"),Z(this,"shadowDomManager"),Z(this,"canvasManager"),Z(this,"processedNodeManager"),Z(this,"unattachedDoc"),Z(this,"processMutations",e=>{e.forEach(this.processMutation),this.emit()}),Z(this,"emit",()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new S_,i=a=>{let c=a,u=qr;for(;u===qr;)c=c&&c.nextSibling,u=c&&this.mirror.getId(c);return u},s=a=>{const c=B.parentNode(a);if(!c||!Mp(a)||c.tagName==="TEXTAREA")return;const u=Qr(c)?this.mirror.getId(Up(a)):this.mirror.getId(c),d=i(a);if(u===-1||d===-1)return n.addNode(a);const h=pr(a,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,privacySetting:this.privacySetting,onSerialize:p=>{Pp(p,this.mirror)&&this.iframeManager.addIframe(p),Ap(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),Sl(a)&&this.shadowDomManager.addShadowRoot(B.shadowRoot(a),this.doc)},onIframeLoad:(p,m)=>{this.iframeManager.attachIframe(p,m),this.shadowDomManager.observeAttachShadow(p)},onStylesheetLoad:(p,m)=>{this.stylesheetManager.attachLinkElement(p,m)}});h&&(e.push({parentId:u,nextId:d,node:h}),t.add(h.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)Hp(this.removesSubTreeCache,a)&&!this.movedSet.has(B.parentNode(a))||s(a);for(const a of this.addedSet)!Jp(this.droppedSet,a)&&!Hp(this.removesSubTreeCache,a)||Jp(this.movedSet,a)?s(a):this.droppedSet.add(a);let o=null;for(;n.length;){let a=null;if(o){const c=this.mirror.getId(B.parentNode(o.value)),u=i(o.value);c!==-1&&u!==-1&&(a=o)}if(!a){let c=n.tail;for(;c;){const u=c;if(c=c.previous,u){const d=this.mirror.getId(B.parentNode(u.value));if(i(u.value)===-1)continue;if(d!==-1){a=u;break}else{const p=u.value,m=B.parentNode(p);if(m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const f=B.host(m);if(this.mirror.getId(f)!==-1){a=u;break}}}}}}if(!a){for(;n.head;)n.removeNode(n.head.value);break}o=a.previous,n.removeNode(a.value),s(a.value)}const l={texts:this.texts.map(a=>{var c,u;const d=a.node,h=B.parentNode(d);h&&h.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(h);let p=a.value;const m=this.privacySetting==="strict",f=this.privacySetting==="default"&&wd(p),y=(u=(c=a.node)==null?void 0:c.parentElement)==null?void 0:u.getAttribute("data-hl-record");return(m||f)&&!y&&p&&(p=oa(p)),{id:this.mirror.getId(d),value:p}}).filter(a=>!t.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{const{attributes:c}=a;if(typeof c.style=="string"){const u=JSON.stringify(a.styleDiff),d=JSON.stringify(a._unchangedStyles);u.length<c.style.length&&(u+d).split("var(").length===c.style.split("var(").length&&(c.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:c}}).filter(a=>!t.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:e};!l.texts.length&&!l.attributes.length&&!l.removes.length&&!l.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb(l))}),Z(this,"genTextAreaValueMutation",e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(B.childNodes(e),n=>B.textContent(n)||"").join("")}),Z(this,"processMutation",e=>{if(!bl(e.target,this.mirror,this.slimDOMOptions))switch(e.type){case"characterData":{const t=B.textContent(e.target);!Te(e.target,this.blockClass,this.blockSelector,!1)&&t!==e.oldValue&&this.texts.push({value:Od(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,xp(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,i=e.target.getAttribute(n);if(n==="value"){const o=sa(t);i=ia({element:t,maskInputOptions:this.maskInputOptions,tagName:t.tagName,type:o,value:i,overwriteRecord:t.getAttribute("data-hl-record"),maskInputFn:this.maskInputFn})}if(Te(e.target,this.blockClass,this.blockSelector,!1)||i===e.oldValue)return;let s=this.attributeMap.get(e.target);if(t.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(i))if(!t.contentDocument)n="rr_src";else return;if(s||(s={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(e.target,s)),n==="type"&&t.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&t.setAttribute("data-rr-is-password","true"),!Nd(t.tagName,n)){if(e.target.tagName==="INPUT"){const l=e.target;if(l.type==="password"){s.attributes.value="*".repeat(l.value.length);break}}if(s.attributes[n]=Gd(this.doc,ur(t.tagName),ur(n),i),n==="style"){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(a){this.unattachedDoc=this.doc}const l=this.unattachedDoc.createElement("span");e.oldValue&&l.setAttribute("style",e.oldValue);for(const a of Array.from(t.style)){const c=t.style.getPropertyValue(a),u=t.style.getPropertyPriority(a);c!==l.style.getPropertyValue(a)||u!==l.style.getPropertyPriority(a)?u===""?s.styleDiff[a]=c:s.styleDiff[a]=[c,u]:s._unchangedStyles[a]=[c,u]}for(const a of Array.from(l.style))t.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}else n==="open"&&t.tagName==="DIALOG"&&(t.matches("dialog:modal")?s.attributes.rr_open_mode="modal":s.attributes.rr_open_mode="non-modal")}break}case"childList":{if(Te(e.target,this.blockClass,this.blockSelector,!0))return;if(e.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(e.target);return}e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{const n=this.mirror.getId(t),i=Qr(e.target)?this.mirror.getId(B.host(e.target)):this.mirror.getId(e.target);Te(e.target,this.blockClass,this.blockSelector,!1)||bl(t,this.mirror,this.slimDOMOptions)||!f_(t,this.mirror)||(this.addedSet.has(t)?(vl(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&n===-1||kp(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Fp(n,i)]?vl(this.movedSet,t):(this.removes.push({parentId:i,id:n,isShadow:Qr(e.target)&&$r(e.target)?!0:void 0}),R_(t,this.removesSubTreeCache))),this.mapRemoves.push(t))});break}}}),Z(this,"genAdds",(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(bl(e,this.mirror,this.slimDOMOptions))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&n!==-1&&(this.movedMap[Fp(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Te(e,this.blockClass,this.blockSelector,!1)||(B.childNodes(e).forEach(n=>this.genAdds(n)),Sl(e)&&B.childNodes(B.shadowRoot(e)).forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,e)}))}})}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","privacySetting","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function vl(r,e){r.delete(e),B.childNodes(e).forEach(t=>vl(r,t))}function R_(r,e){const t=[r];for(;t.length;){const n=t.pop();e.has(n)||(e.add(n),B.childNodes(n).forEach(i=>t.push(i)))}}function Hp(r,e,t){return r.size===0?!1:T_(r,e)}function T_(r,e,t){const n=B.parentNode(e);return n?r.has(n):!1}function Jp(r,e){return r.size===0?!1:Bp(r,e)}function Bp(r,e){const t=B.parentNode(e);return t?r.has(t)?!0:Bp(r,t):!1}let vn;function I_(r){vn=r}function E_(){vn=void 0}const z=r=>vn?(...t)=>{try{return r(...t)}catch(n){if(vn&&vn(n)===!0)return;throw n}}:r,Mt=[];function Rn(r){try{if("composedPath"in r){const e=r.composedPath();if(e.length)return e[0]}else if("path"in r&&r.path.length)return r.path[0]}catch(e){}return r&&r.target}function Kp(r,e){const t=new v_;Mt.push(t),t.init(r);const n=new(Np())(z(t.processMutations.bind(t)));return n.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),n}function w_({mousemoveCb:r,sampling:e,doc:t,mirror:n}){if(e.mousemove===!1)return()=>{};const i=typeof e.mousemove=="number"?e.mousemove:50,s=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let o=[],l;const a=Sn(z(d=>{const h=Date.now()-l;r(o.map(p=>(p.timeOffset-=h,p)),d),o=[],l=null}),s),c=z(Sn(z(d=>{const h=Rn(d),{clientX:p,clientY:m}=gl(d)?d.changedTouches[0]:d;l||(l=rs()),o.push({x:p,y:m,id:n.getId(h),timeOffset:rs()-l}),a(typeof DragEvent!="undefined"&&d instanceof DragEvent?K.Drag:d instanceof MouseEvent?K.MouseMove:K.TouchMove)}),i,{trailing:!1})),u=[_e("mousemove",c,t),_e("touchmove",c,t),_e("drag",c,t)];return z(()=>{u.forEach(d=>d())})}function Z_({mouseInteractionCb:r,doc:e,mirror:t,blockClass:n,blockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};const o=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,l=[];let a=null;const c=u=>d=>{const h=Rn(d);if(Te(h,n,i,!0)||p_(h))return;let p=null,m=u;if("pointerType"in d){switch(d.pointerType){case"mouse":p=Et.Mouse;break;case"touch":p=Et.Touch;break;case"pen":p=Et.Pen;break}p===Et.Touch&&(Ne[u]===Ne.MouseDown?m="TouchStart":Ne[u]===Ne.MouseUp&&(m="TouchEnd"))}else gl(d)&&(p=Et.Touch);p!==null?(a=p,(m.startsWith("Touch")&&p===Et.Touch||m.startsWith("Mouse")&&p===Et.Mouse)&&(p=null)):Ne[u]===Ne.Click&&(p=a,a=null);const f=gl(d)?d.changedTouches[0]:d;if(!f)return;const y=t.getId(h),{clientX:b,clientY:S}=f;z(r)(I({type:Ne[m],id:y,x:b,y:S},p!==null&&{pointerType:p}))};return Object.keys(Ne).filter(u=>Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&o[u]!==!1).forEach(u=>{let d=ur(u);const h=c(u);if(window.PointerEvent)switch(Ne[u]){case Ne.MouseDown:case Ne.MouseUp:d=d.replace("mouse","pointer");break;case Ne.TouchStart:case Ne.TouchEnd:return}l.push(_e(d,h,e))}),z(()=>{l.forEach(u=>u())})}function Dp({scrollCb:r,doc:e,mirror:t,blockClass:n,blockSelector:i,sampling:s}){const o=z(Sn(z(l=>{const a=Rn(l);if(!a||Te(a,n,i,!0))return;const c=t.getId(a);if(a===e&&e.defaultView){const u=Op(e.defaultView);r({id:c,x:u.left,y:u.top})}else r({id:c,x:a.scrollLeft,y:a.scrollTop})}),s.scroll||100));return _e("scroll",o,e)}function __({viewportResizeCb:r},{win:e}){let t=-1,n=-1;const i=z(Sn(z(()=>{const s=Xp(),o=Wp();(t!==s||n!==o)&&(r({width:Number(o),height:Number(s)}),t=s,n=o)}),200));return _e("resize",i,e)}const C_=["INPUT","TEXTAREA","SELECT"],zp=new WeakMap;function L_({inputCb:r,doc:e,mirror:t,blockClass:n,blockSelector:i,ignoreClass:s,ignoreSelector:o,maskInputOptions:l,maskInputFn:a,sampling:c,userTriggeredOnInput:u}){function d(S){let v=Rn(S);const T=S.isTrusted,C=v&&v.tagName;if(v&&C==="OPTION"&&(v=B.parentElement(v)),!v||!C||C_.indexOf(C)<0||Te(v,n,i,!0)||v.classList.contains(s)||o&&v.matches(o))return;let N=v.value,w=!1;const L=sa(v)||"",x=v.getAttribute("data-hl-record");L==="radio"||L==="checkbox"?w=v.checked:Zd({maskInputOptions:l,type:L,tagName:C,overwriteRecord:x})&&(N=ia({element:v,maskInputOptions:l,tagName:C,type:L,value:N,overwriteRecord:x,maskInputFn:a})),h(v,u?{text:N,isChecked:w,userTriggered:T}:{text:N,isChecked:w});const V=v.name;L==="radio"&&V&&w&&e.querySelectorAll(`input[type="radio"][name="${V}"]`).forEach(q=>{if(q!==v){const be=q.value;h(q,u?{text:be,isChecked:!w,userTriggered:!1}:{text:be,isChecked:!w})}})}function h(S,v){const T=zp.get(S);if(!T||T.text!==v.text||T.isChecked!==v.isChecked){zp.set(S,v);const C=t.getId(S);z(r)(se(I({},v),{id:C}))}}const m=(c.input==="last"?["change"]:["input","change"]).map(S=>_e(S,z(d),e)),f=e.defaultView;if(!f)return()=>{m.forEach(S=>S())};const y=f.Object.getOwnPropertyDescriptor(f.HTMLInputElement.prototype,"value"),b=[[f.HTMLInputElement.prototype,"value"],[f.HTMLInputElement.prototype,"checked"],[f.HTMLSelectElement.prototype,"value"],[f.HTMLTextAreaElement.prototype,"value"],[f.HTMLSelectElement.prototype,"selectedIndex"],[f.HTMLOptionElement.prototype,"selected"]];return y&&y.set&&m.push(...b.map(S=>ts(S[0],S[1],{set(){z(d)({target:this,isTrusted:!1})}},!1,f))),z(()=>{m.forEach(S=>S())})}function ns(r){const e=[];function t(n,i){if(is("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||is("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||is("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||is("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){const o=Array.from(n.parentRule.cssRules).indexOf(n);i.unshift(o)}else if(n.parentStyleSheet){const o=Array.from(n.parentStyleSheet.cssRules).indexOf(n);i.unshift(o)}return i}return t(r,e)}function wt(r,e,t){let n,i;return r?(r.ownerNode?n=e.getId(r.ownerNode):i=t.getId(r),{styleId:i,id:n}):{}}function G_({styleSheetRuleCb:r,mirror:e,stylesheetManager:t},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const i=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:z((u,d,h)=>{const[p,m]=h,{id:f,styleId:y}=wt(d,e,t.styleMirror);return(f&&f!==-1||y&&y!==-1)&&r({id:f,styleId:y,adds:[{rule:p,index:m}]}),u.apply(d,h)})}),n.CSSStyleSheet.prototype.addRule=function(u,d,h=this.cssRules.length){const p=`${u} { ${d} }`;return n.CSSStyleSheet.prototype.insertRule.apply(this,[p,h])};const s=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:z((u,d,h)=>{const[p]=h,{id:m,styleId:f}=wt(d,e,t.styleMirror);return(m&&m!==-1||f&&f!==-1)&&r({id:m,styleId:f,removes:[{index:p}]}),u.apply(d,h)})}),n.CSSStyleSheet.prototype.removeRule=function(u){return n.CSSStyleSheet.prototype.deleteRule.apply(this,[u])};let o;n.CSSStyleSheet.prototype.replace&&(o=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:z((u,d,h)=>{const[p]=h,{id:m,styleId:f}=wt(d,e,t.styleMirror);return(m&&m!==-1||f&&f!==-1)&&r({id:m,styleId:f,replace:p}),u.apply(d,h)})}));let l;n.CSSStyleSheet.prototype.replaceSync&&(l=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:z((u,d,h)=>{const[p]=h,{id:m,styleId:f}=wt(d,e,t.styleMirror);return(m&&m!==-1||f&&f!==-1)&&r({id:m,styleId:f,replaceSync:p}),u.apply(d,h)})}));const a={};ss("CSSGroupingRule")?a.CSSGroupingRule=n.CSSGroupingRule:(ss("CSSMediaRule")&&(a.CSSMediaRule=n.CSSMediaRule),ss("CSSConditionRule")&&(a.CSSConditionRule=n.CSSConditionRule),ss("CSSSupportsRule")&&(a.CSSSupportsRule=n.CSSSupportsRule));const c={};return Object.entries(a).forEach(([u,d])=>{c[u]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(c[u].insertRule,{apply:z((h,p,m)=>{const[f,y]=m,{id:b,styleId:S}=wt(p.parentStyleSheet,e,t.styleMirror);return(b&&b!==-1||S&&S!==-1)&&r({id:b,styleId:S,adds:[{rule:f,index:[...ns(p),y||0]}]}),h.apply(p,m)})}),d.prototype.deleteRule=new Proxy(c[u].deleteRule,{apply:z((h,p,m)=>{const[f]=m,{id:y,styleId:b}=wt(p.parentStyleSheet,e,t.styleMirror);return(y&&y!==-1||b&&b!==-1)&&r({id:y,styleId:b,removes:[{index:[...ns(p),f]}]}),h.apply(p,m)})})}),z(()=>{n.CSSStyleSheet.prototype.insertRule=i,n.CSSStyleSheet.prototype.deleteRule=s,o&&(n.CSSStyleSheet.prototype.replace=o),l&&(n.CSSStyleSheet.prototype.replaceSync=l),Object.entries(a).forEach(([u,d])=>{d.prototype.insertRule=c[u].insertRule,d.prototype.deleteRule=c[u].deleteRule})})}function jp({mirror:r,stylesheetManager:e},t){var n,i,s;let o=null;t.nodeName==="#document"?o=r.getId(t):o=r.getId(B.host(t));const l=t.nodeName==="#document"?(n=t.defaultView)==null?void 0:n.Document:(s=(i=t.ownerDocument)==null?void 0:i.defaultView)==null?void 0:s.ShadowRoot,a=l!=null&&l.prototype?Object.getOwnPropertyDescriptor(l==null?void 0:l.prototype,"adoptedStyleSheets"):void 0;return o===null||o===-1||!l||!a?()=>{}:(Object.defineProperty(t,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get(){var c;return(c=a.get)==null?void 0:c.call(this)},set(c){var u;const d=(u=a.set)==null?void 0:u.call(this,c);if(o!==null&&o!==-1)try{e.adoptStyleSheets(c,o)}catch(h){}return d}}),z(()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:a.set})}))}function N_({styleDeclarationCb:r,mirror:e,ignoreCSSAttributes:t,stylesheetManager:n},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:z((l,a,c)=>{var u;const[d,h,p]=c;if(t.has(d))return s.apply(a,[d,h,p]);const{id:m,styleId:f}=wt((u=a.parentRule)==null?void 0:u.parentStyleSheet,e,n.styleMirror);return(m&&m!==-1||f&&f!==-1)&&r({id:m,styleId:f,set:{property:d,value:h,priority:p},index:ns(a.parentRule)}),l.apply(a,c)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:z((l,a,c)=>{var u;const[d]=c;if(t.has(d))return o.apply(a,[d]);const{id:h,styleId:p}=wt((u=a.parentRule)==null?void 0:u.parentStyleSheet,e,n.styleMirror);return(h&&h!==-1||p&&p!==-1)&&r({id:h,styleId:p,remove:{property:d},index:ns(a.parentRule)}),l.apply(a,c)})}),z(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function V_({mediaInteractionCb:r,blockClass:e,blockSelector:t,mirror:n,sampling:i,doc:s}){const o=z(a=>Sn(z(c=>{const u=Rn(c);if(!u||Te(u,e,t,!0))return;const{currentTime:d,volume:h,muted:p,playbackRate:m,loop:f}=u;r({type:a,id:n.getId(u),currentTime:d,volume:h,muted:p,playbackRate:m,loop:f})}),i.media||500)),l=[_e("play",o(Ir.Play),s),_e("pause",o(Ir.Pause),s),_e("seeked",o(Ir.Seeked),s),_e("volumechange",o(Ir.VolumeChange),s),_e("ratechange",o(Ir.RateChange),s)];return z(()=>{l.forEach(a=>a())})}function O_({fontCb:r,doc:e}){const t=e.defaultView;if(!t)return()=>{};const n=[],i=new WeakMap,s=t.FontFace;t.FontFace=function(a,c,u){const d=new s(a,c,u);return i.set(d,{family:a,buffer:typeof c!="string",descriptors:u,fontSource:typeof c=="string"?c:JSON.stringify(Array.from(new Uint8Array(c)))}),d};const o=Rr(e.fonts,"add",function(l){return function(a){return setTimeout(z(()=>{const c=i.get(a);c&&(r(c),i.delete(a))}),0),l.apply(this,[a])}});return n.push(()=>{t.FontFace=s}),n.push(o),z(()=>{n.forEach(l=>l())})}function X_(r){const{doc:e,mirror:t,blockClass:n,blockSelector:i,selectionCb:s}=r;let o=!0;const l=z(()=>{const a=e.getSelection();if(!a||o&&(a!=null&&a.isCollapsed))return;o=a.isCollapsed||!1;const c=[],u=a.rangeCount||0;for(let d=0;d<u;d++){const h=a.getRangeAt(d),{startContainer:p,startOffset:m,endContainer:f,endOffset:y}=h;Te(p,n,i,!0)||Te(f,n,i,!0)||c.push({start:t.getId(p),startOffset:m,end:t.getId(f),endOffset:y})}s({ranges:c})});return l(),_e("selectionchange",l)}function W_({doc:r,customElementCb:e}){const t=r.defaultView;return!t||!t.customElements?()=>{}:Rr(t.customElements,"define",function(i){return function(s,o,l){try{e({define:{name:s}})}catch(a){console.warn(`Custom element callback failed for ${s}`)}return i.apply(this,[s,o,l])}})}function x_(r,e){const{mutationCb:t,mousemoveCb:n,mouseInteractionCb:i,scrollCb:s,viewportResizeCb:o,inputCb:l,mediaInteractionCb:a,styleSheetRuleCb:c,styleDeclarationCb:u,canvasMutationCb:d,fontCb:h,selectionCb:p,customElementCb:m}=r;r.mutationCb=(...f)=>{e.mutation&&e.mutation(...f),t(...f)},r.mousemoveCb=(...f)=>{e.mousemove&&e.mousemove(...f),n(...f)},r.mouseInteractionCb=(...f)=>{e.mouseInteraction&&e.mouseInteraction(...f),i(...f)},r.scrollCb=(...f)=>{e.scroll&&e.scroll(...f),s(...f)},r.viewportResizeCb=(...f)=>{e.viewportResize&&e.viewportResize(...f),o(...f)},r.inputCb=(...f)=>{e.input&&e.input(...f),l(...f)},r.mediaInteractionCb=(...f)=>{e.mediaInteaction&&e.mediaInteaction(...f),a(...f)},r.styleSheetRuleCb=(...f)=>{e.styleSheetRule&&e.styleSheetRule(...f),c(...f)},r.styleDeclarationCb=(...f)=>{e.styleDeclaration&&e.styleDeclaration(...f),u(...f)},r.canvasMutationCb=(...f)=>{e.canvasMutation&&e.canvasMutation(...f),d(...f)},r.fontCb=(...f)=>{e.font&&e.font(...f),h(...f)},r.selectionCb=(...f)=>{e.selection&&e.selection(...f),p(...f)},r.customElementCb=(...f)=>{e.customElement&&e.customElement(...f),m(...f)}}function k_(r,e={}){const t=r.doc.defaultView;if(!t)return()=>{};x_(r,e);let n;r.recordDOM&&(n=Kp(r,r.doc));const i=w_(r),s=Z_(r),o=Dp(r),l=__(r,{win:t}),a=L_(r),c=V_(r);let u=()=>{},d=()=>{},h=()=>{},p=()=>{};r.recordDOM&&(u=G_(r,{win:t}),d=jp(r,r.doc),h=N_(r,{win:t}),r.collectFonts&&(p=O_(r)));const m=X_(r),f=W_(r),y=[];for(const b of r.plugins)y.push(b.observer(b.callback,t,b.options));return z(()=>{Mt.forEach(b=>b.reset()),n==null||n.disconnect(),i(),s(),o(),l(),a(),c(),u(),d(),h(),p(),m(),f(),y.forEach(b=>b())})}function is(r){return typeof window[r]!="undefined"}function ss(r){return!!(typeof window[r]!="undefined"&&window[r].prototype&&"insertRule"in window[r].prototype&&"deleteRule"in window[r].prototype)}class Qp{constructor(e){Z(this,"iframeIdToRemoteIdMap",new WeakMap),Z(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e}getId(e,t,n,i){const s=n||this.getIdToRemoteIdMap(e),o=i||this.getRemoteIdToIdMap(e);let l=s.get(t);return l||(l=this.generateIdFn(),s.set(t,l),o.set(l,t)),l}getIds(e,t){const n=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return t.map(s=>this.getId(e,s,n,i))}getRemoteId(e,t,n){const i=n||this.getRemoteIdToIdMap(e);if(typeof t!="number")return t;const s=i.get(t);return s||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map(i=>this.getRemoteId(e,i,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class P_{constructor(e){Z(this,"iframes",new WeakMap),Z(this,"crossOriginIframeMap",new WeakMap),Z(this,"crossOriginIframeMirror",new Qp(_d)),Z(this,"crossOriginIframeStyleMirror"),Z(this,"crossOriginIframeRootIdMap",new WeakMap),Z(this,"mirror"),Z(this,"mutationCb"),Z(this,"wrappedEmit"),Z(this,"loadListener"),Z(this,"stylesheetManager"),Z(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Qp(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n,i;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((n=e.contentWindow)==null||n.addEventListener("message",this.handleMessage.bind(this))),(i=this.loadListener)==null||i.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if(t.data.type!=="rrweb"||t.origin!==t.data.origin)return;const n=e.source;if(!n)return;const i=this.crossOriginIframeMap.get(n);if(!i)return;const s=this.transformCrossOriginEvent(i,t.data.event);s&&this.wrappedEmit(s,t.data.isCheckout)}transformCrossOriginEvent(e,t){var n;switch(t.type){case j.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const i=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,i),this.patchRootIdOnNode(t.data.node,i),{timestamp:t.timestamp,type:j.IncrementalSnapshot,data:{source:K.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case j.Meta:case j.Load:case j.DomContentLoaded:return!1;case j.Plugin:return t;case j.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case j.IncrementalSnapshot:switch(t.data.source){case K.Mutation:return t.data.adds.forEach(i=>{this.replaceIds(i,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,e);const s=this.crossOriginIframeRootIdMap.get(e);s&&this.patchRootIdOnNode(i.node,s)}),t.data.removes.forEach(i=>{this.replaceIds(i,e,["parentId","id"])}),t.data.attributes.forEach(i=>{this.replaceIds(i,e,["id"])}),t.data.texts.forEach(i=>{this.replaceIds(i,e,["id"])}),t;case K.Drag:case K.TouchMove:case K.MouseMove:return t.data.positions.forEach(i=>{this.replaceIds(i,e,["id"])}),t;case K.ViewportResize:return!1;case K.MediaInteraction:case K.MouseInteraction:case K.Scroll:case K.CanvasMutation:case K.Input:return this.replaceIds(t.data,e,["id"]),t;case K.StyleSheetRule:case K.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case K.Font:return t;case K.Selection:return t.data.ranges.forEach(i=>{this.replaceIds(i,e,["start","end"])}),t;case K.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),(n=t.data.styles)==null||n.forEach(i=>{this.replaceStyleIds(i,e,["styleId"])}),t}}return!1}replace(e,t,n,i){for(const s of i)!Array.isArray(t[s])&&typeof t[s]!="number"||(Array.isArray(t[s])?t[s]=e.getIds(n,t[s]):t[s]=e.getId(n,t[s]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(n=>{this.replaceIdOnNode(n,t)})}patchRootIdOnNode(e,t){e.type!==ye.Document&&!e.rootId&&(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(n=>{this.patchRootIdOnNode(n,t)})}}class A_{constructor(e){Z(this,"shadowDoms",new WeakSet),Z(this,"mutationCb"),Z(this,"scrollCb"),Z(this,"bypassOptions"),Z(this,"mirror"),Z(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!$r(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=Kp(se(I({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(Dp(se(I({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(B.host(e))),this.restoreHandlers.push(jp({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(Rr(e.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s),l=B.shadowRoot(this);return l&&Mp(this)&&n.addShadowRoot(l,t),o}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var Er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U_=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),os=0;os<Er.length;os++)U_[Er.charCodeAt(os)]=os;var M_=function(r){var e=new Uint8Array(r),t,n=e.length,i="";for(t=0;t<n;t+=3)i+=Er[e[t]>>2],i+=Er[(e[t]&3)<<4|e[t+1]>>4],i+=Er[(e[t+1]&15)<<2|e[t+2]>>6],i+=Er[e[t+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i};const $p=new Map;function Y_(r,e){let t=$p.get(r);return t||(t=new Map,$p.set(r,t)),t.has(e)||t.set(e,[]),t.get(e)}const qp=(r,e,t)=>{if(!r||!(tf(r,e)||typeof r=="object"))return;const n=r.constructor.name,i=Y_(t,n);let s=i.indexOf(r);return s===-1&&(s=i.length,i.push(r)),s};function as(r,e,t){if(r instanceof Array)return r.map(n=>as(n,e,t));if(r===null)return r;if(r instanceof Float32Array||r instanceof Float64Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Uint8Array||r instanceof Uint16Array||r instanceof Int16Array||r instanceof Int8Array||r instanceof Uint8ClampedArray)return{rr_type:r.constructor.name,args:[Object.values(r)]};if(r instanceof ArrayBuffer){const n=r.constructor.name,i=M_(r);return{rr_type:n,base64:i}}else{if(r instanceof DataView)return{rr_type:r.constructor.name,args:[as(r.buffer,e,t),r.byteOffset,r.byteLength]};if(r instanceof HTMLImageElement){const n=r.constructor.name,{src:i}=r;return{rr_type:n,src:i}}else if(r instanceof HTMLCanvasElement){const n="HTMLImageElement",i=r.toDataURL();return{rr_type:n,src:i}}else{if(r instanceof ImageData)return{rr_type:r.constructor.name,args:[as(r.data,e,t),r.width,r.height]};if(tf(r,e)||typeof r=="object"){const n=r.constructor.name,i=qp(r,e,t);return{rr_type:n,index:i}}}}return r}const ef=(r,e,t)=>r.map(n=>as(n,e,t)),tf=(r,e)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(i=>typeof e[i]=="function").find(i=>r instanceof e[i]);function F_(r,e,t,n){const i=[],s=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const o of s)try{if(typeof e.CanvasRenderingContext2D.prototype[o]!="function")continue;const l=Rr(e.CanvasRenderingContext2D.prototype,o,function(a){return function(...c){return Te(this.canvas,t,n,!0)||setTimeout(()=>{const u=ef(c,e,this);r(this.canvas,{type:Tr["2D"],property:o,args:u})},0),a.apply(this,c)}});i.push(l)}catch(l){const a=ts(e.CanvasRenderingContext2D.prototype,o,{set(c){r(this.canvas,{type:Tr["2D"],property:o,args:[c],setter:!0})}});i.push(a)}return()=>{i.forEach(o=>o())}}function H_(r){return r==="experimental-webgl"?"webgl":r}function rf(r,e,t,n){const i=[];try{const s=Rr(r.HTMLCanvasElement.prototype,"getContext",function(o){return function(l,...a){if(!Te(this,e,t,!0)){const c=H_(l);if("__context"in this||(this.__context=c),n&&["webgl","webgl2"].includes(c))if(a[0]&&typeof a[0]=="object"){const u=a[0];u.preserveDrawingBuffer||(u.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return o.apply(this,[l,...a])}});i.push(s)}catch(s){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function nf(r,e,t,n,i,s){const o=[],l=Object.getOwnPropertyNames(r);for(const a of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(a))try{if(typeof r[a]!="function")continue;const c=Rr(r,a,function(u){return function(...d){const h=u.apply(this,d);if(qp(h,s,this),"tagName"in this.canvas&&!Te(this.canvas,n,i,!0)){const p=ef(d,s,this),m={type:e,property:a,args:p};t(this.canvas,m)}return h}});o.push(c)}catch(c){const u=ts(r,a,{set(d){t(this.canvas,{type:e,property:a,args:[d],setter:!0})}});o.push(u)}return o}function J_(r,e,t,n){const i=[];return i.push(...nf(e.WebGLRenderingContext.prototype,Tr.WebGL,r,t,n,e)),typeof e.WebGL2RenderingContext!="undefined"&&i.push(...nf(e.WebGL2RenderingContext.prototype,Tr.WebGL2,r,t,n,e)),()=>{i.forEach(s=>s())}}const sf="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIGxldCBsb2dEZWJ1ZyA9IGZhbHNlOwogIGNvbnN0IGRlYnVnID0gKC4uLmFyZ3MpID0+IHsKICAgIGlmIChsb2dEZWJ1ZykgewogICAgICBjb25zb2xlLmRlYnVnKC4uLmFyZ3MpOwogICAgfQogIH07CiAgd29ya2VyLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGUpIHsKICAgIGxvZ0RlYnVnID0gISFlLmRhdGEubG9nRGVidWc7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGR4LCBkeSwgZHcsIGRoLCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOwogICAgICBjb25zdCB0cmFuc3BhcmVudEJhc2U2NCA9IGdldFRyYW5zcGFyZW50QmxvYkZvcigKICAgICAgICB3aWR0aCwKICAgICAgICBoZWlnaHQsCiAgICAgICAgZGF0YVVSTE9wdGlvbnMKICAgICAgKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgY29uc3QgY3R4ID0gb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgYml0bWFwLmNsb3NlKCk7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgYXdhaXQgdHJhbnNwYXJlbnRCYXNlNjQgPT09IGJhc2U2NCkgewogICAgICAgIGRlYnVnKCJbaGlnaGxpZ2h0LXdvcmtlcl0gY2FudmFzIGJpdG1hcCBpcyB0cmFuc3BhcmVudCIsIHsKICAgICAgICAgIGlkLAogICAgICAgICAgYmFzZTY0CiAgICAgICAgfSk7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCwgc3RhdHVzOiAidHJhbnNwYXJlbnQiIH0pOwogICAgICB9CiAgICAgIGlmIChsYXN0QmxvYk1hcC5nZXQoaWQpID09PSBiYXNlNjQpIHsKICAgICAgICBkZWJ1ZygiW2hpZ2hsaWdodC13b3JrZXJdIGNhbnZhcyBiaXRtYXAgaXMgdW5jaGFuZ2VkIiwgewogICAgICAgICAgaWQsCiAgICAgICAgICBiYXNlNjQKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQsIHN0YXR1czogInVuY2hhbmdlZCIgfSk7CiAgICAgIH0KICAgICAgY29uc3QgbXNnID0gewogICAgICAgIGlkLAogICAgICAgIHR5cGUsCiAgICAgICAgYmFzZTY0LAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkeCwKICAgICAgICBkeSwKICAgICAgICBkdywKICAgICAgICBkaAogICAgICB9OwogICAgICBkZWJ1ZygiW2hpZ2hsaWdodC13b3JrZXJdIGNhbnZhcyBiaXRtYXAgcHJvY2Vzc2VkIiwgbXNnKTsKICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKG1zZyk7CiAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsKICAgIH0gZWxzZSB7CiAgICAgIGRlYnVnKCJbaGlnaGxpZ2h0LXdvcmtlcl0gbm8gb2Zmc2NyZWVuY2FudmFzIHN1cHBvcnQiLCB7CiAgICAgICAgaWQ6IGUuZGF0YS5pZAogICAgICB9KTsKICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkOiBlLmRhdGEuaWQsIHN0YXR1czogInVuc3VwcG9ydGVkIiB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUJpWEpSZjQ3LmpzLm1hcAo=",B_=r=>Uint8Array.from(atob(r),e=>e.charCodeAt(0)),of=typeof self!="undefined"&&self.Blob&&new Blob([B_(sf)],{type:"text/javascript;charset=utf-8"});function K_(r){let e;try{if(e=of&&(self.URL||self.webkitURL).createObjectURL(of),!e)throw"";const t=new Worker(e,{name:r==null?void 0:r.name});return t.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),t}catch(t){return new Worker("data:text/javascript;base64,"+sf,{name:r==null?void 0:r.name})}finally{e&&(self.URL||self.webkitURL).revokeObjectURL(e)}}class D_{constructor(e){Z(this,"pendingCanvasMutations",new Map),Z(this,"rafStamps",{latestId:0,invokeId:null}),Z(this,"mirror"),Z(this,"logger"),Z(this,"worker"),Z(this,"snapshotInProgressMap",new Map),Z(this,"lastSnapshotTime",new Map),Z(this,"options"),Z(this,"mutationCb"),Z(this,"resetObservers"),Z(this,"frozen",!1),Z(this,"locked",!1),Z(this,"processMutation",(u,d)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(u)||this.pendingCanvasMutations.set(u,[]),this.pendingCanvasMutations.get(u).push(d)});const{sampling:t,win:n,blockClass:i,blockSelector:s,recordCanvas:o,recordVideos:l,initialSnapshotDelay:a,dataURLOptions:c}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.logger=e.logger,this.worker=new K_,this.worker.onmessage=u=>{const{id:d}=u.data;if(this.snapshotInProgressMap.set(d,!1),!("base64"in u.data)){this.debug(null,"canvas worker received empty message",{data:u.data,status:u.data.status});return}const{base64:h,type:p,dx:m,dy:f,dw:y,dh:b}=u.data,S={id:d,type:Tr["2D"],commands:[{property:"clearRect",args:[m,f,y,b]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:h}],type:p}]},m,f,y,b]}]};this.debug(null,"canvas worker recording mutation",S),this.mutationCb(S)},this.options=e,o&&t==="all"?(this.debug(null,"initializing canvas mutation observer",{sampling:t}),this.initCanvasMutationObserver(n,i,s)):o&&typeof t=="number"&&(this.debug(null,"initializing canvas fps observer",{sampling:t}),this.initCanvasFPSObserver(l,t,n,i,s,{initialSnapshotDelay:a,dataURLOptions:c},e.resizeFactor,e.maxSnapshotDimension))}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}debug(e,...t){if(!this.logger)return;const n=this.mirror.getId(e);let i="[highlight-canvas-manager]";e&&(i=`[highlight-canvas] [id:${n}]`,e.tagName.toLowerCase()==="canvas"&&(i+=` [ctx:${e.__context}]`)),this.logger.debug(i,e,...t)}snapshot(e){return $(this,null,function*(){var t;const n=this.mirror.getId(e);if(this.snapshotInProgressMap.get(n)){this.debug(e,"snapshotting already in progress for",n);return}const i=1e3/(typeof this.options.samplingManual=="number"?this.options.samplingManual:1),s=this.lastSnapshotTime.get(n);if(!(s&&new Date().getTime()-s<i)){if(this.debug(e,"starting snapshotting"),e.width===0||e.height===0){this.debug(e,"not yet ready",{width:e.width,height:e.height});return}this.lastSnapshotTime.set(n,new Date().getTime()),this.snapshotInProgressMap.set(n,!0);try{if(this.options.clearWebGLBuffer!==!1&&["webgl","webgl2"].includes(e.__context)){const u=e.getContext(e.__context);((t=u==null?void 0:u.getContextAttributes())==null?void 0:t.preserveDrawingBuffer)===!1&&(u.clear(u.COLOR_BUFFER_BIT),this.debug(e,"cleared webgl canvas to load it into memory",{attributes:u==null?void 0:u.getContextAttributes()}))}if(e.width===0||e.height===0){this.debug(e,"not yet ready",{width:e.width,height:e.height});return}let o=this.options.resizeFactor||1;if(this.options.maxSnapshotDimension){const u=Math.max(e.width,e.height);o=Math.min(o,this.options.maxSnapshotDimension/u)}const l=e.width*o,a=e.height*o,c=yield createImageBitmap(e,{resizeWidth:l,resizeHeight:a});this.debug(e,"created image bitmap",{width:c.width,height:c.height}),this.worker.postMessage({id:n,bitmap:c,width:l,height:a,dx:0,dy:0,dw:e.width,dh:e.height,dataURLOptions:this.options.dataURLOptions,logDebug:!!this.logger},[c]),this.debug(e,"sent message")}catch(o){this.debug(e,"failed to snapshot",o)}finally{this.snapshotInProgressMap.set(n,!1)}}})}initCanvasFPSObserver(e,t,n,i,s,o,l,a){const c=rf(n,i,s,!0),u=1e3/t;let d=0,h;const p=new Map,m=(S,v)=>{const T=[];S.querySelectorAll(v).forEach(w=>T.push(w));const C=document.createNodeIterator(S,Node.ELEMENT_NODE);let N;for(;N=C.nextNode();)N!=null&&N.shadowRoot&&T.push(...m(N.shadowRoot,v));return T},f=S=>{const v=[];return m(n.document,"canvas").forEach(T=>{if(!Te(T,i,s,!0)){this.debug(T,"discovered canvas"),v.push(T);const C=this.mirror.getId(T);p.has(C)||p.set(C,S)}}),v},y=S=>{const v=[];return e&&m(n.document,"video").forEach(T=>{if(!(T.src!==""&&T.src.indexOf("blob:")===-1)&&!Te(T,i,s,!0)){v.push(T);const C=this.mirror.getId(T);p.has(C)||p.set(C,S)}}),v},b=S=>$(this,null,function*(){if(d&&S-d<u){h=requestAnimationFrame(b);return}d=S;const v=C=>{const N=this.mirror.getId(C),w=p.get(N),L=!o.initialSnapshotDelay||S-w>o.initialSnapshotDelay;return this.debug(C,{delay:o.initialSnapshotDelay,delta:S-w,hadLoadingTime:L}),L},T=[];T.push(...f(S).filter(v).map(C=>this.snapshot(C))),T.push(...y(S).filter(v).map(C=>$(this,null,function*(){this.debug(C,"starting video snapshotting");const N=this.mirror.getId(C);if(this.snapshotInProgressMap.get(N)){this.debug(C,"video snapshotting already in progress for",N);return}this.snapshotInProgressMap.set(N,!0);try{const{width:w,height:L}=C.getBoundingClientRect(),{actualWidth:x,actualHeight:V}={actualWidth:C.videoWidth,actualHeight:C.videoHeight},q=Math.max(x,V);if(q===0){this.debug(C,"not yet ready",{width:C.width,height:C.height,actualWidth:x,actualHeight:V,boxWidth:w,boxHeight:L});return}let be=l||1;a&&(be=Math.min(be,a/q));const A=x*be,g=V*be,E=yield createImageBitmap(C,{resizeWidth:A,resizeHeight:g}),X=Math.max(w,L)/q,ce=x*X,H=V*X,k=(w-ce)/2,Ge=(L-H)/2;this.debug(C,"created image bitmap",{actualWidth:x,actualHeight:V,boxWidth:w,boxHeight:L,outputWidth:ce,outputHeight:H,resizeWidth:A,resizeHeight:g,scale:be,outputScale:X,offsetX:k,offsetY:Ge}),this.worker.postMessage({id:N,bitmap:E,width:A,height:g,dx:k,dy:Ge,dw:ce,dh:H,dataURLOptions:o.dataURLOptions,logDebug:!!this.logger},[E]),this.debug(C,"send message")}catch(w){this.debug(C,"failed to snapshot",w)}finally{this.snapshotInProgressMap.set(N,!1)}}))),yield Promise.all(T).catch(console.error),h=requestAnimationFrame(b)});h=requestAnimationFrame(b),this.resetObservers=()=>{c(),h&&cancelAnimationFrame(h)}}initCanvasMutationObserver(e,t,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=rf(e,t,n,!1),s=F_(this.processMutation.bind(this),e,t,n),o=J_(this.processMutation.bind(this),e,t,n);this.resetObservers=()=>{i(),s(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||t===-1)return;const i=n.map(o=>{const c=o,{type:l}=c;return Ve(c,["type"])}),{type:s}=n[0];this.mutationCb({id:t,type:s,commands:i}),this.pendingCanvasMutations.delete(e)}}class z_{constructor(e){Z(this,"trackedLinkElements",new WeakSet),Z(this,"mutationCb"),Z(this,"adoptedStyleSheetCb"),Z(this,"styleMirror",new y_),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(e.length===0)return;const n={id:t,styleIds:[]},i=[];for(const s of e){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(l,a)=>({rule:Rd(l,s.href),index:a}))})),n.styleIds.push(o)}i.length>0&&(n.styles=i),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class j_{constructor(){Z(this,"nodeMap",new WeakMap),Z(this,"active",!1)}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some(i=>i!==t)}add(e,t){this.active||(this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let de,ls,Tn,cs=!1;try{if(Array.from([1],r=>r*2)[0]!==2){const r=document.createElement("iframe");document.body.appendChild(r),Array.from=((md=r.contentWindow)==null?void 0:md.Array.from)||Array.from,document.body.removeChild(r)}}catch(r){console.debug("Unable to override Array.from",r)}const Ke=iI();function pt(r={}){var e,t,n,i,s,o,l,a;const{emit:c,checkoutEveryNms:u,checkoutEveryNth:d,blockClass:h="highlight-block",blockSelector:p=null,ignoreClass:m="highlight-ignore",ignoreSelector:f=null,maskTextClass:y="highlight-mask",maskTextSelector:b=null,inlineStylesheet:S=!0,maskAllInputs:v,maskInputOptions:T,slimDOMOptions:C,maskInputFn:N,maskTextFn:w=oa,hooks:L,packFn:x,sampling:V={},mousemoveWait:q,recordDOM:be=!0,recordCanvas:A=!1,recordCrossOriginIframes:g=!1,recordAfter:E=r.recordAfter==="DOMContentLoaded"?r.recordAfter:"load",userTriggeredOnInput:X=!1,collectFonts:ce=!1,inlineImages:H=!1,plugins:k,keepIframeSrcFn:Ge=()=>!1,privacySetting:Ie="default",ignoreCSSAttributes:Cn=new Set([]),errorHandler:yL,logger:bL}=r,Ts=I(I({},r.dataURLOptions),(t=(e=r.sampling)==null?void 0:e.canvas)==null?void 0:t.dataURLOptions);I_(yL);const Is=g?window.parent===window:!0;let Ln=!1;if(!Is)try{window.parent.document&&(Ln=!1)}catch(ee){Ln=!0}if(Is&&!c)throw new Error("emit function is required");if(!Is&&!Ln)return()=>{};q!==void 0&&V.mousemove===void 0&&(V.mousemove=q),Ke.reset();const Al=v===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:T!==void 0?T:{password:!0},Ul=C===!0||C==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:C==="all",headMetaDescKeywords:C==="all",headTitleMutations:C==="all"}:C||{};m_();let zf,Ml=0;const jf=ee=>{for(const ze of k||[])ze.eventProcessor&&(ee=ze.eventProcessor(ee));return x&&!Ln&&(ee=x(ee)),ee};de=(ee,ze)=>{var he;const pe=ee;if(pe.timestamp=rs(),(he=Mt[0])!=null&&he.isFrozen()&&pe.type!==j.FullSnapshot&&!(pe.type===j.IncrementalSnapshot&&pe.data.source===K.Mutation)&&Mt.forEach(st=>st.unfreeze()),Is)c==null||c(jf(pe),ze);else if(Ln){const st={type:"rrweb",event:jf(pe),origin:window.location.origin,isCheckout:ze};window.parent.postMessage(st,"*")}if(pe.type===j.FullSnapshot)zf=pe,Ml=0;else if(pe.type===j.IncrementalSnapshot){if(pe.data.source===K.Mutation&&pe.data.isAttachIframe)return;Ml++;const st=d&&Ml>=d,ae=u&&pe.timestamp-zf.timestamp>u;(st||ae)&&ls(!0)}};const Es=ee=>{de({type:j.IncrementalSnapshot,data:I({source:K.Mutation},ee)})},Qf=ee=>de({type:j.IncrementalSnapshot,data:I({source:K.Scroll},ee)}),$f=ee=>de({type:j.IncrementalSnapshot,data:I({source:K.CanvasMutation},ee)}),gL=ee=>de({type:j.IncrementalSnapshot,data:I({source:K.AdoptedStyleSheet},ee)}),Ft=new z_({mutationCb:Es,adoptedStyleSheetCb:gL}),Ht=new P_({mirror:Ke,mutationCb:Es,stylesheetManager:Ft,recordCrossOriginIframes:g,wrappedEmit:de});for(const ee of k||[])ee.getMirror&&ee.getMirror({nodeMirror:Ke,crossOriginIframeMirror:Ht.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ht.crossOriginIframeStyleMirror});const Yl=new j_;Tn=new D_({recordCanvas:A,recordVideos:H,mutationCb:$f,win:window,blockClass:h,blockSelector:p,mirror:Ke,sampling:(n=V==null?void 0:V.canvas)==null?void 0:n.fps,samplingManual:(i=V==null?void 0:V.canvas)==null?void 0:i.fpsManual,clearWebGLBuffer:(s=V==null?void 0:V.canvas)==null?void 0:s.clearWebGLBuffer,initialSnapshotDelay:(o=V==null?void 0:V.canvas)==null?void 0:o.initialSnapshotDelay,dataURLOptions:Ts,resizeFactor:(l=V==null?void 0:V.canvas)==null?void 0:l.resizeFactor,maxSnapshotDimension:(a=V==null?void 0:V.canvas)==null?void 0:a.maxSnapshotDimension,logger:bL});const ws=new A_({mutationCb:Es,scrollCb:Qf,bypassOptions:{blockClass:h,blockSelector:p,maskTextClass:y,maskTextSelector:b,inlineStylesheet:S,maskInputOptions:Al,dataURLOptions:Ts,maskTextFn:w,maskInputFn:N,recordCanvas:A,inlineImages:H,privacySetting:Ie,sampling:V,slimDOMOptions:Ul,iframeManager:Ht,stylesheetManager:Ft,canvasManager:Tn,keepIframeSrcFn:Ge,processedNodeManager:Yl},mirror:Ke});ls=(ee=!1)=>{if(!be)return;de({type:j.Meta,data:{href:window.location.href,width:Wp(),height:Xp()}},ee),Ft.reset(),ws.init(),Mt.forEach(he=>he.lock());const ze=OI(document,{mirror:Ke,blockClass:h,blockSelector:p,maskTextClass:y,maskTextSelector:b,inlineStylesheet:S,maskAllInputs:Al,maskTextFn:w,maskInputFn:N,slimDOM:Ul,dataURLOptions:Ts,recordCanvas:A,inlineImages:H,privacySetting:Ie,onSerialize:he=>{Pp(he,Ke)&&Ht.addIframe(he),Ap(he,Ke)&&Ft.trackLinkElement(he),Sl(he)&&ws.addShadowRoot(B.shadowRoot(he),document)},onIframeLoad:(he,pe)=>{Ht.attachIframe(he,pe),ws.observeAttachShadow(he)},onStylesheetLoad:(he,pe)=>{Ft.attachLinkElement(he,pe)},keepIframeSrcFn:Ge});if(!ze)return console.warn("Failed to snapshot the document");de({type:j.FullSnapshot,data:{node:ze,initialOffset:Op(window)}},ee),Mt.forEach(he=>he.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Ft.adoptStyleSheets(document.adoptedStyleSheets,Ke.getId(document))};try{const ee=[],ze=pe=>{var st;return z(k_)({mutationCb:Es,mousemoveCb:(ae,Fl)=>de({type:j.IncrementalSnapshot,data:{source:Fl,positions:ae}}),mouseInteractionCb:ae=>de({type:j.IncrementalSnapshot,data:I({source:K.MouseInteraction},ae)}),scrollCb:Qf,viewportResizeCb:ae=>de({type:j.IncrementalSnapshot,data:I({source:K.ViewportResize},ae)}),inputCb:ae=>de({type:j.IncrementalSnapshot,data:I({source:K.Input},ae)}),mediaInteractionCb:ae=>de({type:j.IncrementalSnapshot,data:I({source:K.MediaInteraction},ae)}),styleSheetRuleCb:ae=>de({type:j.IncrementalSnapshot,data:I({source:K.StyleSheetRule},ae)}),styleDeclarationCb:ae=>de({type:j.IncrementalSnapshot,data:I({source:K.StyleDeclaration},ae)}),canvasMutationCb:$f,fontCb:ae=>de({type:j.IncrementalSnapshot,data:I({source:K.Font},ae)}),selectionCb:ae=>{de({type:j.IncrementalSnapshot,data:I({source:K.Selection},ae)})},customElementCb:ae=>{de({type:j.IncrementalSnapshot,data:I({source:K.CustomElement},ae)})},blockClass:h,ignoreClass:m,ignoreSelector:f,maskTextClass:y,maskTextSelector:b,maskInputOptions:Al,inlineStylesheet:S,sampling:V,recordDOM:be,recordCanvas:A,inlineImages:H,userTriggeredOnInput:X,collectFonts:ce,doc:pe,maskInputFn:N,maskTextFn:w,keepIframeSrcFn:Ge,blockSelector:p,slimDOMOptions:Ul,dataURLOptions:Ts,mirror:Ke,iframeManager:Ht,stylesheetManager:Ft,shadowDomManager:ws,processedNodeManager:Yl,canvasManager:Tn,ignoreCSSAttributes:Cn,privacySetting:Ie,plugins:((st=k==null?void 0:k.filter(ae=>ae.observer))==null?void 0:st.map(ae=>({observer:ae.observer,options:ae.options,callback:Fl=>de({type:j.Plugin,data:{plugin:ae.name,payload:Fl}})})))||[]},L)};Ht.addLoadListener(pe=>{try{ee.push(ze(pe.contentDocument))}catch(st){console.warn(st)}});const he=()=>{ls(),ee.push(ze(document)),cs=!0};return document.readyState==="interactive"||document.readyState==="complete"?he():(ee.push(_e("DOMContentLoaded",()=>{de({type:j.DomContentLoaded,data:{}}),E==="DOMContentLoaded"&&he()})),ee.push(_e("load",()=>{de({type:j.Load,data:{}}),E==="load"&&he()},window))),()=>{ee.forEach(pe=>pe()),Yl.destroy(),cs=!1,E_()}}catch(ee){console.warn(ee)}}pt.addCustomEvent=(r,e)=>{cs&&de({type:j.Custom,data:{tag:r,payload:e}})},pt.freezePage=()=>{Mt.forEach(r=>r.freeze())},pt.takeFullSnapshot=r=>{if(!cs)throw new Error("please take full snapshot after start recording");ls(r)},pt.snapshotCanvas=r=>$(this,null,function*(){if(!Tn)throw new Error("canvas manager is not initialized");yield Tn.snapshot(r)}),pt.mirror=Ke;var af;(function(r){r[r.NotStarted=0]="NotStarted",r[r.Running=1]="Running",r[r.Stopped=2]="Stopped"})(af||(af={}));const{addCustomEvent:lf}=pt;var us=function(){return us=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},us.apply(this,arguments)},ds=new Map,Rl=new Map,cf=!0,hs=!1;function uf(r){return r.replace(/[\s,]+/g," ").trim()}function Q_(r){return uf(r.source.body.substring(r.start,r.end))}function $_(r){var e=new Set,t=[];return r.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var i=n.name.value,s=Q_(n.loc),o=Rl.get(i);o&&!o.has(s)?cf&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||Rl.set(i,o=new Set),o.add(s),e.has(s)||(e.add(s),t.push(n))}else t.push(n)}),us(us({},r),{definitions:t})}function q_(r){var e=new Set(r.definitions);e.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(i){var s=n[i];s&&typeof s=="object"&&e.add(s)})});var t=r.loc;return t&&(delete t.startToken,delete t.endToken),r}function eC(r){var e=uf(r);if(!ds.has(e)){var t=Go(r,{experimentalFragmentVariables:hs,allowLegacyFragmentVariables:hs});if(!t||t.kind!=="Document")throw new Error("Not a valid GraphQL document.");ds.set(e,q_($_(t)))}return ds.get(e)}function xe(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];typeof r=="string"&&(r=[r]);var n=r[0];return e.forEach(function(i,s){i&&i.kind==="Document"?n+=i.loc.source.body:n+=i,n+=r[s+1]}),eC(n)}function tC(){ds.clear(),Rl.clear()}function rC(){cf=!1}function nC(){hs=!0}function iC(){hs=!1}var In={gql:xe,resetCaches:tC,disableFragmentWarnings:rC,enableExperimentalFragmentVariables:nC,disableExperimentalFragmentVariables:iC};(function(r){r.gql=In.gql,r.resetCaches=In.resetCaches,r.disableFragmentWarnings=In.disableFragmentWarnings,r.enableExperimentalFragmentVariables=In.enableExperimentalFragmentVariables,r.disableExperimentalFragmentVariables=In.disableExperimentalFragmentVariables})(xe||(xe={})),xe.default=xe;var df;(function(r){r.BillingQuotaExceeded="BillingQuotaExceeded"})(df||(df={}));const hf=xe`
	mutation PushPayload(
		$session_secure_id: String!
		$payload_id: ID!
		$events: ReplayEventsInput!
		$messages: String!
		$resources: String!
		$web_socket_events: String!
		$errors: [ErrorObjectInput]!
		$is_beacon: Boolean
		$has_session_unloaded: Boolean
		$highlight_logs: String
	) {
		pushPayload(
			session_secure_id: $session_secure_id
			payload_id: $payload_id
			events: $events
			messages: $messages
			resources: $resources
			web_socket_events: $web_socket_events
			errors: $errors
			is_beacon: $is_beacon
			has_session_unloaded: $has_session_unloaded
			highlight_logs: $highlight_logs
		)
	}
`,sC=xe`
	mutation PushPayloadCompressed(
		$session_secure_id: String!
		$payload_id: ID!
		$data: String!
	) {
		pushPayloadCompressed(
			session_secure_id: $session_secure_id
			payload_id: $payload_id
			data: $data
		)
	}
`,oC=xe`
	mutation identifySession(
		$session_secure_id: String!
		$user_identifier: String!
		$user_object: Any
	) {
		identifySession(
			session_secure_id: $session_secure_id
			user_identifier: $user_identifier
			user_object: $user_object
		)
	}
`,aC=xe`
	mutation addSessionProperties(
		$session_secure_id: String!
		$properties_object: Any
	) {
		addSessionProperties(
			session_secure_id: $session_secure_id
			properties_object: $properties_object
		)
	}
`,lC=xe`
	mutation pushMetrics($metrics: [MetricInput]!) {
		pushMetrics(metrics: $metrics)
	}
`,cC=xe`
	mutation addSessionFeedback(
		$session_secure_id: String!
		$user_name: String
		$user_email: String
		$verbatim: String!
		$timestamp: Timestamp!
	) {
		addSessionFeedback(
			session_secure_id: $session_secure_id
			user_name: $user_name
			user_email: $user_email
			verbatim: $verbatim
			timestamp: $timestamp
		)
	}
`,uC=xe`
	mutation initializeSession(
		$session_secure_id: String!
		$organization_verbose_id: String!
		$enable_strict_privacy: Boolean!
		$privacy_setting: String!
		$enable_recording_network_contents: Boolean!
		$clientVersion: String!
		$firstloadVersion: String!
		$clientConfig: String!
		$environment: String!
		$id: String!
		$appVersion: String
		$serviceName: String!
		$client_id: String!
		$network_recording_domains: [String!]
		$disable_session_recording: Boolean
	) {
		initializeSession(
			session_secure_id: $session_secure_id
			organization_verbose_id: $organization_verbose_id
			enable_strict_privacy: $enable_strict_privacy
			enable_recording_network_contents: $enable_recording_network_contents
			clientVersion: $clientVersion
			firstloadVersion: $firstloadVersion
			clientConfig: $clientConfig
			environment: $environment
			appVersion: $appVersion
			serviceName: $serviceName
			fingerprint: $id
			client_id: $client_id
			network_recording_domains: $network_recording_domains
			disable_session_recording: $disable_session_recording
			privacy_setting: $privacy_setting
		) {
			secure_id
			project_id
		}
	}
`,dC=xe`
	query Ignore($id: ID!) {
		ignore(id: $id)
	}
`,hC=(r,e,t,n)=>r();function pC(r,e=hC){return{PushPayload(t,n){return e(i=>r.request(hf,t,I(I({},n),i)),"PushPayload","mutation",t)},PushPayloadCompressed(t,n){return e(i=>r.request(sC,t,I(I({},n),i)),"PushPayloadCompressed","mutation",t)},identifySession(t,n){return e(i=>r.request(oC,t,I(I({},n),i)),"identifySession","mutation",t)},addSessionProperties(t,n){return e(i=>r.request(aC,t,I(I({},n),i)),"addSessionProperties","mutation",t)},pushMetrics(t,n){return e(i=>r.request(lC,t,I(I({},n),i)),"pushMetrics","mutation",t)},addSessionFeedback(t,n){return e(i=>r.request(cC,t,I(I({},n),i)),"addSessionFeedback","mutation",t)},initializeSession(t,n){return e(i=>r.request(uC,t,I(I({},n),i)),"initializeSession","mutation",t)},Ignore(t,n){return e(i=>r.request(dC,t,I(I({},n),i)),"Ignore","query",t)}}}const fC=r=>{r(window.location.href);const e=history.pushState;history.pushState=(s=>function(){var l=s.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),l})(history.pushState);const t=history.replaceState;history.replaceState=(s=>function(){var l=s.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),l})(history.replaceState);const n=()=>{window.dispatchEvent(new Event("locationchange"))};window.addEventListener("popstate",n);const i=function(){r(window.location.href)};return window.addEventListener("locationchange",i),()=>{window.removeEventListener("popstate",n),window.removeEventListener("locationchange",i),history.pushState=e,history.replaceState=t}},mC=r=>{switch(r){case"strict":return[!0,void 0];case"default":return[!0,void 0];case"none":return[!1,{password:!0}]}};var Zt;(function(r){r[r.All=0]="All",r[r.Two=1]="Two",r[r.One=2]="One"})(Zt||(Zt={}));let Ae,Tl;function pf(r,e){return r.nodeType,Node.ELEMENT_NODE,Zl(r);return yC(r,e)}function ff(r){if(r.id.length)return`#${r.id}`;if(r.classList.length){let e=[];for(const t of r.classList)e.push(`.${t}`);return`${r.nodeName.toLowerCase()}${e.join(",")}`}return r.nodeName.toLowerCase()}function yC(r,e){if(r.tagName.toLowerCase()==="html")return"html";try{const t={root:document.body,idName:i=>!0,className:i=>!0,tagName:i=>!0,attr:(i,s)=>!1,seedMinLength:1,optimizedMinLength:2,threshold:50,maxNumberOfTries:1e3,optimized:!0};Ae=I(I({},t),e),Tl=bC(Ae.root,t);let n=Il(r,Zt.All,()=>Il(r,Zt.Two,()=>Il(r,Zt.One)));if(n){if(Ae.optimized){const i=Sf(vf(n,r));i.length>0&&(n=i[0])}return ps(n)}else return Zl(r)}catch(t){return Zl(r)}}function bC(r,e){return r.nodeType===Node.DOCUMENT_NODE?r:r===e.root?r.ownerDocument:r}function Il(r,e,t){let n=null,i=[],s=r,o=0;for(;s&&s!==Ae.root.parentElement;){let l=fs(gC(s))||fs(...SC(s))||fs(...vC(s))||fs(RC(s))||[TC()];const a=IC(s);if(e===Zt.All)a&&(l=l.concat(l.filter(wl).map(c=>El(c,a))));else if(e===Zt.Two)l=l.slice(0,1),a&&(l=l.concat(l.filter(wl).map(c=>El(c,a))));else if(e===Zt.One){const[c]=l=l.slice(0,1);a&&wl(c)&&(l=[El(c,a)])}for(let c of l)c.level=o;if(i.push(l),i.length>=Ae.seedMinLength&&(n=mf(i,t),n))break;s=s.parentElement,o++}return n||(n=mf(i,t)),n}function mf(r,e){const t=Sf(gf(r));if(t.length>Ae.threshold)return e?e():null;for(let n of t)if(bf(n))return n;return null}function ps(r){let e=r[0],t=e.name;for(let n=1;n<r.length;n++){const i=r[n].level||0;e.level===i-1?t=`${r[n].name} > ${t}`:t=`${r[n].name} ${t}`,e=r[n]}return t}function yf(r){return r.map(e=>e.penalty).reduce((e,t)=>e+t,0)}function bf(r){switch(Tl.querySelectorAll(ps(r)).length){case 0:return!0;case 1:return!0;default:return!1}}function gC(r){const e=r.getAttribute("id");return e&&Ae.idName(e)?{name:"#"+ms(e,{isIdentifier:!0}),penalty:0}:null}function SC(r){return Array.from(r.attributes).filter(t=>Ae.attr(t.name,t.value)).map(t=>({name:"["+ms(t.name,{isIdentifier:!0})+'="'+ms(t.value)+'"]',penalty:.5}))}function vC(r){return Array.from(r.classList).filter(Ae.className).map(t=>({name:"."+ms(t,{isIdentifier:!0}),penalty:1}))}function RC(r){const e=r.tagName.toLowerCase();return Ae.tagName(e)?{name:e,penalty:2}:null}function TC(){return{name:"*",penalty:3}}function IC(r){const e=r.parentNode;if(!e)return null;let t=e.firstChild;if(!t)return null;let n=0;for(;t&&(t.nodeType===Node.ELEMENT_NODE&&n++,t!==r);)t=t.nextSibling;return n}function El(r,e){return{name:r.name+`:nth-child(${e})`,penalty:r.penalty+1}}function wl(r){return r.name!=="html"&&!r.name.startsWith("#")}function fs(...r){const e=r.filter(EC);return e.length>0?e:null}function EC(r){return r!=null}function*gf(r,e=[]){if(r.length>0)for(let t of r[0])yield*Bl(gf(r.slice(1,r.length),e.concat(t)));else yield e}function Sf(r){return Array.from(r).sort((e,t)=>yf(e)-yf(t))}function*vf(r,e,t={counter:0,visited:new Map}){if(r.length>2&&r.length>Ae.optimizedMinLength)for(let n=1;n<r.length-1;n++){if(t.counter>Ae.maxNumberOfTries)return;t.counter+=1;const i=[...r];i.splice(n,1);const s=ps(i);if(t.visited.has(s))return;bf(i)&&wC(i,e)&&(yield i,t.visited.set(s,!0),yield*Bl(vf(i,e,t)))}}function wC(r,e){return Tl.querySelector(ps(r))===e}const ZC=/[ -,\.\/:-@\[-\^`\{-~]/,_C=/[ -,\.\/:-@\[\]\^`\{-~]/,CC=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,LC={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};function ms(r,e={}){const t=I(I({},LC),e);t.quotes!="single"&&t.quotes!="double"&&(t.quotes="single");const n=t.quotes=="double"?'"':"'",i=t.isIdentifier,s=r.charAt(0);let o="",l=0;const a=r.length;for(;l<a;){const c=r.charAt(l++);let u=c.charCodeAt(0),d;if(u<32||u>126){if(u>=55296&&u<=56319&&l<a){const h=r.charCodeAt(l++);(h&64512)==56320?u=((u&1023)<<10)+(h&1023)+65536:l--}d="\\"+u.toString(16).toUpperCase()+" "}else t.escapeEverything?ZC.test(c)?d="\\"+c:d="\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(c)?d="\\"+u.toString(16).toUpperCase()+" ":c=="\\"||!i&&(c=='"'&&n==c||c=="'"&&n==c)||i&&_C.test(c)?d="\\"+c:d=c;o+=d}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(s)&&(o="\\3"+s+" "+o.slice(1))),o=o.replace(CC,function(c,u,d){return u&&u.length%2?c:(u||"")+d}),!i&&t.wrap?n+o+n:o}const Zl=r=>{let e="";const t=r.getAttribute("class"),n=r.getAttribute("id");return n&&(e=e.concat(Rf(n,"#"))),t&&(e=e.concat(Rf(t,"."))),e===""&&(e=e.concat(r.tagName.toLowerCase())),e},Rf=(r,e)=>`${e}${r.trim().split(" ").join(e)}`,GC=r=>{const e=t=>{if(t.target){const n=t.target,i=pf(n);r(i,t)}};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},NC=r=>{const e=t=>{if(t.target){const n=pf(t.target);r(n)}};return window.addEventListener("focusin",e),()=>window.removeEventListener("focusin",e)},VC=30,OC=()=>new Promise(r=>requestAnimationFrame(e=>requestAnimationFrame(t=>r(t-e)))),XC=()=>$(this,null,function*(){const r=[];for(let e=0;e<VC;e++)r.push(yield OC());return r.reduce((e,t)=>e+t,0)/r.length}),WC=(r,e)=>{let t={},n=16.666666666666668;XC().then(a=>n=a);const i=a=>{var c;t!=null&&t.event||(t={event:a,location:window.location.href,timerStart:(c=window.performance)==null?void 0:c.now()},window.requestAnimationFrame(s))},s=()=>{if(!(t!=null&&t.timerStart))return;const a=window.performance.now()-t.timerStart-n;o(a),t={}},o=a=>{const c=(new Date().getTime()-e)/1e3;r({relativeTimestamp:c,jankAmount:a,querySelector:l(),newLocation:window.location.href!=t.location?window.location.href:void 0})},l=()=>{var a;return(a=t==null?void 0:t.event)!=null&&a.target?ff(t.event.target):""};return window.addEventListener("click",i,!0),window.addEventListener("keydown",i,!0),()=>{window.removeEventListener("keydown",i,!0),window.removeEventListener("click",i,!0)}},xC=r=>{let e,t;if(typeof document.hidden!="undefined"?(e="hidden",t="visibilitychange"):typeof document.msHidden!="undefined"?(e="msHidden",t="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(e="webkitHidden",t="webkitvisibilitychange"),t===void 0)return()=>{};if(e===void 0)return()=>{};const n=e,i=()=>{const o=document[n];r(!!o)};document.addEventListener(t,i);const s=t;return()=>document.removeEventListener(s,i)},Tf=typeof window!="undefined"&&"performance"in window&&"memory"in performance?performance:{memory:{}},kC=(r,e)=>{let t=0,n=0;const i=()=>{const u=(new Date().getTime()-e)/1e3,d=Tf.memory.jsHeapSizeLimit||0,h=Tf.memory.usedJSHeapSize||0;r({jsHeapSizeLimit:d,usedJSHeapSize:h,relativeTimestamp:u,fps:t})};i();let s;s=setInterval(()=>{i()},1e3*5);let o=0,l=Date.now();const a=function(){var c=Date.now();o++,c>1e3+l&&(t=Math.round(o*1e3/(c-l)),o=0,l=c),n=requestAnimationFrame(a)};return a(),()=>{clearInterval(s),cancelAnimationFrame(n)}};var _t;(function(r){r.USER_ID="ajs_user_id",r.USER_TRAITS="ajs_user_traits",r.ANONYMOUS_ID="ajs_anonymous_id"})(_t||(_t={}));const PC=r=>{r(window.location.href);var e=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(s){setTimeout(()=>{var l;var o;try{o=JSON.parse((l=s==null?void 0:s.toString())!=null?l:"")}catch(a){return}(o.type==="track"||o.type==="identify")&&_l(o)&&r(o)},100),e.call(this,s)};const t=s=>{if(s.key===_t.USER_ID||s.key===_t.ANONYMOUS_ID||s.key===_t.USER_TRAITS){const{userId:o,userTraits:l}=If();if(o){let a={};l&&(a=JSON.parse(l));const c={type:"identify",userId:o.toString(),traits:a};_l(c)&&r(c)}}},{userId:n,userTraits:i}=If();if(n){let s={};i&&(s=JSON.parse(i));const o={type:"identify",userId:n.toString(),traits:s};_l(o)&&r(o)}return window.addEventListener("storage",t),yv(({keyName:s})=>{t({key:s})}),()=>{window.removeEventListener("storage",t),XMLHttpRequest.prototype.send=e}},If=()=>{const r=ke(_t.USER_ID),e=ke(_t.USER_TRAITS),t=ke(_t.ANONYMOUS_ID);return{userId:r,userTraits:e,anonymousId:t}},_l=r=>{if(!r)return!1;let e="";try{e=JSON.stringify(r)}catch(i){return!1}const t=AC(e),n=ke(Ze.SEGMENT_LAST_SENT_HASH_KEY);return n===void 0||t!==n?(ct(Ze.SEGMENT_LAST_SENT_HASH_KEY,t),!0):!1},AC=r=>{var e=0,t=r.length,n=0;if(t>0)for(;n<t;)e=(e<<5)-e+r.charCodeAt(n++)|0;return e.toString()},UC=(r,e)=>{const t=MC(r);let n=[];const i=!1,s=!0;for(let o=0;o<t.length;o++){let l=t[o].split("+");n=[],l.length>1&&(n=HC(wf,l)),l=l[l.length-1],l=l==="*"?"*":FC(l),l in rt||(rt[l]=[]),rt[l].push({mods:n,shortcut:t[o],key:t[o],method:e,keyup:i,keydown:s,scope:"all",splitKey:"+"})}JC(document,"keydown",o=>{KC(o)})};let Ce=[];function MC(r){typeof r!="string"&&(r=""),r=r.replace(/\s/g,"");const e=r.split(",");let t=e.lastIndexOf("");for(;t>=0;)e[t-1]+=",",e.splice(t,1),t=e.lastIndexOf("");return e}const rt={},Cl=typeof navigator!="undefined"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1,YC={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":Cl?173:189,"=":Cl?61:187,";":Cl?59:186,"'":222,"[":219,"]":221,"\\":220},Ef={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Le={16:!1,18:!1,17:!1,91:!1},wf={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},FC=r=>YC[r.toLowerCase()]||wf[r.toLowerCase()]||r.toUpperCase().charCodeAt(0);function HC(r,e){const t=e.slice(0,e.length-1);for(let n=0;n<t.length;n++)t[n]=r[t[n].toLowerCase()];return t}function JC(r,e,t){r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.attachEvent(`on${e}`,()=>{t(window.event)})}function BC(r,e,t){let n;if(e.scope===t||e.scope==="all"){n=e.mods.length>0;for(const i in Le)Object.prototype.hasOwnProperty.call(Le,i)&&(!Le[i]&&e.mods.indexOf(+i)>-1||Le[i]&&e.mods.indexOf(+i)===-1)&&(n=!1);(e.mods.length===0&&!Le[16]&&!Le[18]&&!Le[17]&&!Le[91]||n||e.shortcut==="*")&&e.method(r,e)===!1&&(r.preventDefault?r.preventDefault():r.returnValue=!1,r.stopPropagation&&r.stopPropagation(),r.cancelBubble&&(r.cancelBubble=!0))}}function KC(r){const e=rt["*"];let t=r.keyCode||r.which||r.charCode;if((t===93||t===224)&&(t=91),Ce.indexOf(t)===-1&&t!==229&&Ce.push(t),["ctrlKey","altKey","shiftKey","metaKey"].forEach(n=>{const i=Ef[n];r[n]&&Ce.indexOf(i)===-1?Ce.push(i):!r[n]&&Ce.indexOf(i)>-1?Ce.splice(Ce.indexOf(i),1):n==="metaKey"&&r[n]&&Ce.length===3&&(r.ctrlKey||r.shiftKey||r.altKey||(Ce=Ce.slice(Ce.indexOf(i))))}),!(t in Le&&(Le[t]=!0,!e))){for(const n in Le)Object.prototype.hasOwnProperty.call(Le,n)&&(Le[n]=r[Ef[n]]);if(r.getModifierState&&!(r.altKey&&!r.ctrlKey)&&r.getModifierState("AltGraph")&&(Ce.indexOf(17)===-1&&Ce.push(17),Ce.indexOf(18)===-1&&Ce.push(18),Le[17]=!0,Le[18]=!0),t in rt){for(let n=0;n<rt[t].length;n++)if((r.type==="keydown"&&rt[t][n].keydown||r.type==="keyup"&&rt[t][n].keyup)&&rt[t][n].key){const i=rt[t][n];BC(r,i,"all")}}}}const DC=r=>{let e;const n=()=>{clearTimeout(e),e=setTimeout(()=>{var i,s;r({height:window.innerHeight,width:window.innerWidth,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth,orientation:(s=(i=window.screen.orientation)==null?void 0:i.angle)!=null?s:0})},500)};return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)};var Ct,En,Zf,ys,Ll,_f=-1,Yt=function(r){addEventListener("pageshow",function(e){e.persisted&&(_f=e.timeStamp,r(e))},!0)},Gl=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},bs=function(){var r=Gl();return r&&r.activationStart||0},Ue=function(r,e){var t=Gl(),n="navigate";return _f>=0?n="back-forward-cache":t&&(document.prerendering||bs()>0?n="prerender":document.wasDiscarded?n="restore":t.type&&(n=t.type.replace(/_/g,"-"))),{name:r,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},wr=function(r,e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(r)){var n=new PerformanceObserver(function(i){Promise.resolve().then(function(){e(i.getEntries())})});return n.observe(Object.assign({type:r,buffered:!0},t||{})),n}}catch(i){}},Me=function(r,e,t,n){var i,s;return function(o){e.value>=0&&(o||n)&&((s=e.value-(i||0))||i===void 0)&&(i=e.value,e.delta=s,e.rating=function(l,a){return l>a[1]?"poor":l>a[0]?"needs-improvement":"good"}(e.value,t),r(e))}},Nl=function(r){requestAnimationFrame(function(){return requestAnimationFrame(function(){return r()})})},gs=function(r){var e=function(t){t.type!=="pagehide"&&document.visibilityState!=="hidden"||r(t)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},Vl=function(r){var e=!1;return function(t){e||(r(t),e=!0)}},Zr=-1,Cf=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},Ss=function(r){document.visibilityState==="hidden"&&Zr>-1&&(Zr=r.type==="visibilitychange"?r.timeStamp:0,zC())},Lf=function(){addEventListener("visibilitychange",Ss,!0),addEventListener("prerenderingchange",Ss,!0)},zC=function(){removeEventListener("visibilitychange",Ss,!0),removeEventListener("prerenderingchange",Ss,!0)},Ol=function(){return Zr<0&&(Zr=Cf(),Lf(),Yt(function(){setTimeout(function(){Zr=Cf(),Lf()},0)})),{get firstHiddenTime(){return Zr}}},wn=function(r){document.prerendering?addEventListener("prerenderingchange",function(){return r()},!0):r()},Gf=[1800,3e3],Nf=function(r,e){e=e||{},wn(function(){var t,n=Ol(),i=Ue("FCP"),s=wr("paint",function(o){o.forEach(function(l){l.name==="first-contentful-paint"&&(s.disconnect(),l.startTime<n.firstHiddenTime&&(i.value=Math.max(l.startTime-bs(),0),i.entries.push(l),t(!0)))})});s&&(t=Me(r,i,Gf,e.reportAllChanges),Yt(function(o){i=Ue("FCP"),t=Me(r,i,Gf,e.reportAllChanges),Nl(function(){i.value=performance.now()-o.timeStamp,t(!0)})}))})},Vf=[.1,.25],jC=function(r,e){e=e||{},Nf(Vl(function(){var t,n=Ue("CLS",0),i=0,s=[],o=function(a){a.forEach(function(c){if(!c.hadRecentInput){var u=s[0],d=s[s.length-1];i&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c])}}),i>n.value&&(n.value=i,n.entries=s,t())},l=wr("layout-shift",o);l&&(t=Me(r,n,Vf,e.reportAllChanges),gs(function(){o(l.takeRecords()),t(!0)}),Yt(function(){i=0,n=Ue("CLS",0),t=Me(r,n,Vf,e.reportAllChanges),Nl(function(){return t()})}),setTimeout(t,0))}))},Zn={passive:!0,capture:!0},QC=new Date,Of=function(r,e){Ct||(Ct=e,En=r,Zf=new Date,Wf(removeEventListener),Xf())},Xf=function(){if(En>=0&&En<Zf-QC){var r={entryType:"first-input",name:Ct.type,target:Ct.target,cancelable:Ct.cancelable,startTime:Ct.timeStamp,processingStart:Ct.timeStamp+En};ys.forEach(function(e){e(r)}),ys=[]}},$C=function(r){if(r.cancelable){var e=(r.timeStamp>1e12?new Date:performance.now())-r.timeStamp;r.type=="pointerdown"?function(t,n){var i=function(){Of(t,n),o()},s=function(){o()},o=function(){removeEventListener("pointerup",i,Zn),removeEventListener("pointercancel",s,Zn)};addEventListener("pointerup",i,Zn),addEventListener("pointercancel",s,Zn)}(e,r):Of(e,r)}},Wf=function(r){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return r(e,$C,Zn)})},xf=[100,300],qC=function(r,e){e=e||{},wn(function(){var t,n=Ol(),i=Ue("FID"),s=function(a){a.startTime<n.firstHiddenTime&&(i.value=a.processingStart-a.startTime,i.entries.push(a),t(!0))},o=function(a){a.forEach(s)},l=wr("first-input",o);t=Me(r,i,xf,e.reportAllChanges),l&&gs(Vl(function(){o(l.takeRecords()),l.disconnect()})),l&&Yt(function(){var a;i=Ue("FID"),t=Me(r,i,xf,e.reportAllChanges),ys=[],En=-1,Ct=null,Wf(addEventListener),a=s,ys.push(a),Xf()})})},kf=0,Xl=1/0,vs=0,eL=function(r){r.forEach(function(e){e.interactionId&&(Xl=Math.min(Xl,e.interactionId),vs=Math.max(vs,e.interactionId),kf=vs?(vs-Xl)/7+1:0)})},Pf=function(){return Ll?kf:performance.interactionCount||0},tL=function(){"interactionCount"in performance||Ll||(Ll=wr("event",eL,{type:"event",buffered:!0,durationThreshold:0}))},Af=[200,500],Uf=0,Mf=function(){return Pf()-Uf},nt=[],Wl={},Yf=function(r){var e=nt[nt.length-1],t=Wl[r.interactionId];if(t||nt.length<10||r.duration>e.latency){if(t)t.entries.push(r),t.latency=Math.max(t.latency,r.duration);else{var n={id:r.interactionId,latency:r.duration,entries:[r]};Wl[n.id]=n,nt.push(n)}nt.sort(function(i,s){return s.latency-i.latency}),nt.splice(10).forEach(function(i){delete Wl[i.id]})}},rL=function(r,e){e=e||{},wn(function(){var t;tL();var n,i=Ue("INP"),s=function(l){l.forEach(function(u){u.interactionId&&Yf(u),u.entryType==="first-input"&&!nt.some(function(d){return d.entries.some(function(h){return u.duration===h.duration&&u.startTime===h.startTime})})&&Yf(u)});var a,c=(a=Math.min(nt.length-1,Math.floor(Mf()/50)),nt[a]);c&&c.latency!==i.value&&(i.value=c.latency,i.entries=c.entries,n())},o=wr("event",s,{durationThreshold:(t=e.durationThreshold)!==null&&t!==void 0?t:40});n=Me(r,i,Af,e.reportAllChanges),o&&("interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),gs(function(){s(o.takeRecords()),i.value<0&&Mf()>0&&(i.value=0,i.entries=[]),n(!0)}),Yt(function(){nt=[],Uf=Pf(),i=Ue("INP"),n=Me(r,i,Af,e.reportAllChanges)}))})},Ff=[2500,4e3],xl={},nL=function(r,e){e=e||{},wn(function(){var t,n=Ol(),i=Ue("LCP"),s=function(a){var c=a[a.length-1];c&&c.startTime<n.firstHiddenTime&&(i.value=Math.max(c.startTime-bs(),0),i.entries=[c],t())},o=wr("largest-contentful-paint",s);if(o){t=Me(r,i,Ff,e.reportAllChanges);var l=Vl(function(){xl[i.id]||(s(o.takeRecords()),o.disconnect(),xl[i.id]=!0,t(!0))});["keydown","click"].forEach(function(a){addEventListener(a,function(){return setTimeout(l,0)},!0)}),gs(l),Yt(function(a){i=Ue("LCP"),t=Me(r,i,Ff,e.reportAllChanges),Nl(function(){i.value=performance.now()-a.timeStamp,xl[i.id]=!0,t(!0)})})}})},Hf=[800,1800],iL=function r(e){document.prerendering?wn(function(){return r(e)}):document.readyState!=="complete"?addEventListener("load",function(){return r(e)},!0):setTimeout(e,0)},sL=function(r,e){e=e||{};var t=Ue("TTFB"),n=Me(r,t,Hf,e.reportAllChanges);iL(function(){var i=Gl();if(i){var s=i.responseStart;if(s<=0||s>performance.now())return;t.value=Math.max(s-bs(),0),t.entries=[i],n(!0),Yt(function(){t=Ue("TTFB",0),(n=Me(r,t,Hf,e.reportAllChanges))(!0)})}})};const oL=r=>(jC(r),Nf(r),qC(r),nL(r),sL(r),rL(r),()=>{});class aL{constructor(e,t){_(this,"debug");_(this,"name");this.debug=e,this.name=t}log(...e){if(this.debug){let t=`[${Date.now()}]`;this.name&&(t+=` - ${this.name}`),console.log.apply(console,[t,...e])}}}const Jf="iframe parent ready",Bf="iframe ok",_n="highlightLogs",lL=r=>{let e=ke(_n)||"";e=e+"["+new Date().getTime()+"] "+r+`
`,ct(_n,e)},cL=()=>ke(_n)||"",uL=r=>{if(!r)return;let e=ke(_n)||"";e&&(e.startsWith(r)?(e=e.slice(r.length),ct(_n,e)):lL("Unable to clear logs "+r.replace(`
`," ")+" from "+e.replace(`
`," ")))},dL=()=>{if(!("performance"in window&&"memory"in performance))return{getDeviceDetails:void 0,getCurrentDeviceDetails:void 0};const r=window.performance;return{getDeviceDetails:()=>({deviceMemory:hL(navigator.deviceMemory||0)}),getCurrentDeviceDetails:()=>{const n=kl(r.memory.jsHeapSizeLimit),i=kl(r.memory.totalJSHeapSize),s=kl(r.memory.usedJSHeapSize);return{jsHeapSizeLimit:n,totalJSHeapSize:i,usedJSHeapSize:s}}}},kl=r=>r/Math.pow(1e3,2),hL=r=>1024*r,Kf="dmFyIFVyPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxWcj1PYmplY3QuZGVmaW5lUHJvcGVydGllczt2YXIganI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7dmFyIE1lPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIFF0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWHQ9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt2YXIgdXQ9KEIsRCxDKT0+RCBpbiBCP1VyKEIsRCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Q30pOkJbRF09QyxQPShCLEQpPT57Zm9yKHZhciBDIGluIER8fChEPXt9KSlRdC5jYWxsKEQsQykmJnV0KEIsQyxEW0NdKTtpZihNZSlmb3IodmFyIEMgb2YgTWUoRCkpWHQuY2FsbChELEMpJiZ1dChCLEMsRFtDXSk7cmV0dXJuIEJ9LFVlPShCLEQpPT5WcihCLGpyKEQpKTt2YXIgdmU9KEIsRCk9Pnt2YXIgQz17fTtmb3IodmFyIEogaW4gQilRdC5jYWxsKEIsSikmJkQuaW5kZXhPZihKKTwwJiYoQ1tKXT1CW0pdKTtpZihCIT1udWxsJiZNZSlmb3IodmFyIEogb2YgTWUoQikpRC5pbmRleE9mKEopPDAmJlh0LmNhbGwoQixKKSYmKENbSl09QltKXSk7cmV0dXJuIEN9O3ZhciBsdD0oQixELEMpPT51dChCLHR5cGVvZiBEIT0ic3ltYm9sIj9EKyIiOkQsQyk7dmFyIFg9KEIsRCxDKT0+bmV3IFByb21pc2UoKEosY2UpPT57dmFyIGdlPWVlPT57dHJ5e3VlKEMubmV4dChlZSkpfWNhdGNoKEVlKXtjZShFZSl9fSxJZT1lZT0+e3RyeXt1ZShDLnRocm93KGVlKSl9Y2F0Y2goRWUpe2NlKEVlKX19LHVlPWVlPT5lZS5kb25lP0ooZWUudmFsdWUpOlByb21pc2UucmVzb2x2ZShlZS52YWx1ZSkudGhlbihnZSxJZSk7dWUoKEM9Qy5hcHBseShCLEQpKS5uZXh0KCkpfSk7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIEIoZSx0KXtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKG4pe24mJnR5cGVvZiBuIT0ic3RyaW5nIiYmIUFycmF5LmlzQXJyYXkobikmJk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoaSE9PSJkZWZhdWx0IiYmIShpIGluIGUpKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxyLmdldD9yOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuW2ldfX0pfX0pfSksT2JqZWN0LmZyZWV6ZShlKX12YXIgRD1VaW50OEFycmF5LEM9VWludDE2QXJyYXksSj1JbnQzMkFycmF5LGNlPW5ldyBEKFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDAsMCwwLDBdKSxnZT1uZXcgRChbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSxJZT1uZXcgRChbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pLHVlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPW5ldyBDKDMxKSxpPTA7aTwzMTsrK2kpbltpXT10Kz0xPDxlW2ktMV07Zm9yKHZhciByPW5ldyBKKG5bMzBdKSxpPTE7aTwzMDsrK2kpZm9yKHZhciBzPW5baV07czxuW2krMV07KytzKXJbc109cy1uW2ldPDw1fGk7cmV0dXJue2I6bixyfX0sZWU9dWUoY2UsMiksRWU9ZWUuYixWZT1lZS5yO0VlWzI4XT0yNTgsVmVbMjU4XT0yODtmb3IodmFyIFd0PXVlKGdlLDApLGZ0PVd0LnIsamU9bmV3IEMoMzI3NjgpLEY9MDtGPDMyNzY4OysrRil7dmFyIGllPShGJjQzNjkwKT4+MXwoRiYyMTg0NSk8PDE7aWU9KGllJjUyNDI4KT4+MnwoaWUmMTMxMDcpPDwyLGllPShpZSY2MTY4MCk+PjR8KGllJjM4NTUpPDw0LGplW0ZdPSgoaWUmNjUyODApPj44fChpZSYyNTUpPDw4KT4+MX1mb3IodmFyIF9lPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9ZS5sZW5ndGgscj0wLHM9bmV3IEModCk7cjxpOysrcillW3JdJiYrK3NbZVtyXS0xXTt2YXIgbz1uZXcgQyh0KTtmb3Iocj0xO3I8dDsrK3Ipb1tyXT1vW3ItMV0rc1tyLTFdPDwxO3ZhciBjO2lmKG4pe2M9bmV3IEMoMTw8dCk7dmFyIGY9MTUtdDtmb3Iocj0wO3I8aTsrK3IpaWYoZVtyXSlmb3IodmFyIGQ9cjw8NHxlW3JdLHU9dC1lW3JdLHk9b1tlW3JdLTFdKys8PHUsZz15fCgxPDx1KS0xO3k8PWc7Kyt5KWNbamVbeV0+PmZdPWR9ZWxzZSBmb3IoYz1uZXcgQyhpKSxyPTA7cjxpOysrcillW3JdJiYoY1tyXT1qZVtvW2Vbcl0tMV0rK10+PjE1LWVbcl0pO3JldHVybiBjfSxvZT1uZXcgRCgyODgpLEY9MDtGPDE0NDsrK0Ypb2VbRl09ODtmb3IodmFyIEY9MTQ0O0Y8MjU2OysrRilvZVtGXT05O2Zvcih2YXIgRj0yNTY7RjwyODA7KytGKW9lW0ZdPTc7Zm9yKHZhciBGPTI4MDtGPDI4ODsrK0Ypb2VbRl09ODtmb3IodmFyIE9lPW5ldyBEKDMyKSxGPTA7RjwzMjsrK0YpT2VbRl09NTt2YXIgWnQ9X2Uob2UsOSwwKSxLdD1fZShPZSw1LDApLGh0PWZ1bmN0aW9uKGUpe3JldHVybihlKzcpLzh8MH0sZHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybihuPT1udWxsfHxuPmUubGVuZ3RoKSYmKG49ZS5sZW5ndGgpLG5ldyBEKGUuc3ViYXJyYXkodCxuKSl9LG5lPWZ1bmN0aW9uKGUsdCxuKXtuPDw9dCY3O3ZhciBpPXQvOHwwO2VbaV18PW4sZVtpKzFdfD1uPj44fSxUZT1mdW5jdGlvbihlLHQsbil7bjw8PXQmNzt2YXIgaT10Lzh8MDtlW2ldfD1uLGVbaSsxXXw9bj4+OCxlW2krMl18PW4+PjE2fSxxZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxpPTA7aTxlLmxlbmd0aDsrK2kpZVtpXSYmbi5wdXNoKHtzOmksZjplW2ldfSk7dmFyIHI9bi5sZW5ndGgscz1uLnNsaWNlKCk7aWYoIXIpcmV0dXJue3Q6dnQsbDowfTtpZihyPT0xKXt2YXIgbz1uZXcgRChuWzBdLnMrMSk7cmV0dXJuIG9bblswXS5zXT0xLHt0Om8sbDoxfX1uLnNvcnQoZnVuY3Rpb24oJCxxKXtyZXR1cm4gJC5mLXEuZn0pLG4ucHVzaCh7czotMSxmOjI1MDAxfSk7dmFyIGM9blswXSxmPW5bMV0sZD0wLHU9MSx5PTI7Zm9yKG5bMF09e3M6LTEsZjpjLmYrZi5mLGw6YyxyOmZ9O3UhPXItMTspYz1uW25bZF0uZjxuW3ldLmY/ZCsrOnkrK10sZj1uW2QhPXUmJm5bZF0uZjxuW3ldLmY/ZCsrOnkrK10sblt1KytdPXtzOi0xLGY6Yy5mK2YuZixsOmMscjpmfTtmb3IodmFyIGc9c1swXS5zLGk9MTtpPHI7KytpKXNbaV0ucz5nJiYoZz1zW2ldLnMpO3ZhciBiPW5ldyBDKGcrMSksbT1HZShuW3UtMV0sYiwwKTtpZihtPnQpe3ZhciBpPTAsTj0wLHY9bS10LEU9MTw8djtmb3Iocy5zb3J0KGZ1bmN0aW9uKHEsTSl7cmV0dXJuIGJbTS5zXS1iW3Euc118fHEuZi1NLmZ9KTtpPHI7KytpKXt2YXIgaz1zW2ldLnM7aWYoYltrXT50KU4rPUUtKDE8PG0tYltrXSksYltrXT10O2Vsc2UgYnJlYWt9Zm9yKE4+Pj12O04+MDspe3ZhciB3PXNbaV0ucztiW3ddPHQ/Ti09MTw8dC1iW3ddKystMTorK2l9Zm9yKDtpPj0wJiZOOy0taSl7dmFyIEw9c1tpXS5zO2JbTF09PXQmJigtLWJbTF0sKytOKX1tPXR9cmV0dXJue3Q6bmV3IEQoYiksbDptfX0sR2U9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLnM9PS0xP01hdGgubWF4KEdlKGUubCx0LG4rMSksR2UoZS5yLHQsbisxKSk6dFtlLnNdPW59LHB0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0JiYhZVstLXRdOyk7Zm9yKHZhciBuPW5ldyBDKCsrdCksaT0wLHI9ZVswXSxzPTEsbz1mdW5jdGlvbihmKXtuW2krK109Zn0sYz0xO2M8PXQ7KytjKWlmKGVbY109PXImJmMhPXQpKytzO2Vsc2V7aWYoIXImJnM+Mil7Zm9yKDtzPjEzODtzLT0xMzgpbygzMjc1NCk7cz4yJiYobyhzPjEwP3MtMTE8PDV8Mjg2OTA6cy0zPDw1fDEyMzA1KSxzPTApfWVsc2UgaWYocz4zKXtmb3IobyhyKSwtLXM7cz42O3MtPTYpbyg4MzA0KTtzPjImJihvKHMtMzw8NXw4MjA4KSxzPTApfWZvcig7cy0tOylvKHIpO3M9MSxyPWVbY119cmV0dXJue2M6bi5zdWJhcnJheSgwLGkpLG46dH19LGJlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAsaT0wO2k8dC5sZW5ndGg7KytpKW4rPWVbaV0qdFtpXTtyZXR1cm4gbn0sbXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4ubGVuZ3RoLHI9aHQodCsyKTtlW3JdPWkmMjU1LGVbcisxXT1pPj44LGVbcisyXT1lW3JdXjI1NSxlW3IrM109ZVtyKzFdXjI1NTtmb3IodmFyIHM9MDtzPGk7KytzKWVbcitzKzRdPW5bc107cmV0dXJuKHIrNCtpKSo4fSx5dD1mdW5jdGlvbihlLHQsbixpLHIscyxvLGMsZixkLHUpe25lKHQsdSsrLG4pLCsrclsyNTZdO2Zvcih2YXIgeT1xZShyLDE1KSxnPXkudCxiPXkubCxtPXFlKHMsMTUpLE49bS50LHY9bS5sLEU9cHQoZyksaz1FLmMsdz1FLm4sTD1wdChOKSwkPUwuYyxxPUwubixNPW5ldyBDKDE5KSxJPTA7STxrLmxlbmd0aDsrK0kpKytNW2tbSV0mMzFdO2Zvcih2YXIgST0wO0k8JC5sZW5ndGg7KytJKSsrTVskW0ldJjMxXTtmb3IodmFyIE89cWUoTSw3KSxqPU8udCxVPU8ubCxIPTE5O0g+NCYmIWpbSWVbSC0xXV07LS1IKTt2YXIgUT1kKzU8PDMsYT1iZShyLG9lKStiZShzLE9lKStvLGg9YmUocixnKStiZShzLE4pK28rMTQrMypIK2JlKE0saikrMipNWzE2XSszKk1bMTddKzcqTVsxOF07aWYoZj49MCYmUTw9YSYmUTw9aClyZXR1cm4gbXQodCx1LGUuc3ViYXJyYXkoZixmK2QpKTt2YXIgXyxBLFIseDtpZihuZSh0LHUsMSsoaDxhKSksdSs9MixoPGEpe189X2UoZyxiLDApLEE9ZyxSPV9lKE4sdiwwKSx4PU47dmFyIHNlPV9lKGosVSwwKTtuZSh0LHUsdy0yNTcpLG5lKHQsdSs1LHEtMSksbmUodCx1KzEwLEgtNCksdSs9MTQ7Zm9yKHZhciBJPTA7STxIOysrSSluZSh0LHUrMypJLGpbSWVbSV1dKTt1Kz0zKkg7Zm9yKHZhciB6PVtrLCRdLHJlPTA7cmU8MjsrK3JlKWZvcih2YXIgbWU9eltyZV0sST0wO0k8bWUubGVuZ3RoOysrSSl7dmFyIHRlPW1lW0ldJjMxO25lKHQsdSxzZVt0ZV0pLHUrPWpbdGVdLHRlPjE1JiYobmUodCx1LG1lW0ldPj41JjEyNyksdSs9bWVbSV0+PjEyKX19ZWxzZSBfPVp0LEE9b2UsUj1LdCx4PU9lO2Zvcih2YXIgST0wO0k8YzsrK0kpe3ZhciBZPWlbSV07aWYoWT4yNTUpe3ZhciB0ZT1ZPj4xOCYzMTtUZSh0LHUsX1t0ZSsyNTddKSx1Kz1BW3RlKzI1N10sdGU+NyYmKG5lKHQsdSxZPj4yMyYzMSksdSs9Y2VbdGVdKTt2YXIgeWU9WSYzMTtUZSh0LHUsUlt5ZV0pLHUrPXhbeWVdLHllPjMmJihUZSh0LHUsWT4+NSY4MTkxKSx1Kz1nZVt5ZV0pfWVsc2UgVGUodCx1LF9bWV0pLHUrPUFbWV19cmV0dXJuIFRlKHQsdSxfWzI1Nl0pLHUrQVsyNTZdfSxlbj1uZXcgSihbNjU1NDAsMTMxMDgwLDEzMTA4OCwxMzExMDQsMjYyMTc2LDEwNDg3MDQsMTA0ODgzMiwyMTE0NTYwLDIxMTc2MzJdKSx2dD1uZXcgRCgwKSx0bj1mdW5jdGlvbihlLHQsbixpLHIscyl7dmFyIG89cy56fHxlLmxlbmd0aCxjPW5ldyBEKGkrbys1KigxK01hdGguY2VpbChvLzdlMykpK3IpLGY9Yy5zdWJhcnJheShpLGMubGVuZ3RoLXIpLGQ9cy5sLHU9KHMucnx8MCkmNztpZih0KXt1JiYoZlswXT1zLnI+PjMpO2Zvcih2YXIgeT1lblt0LTFdLGc9eT4+MTMsYj15JjgxOTEsbT0oMTw8biktMSxOPXMucHx8bmV3IEMoMzI3NjgpLHY9cy5ofHxuZXcgQyhtKzEpLEU9TWF0aC5jZWlsKG4vMyksaz0yKkUsdz1mdW5jdGlvbihjdCl7cmV0dXJuKGVbY3RdXmVbY3QrMV08PEVeZVtjdCsyXTw8aykmbX0sTD1uZXcgSigyNWUzKSwkPW5ldyBDKDI4OCkscT1uZXcgQygzMiksTT0wLEk9MCxPPXMuaXx8MCxqPTAsVT1zLnd8fDAsSD0wO08rMjxvOysrTyl7dmFyIFE9dyhPKSxhPU8mMzI3NjcsaD12W1FdO2lmKE5bYV09aCx2W1FdPWEsVTw9Tyl7dmFyIF89by1PO2lmKChNPjdlM3x8aj4yNDU3NikmJihfPjQyM3x8IWQpKXt1PXl0KGUsZiwwLEwsJCxxLEksaixILE8tSCx1KSxqPU09ST0wLEg9Tztmb3IodmFyIEE9MDtBPDI4NjsrK0EpJFtBXT0wO2Zvcih2YXIgQT0wO0E8MzA7KytBKXFbQV09MH12YXIgUj0yLHg9MCxzZT1iLHo9YS1oJjMyNzY3O2lmKF8+MiYmUT09dyhPLXopKWZvcih2YXIgcmU9TWF0aC5taW4oZyxfKS0xLG1lPU1hdGgubWluKDMyNzY3LE8pLHRlPU1hdGgubWluKDI1OCxfKTt6PD1tZSYmLS1zZSYmYSE9aDspe2lmKGVbTytSXT09ZVtPK1Itel0pe2Zvcih2YXIgWT0wO1k8dGUmJmVbTytZXT09ZVtPK1ktel07KytZKTtpZihZPlIpe2lmKFI9WSx4PXosWT5yZSlicmVhaztmb3IodmFyIHllPU1hdGgubWluKHosWS0yKSxIdD0wLEE9MDtBPHllOysrQSl7dmFyIG90PU8teitBJjMyNzY3LE1yPU5bb3RdLHp0PW90LU1yJjMyNzY3O3p0Pkh0JiYoSHQ9enQsaD1vdCl9fX1hPWgsaD1OW2FdLHorPWEtaCYzMjc2N31pZih4KXtMW2orK109MjY4NDM1NDU2fFZlW1JdPDwxOHxmdFt4XTt2YXIgWXQ9VmVbUl0mMzEsSnQ9ZnRbeF0mMzE7SSs9Y2VbWXRdK2dlW0p0XSwrKyRbMjU3K1l0XSwrK3FbSnRdLFU9TytSLCsrTX1lbHNlIExbaisrXT1lW09dLCsrJFtlW09dXX19Zm9yKE89TWF0aC5tYXgoTyxVKTtPPG87KytPKUxbaisrXT1lW09dLCsrJFtlW09dXTt1PXl0KGUsZixkLEwsJCxxLEksaixILE8tSCx1KSxkfHwocy5yPXUmN3xmW3UvOHwwXTw8Myx1LT03LHMuaD12LHMucD1OLHMuaT1PLHMudz1VKX1lbHNle2Zvcih2YXIgTz1zLnd8fDA7TzxvK2Q7Tys9NjU1MzUpe3ZhciBhdD1PKzY1NTM1O2F0Pj1vJiYoZlt1Lzh8MF09ZCxhdD1vKSx1PW10KGYsdSsxLGUuc3ViYXJyYXkoTyxhdCkpfXMuaT1vfXJldHVybiBkdChjLDAsaStodCh1KStyKX0sbm49ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IEludDMyQXJyYXkoMjU2KSx0PTA7dDwyNTY7Kyt0KXtmb3IodmFyIG49dCxpPTk7LS1pOyluPShuJjEmJi0zMDY2NzQ5MTIpXm4+Pj4xO2VbdF09bn1yZXR1cm4gZX0oKSxybj1mdW5jdGlvbigpe3ZhciBlPS0xO3JldHVybntwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1lLGk9MDtpPHQubGVuZ3RoOysraSluPW5uW24mMjU1XnRbaV1dXm4+Pj44O2U9bn0sZDpmdW5jdGlvbigpe3JldHVybn5lfX19LHNuPWZ1bmN0aW9uKGUsdCxuLGkscil7aWYoIXImJihyPXtsOjF9LHQuZGljdGlvbmFyeSkpe3ZhciBzPXQuZGljdGlvbmFyeS5zdWJhcnJheSgtMzI3NjgpLG89bmV3IEQocy5sZW5ndGgrZS5sZW5ndGgpO28uc2V0KHMpLG8uc2V0KGUscy5sZW5ndGgpLGU9byxyLnc9cy5sZW5ndGh9cmV0dXJuIHRuKGUsdC5sZXZlbD09bnVsbD82OnQubGV2ZWwsdC5tZW09PW51bGw/ci5sP01hdGguY2VpbChNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKGUubGVuZ3RoKSkpKjEuNSk6MjA6MTIrdC5tZW0sbixpLHIpfSxIZT1mdW5jdGlvbihlLHQsbil7Zm9yKDtuOysrdCllW3RdPW4sbj4+Pj04fSxvbj1mdW5jdGlvbihlLHQpe3ZhciBuPXQuZmlsZW5hbWU7aWYoZVswXT0zMSxlWzFdPTEzOSxlWzJdPTgsZVs4XT10LmxldmVsPDI/NDp0LmxldmVsPT05PzI6MCxlWzldPTMsdC5tdGltZSE9MCYmSGUoZSw0LE1hdGguZmxvb3IobmV3IERhdGUodC5tdGltZXx8RGF0ZS5ub3coKSkvMWUzKSksbil7ZVszXT04O2Zvcih2YXIgaT0wO2k8PW4ubGVuZ3RoOysraSllW2krMTBdPW4uY2hhckNvZGVBdChpKX19LGFuPWZ1bmN0aW9uKGUpe3JldHVybiAxMCsoZS5maWxlbmFtZT9lLmZpbGVuYW1lLmxlbmd0aCsxOjApfTtmdW5jdGlvbiBjbihlLHQpe3R8fCh0PXt9KTt2YXIgbj1ybigpLGk9ZS5sZW5ndGg7bi5wKGUpO3ZhciByPXNuKGUsdCxhbih0KSw4KSxzPXIubGVuZ3RoO3JldHVybiBvbihyLHQpLEhlKHIscy04LG4uZCgpKSxIZShyLHMtNCxpKSxyfXZhciBndD10eXBlb2YgVGV4dEVuY29kZXIhPSJ1bmRlZmluZWQiJiZuZXcgVGV4dEVuY29kZXIsdW49dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIiYmbmV3IFRleHREZWNvZGVyLGxuPTA7dHJ5e3VuLmRlY29kZSh2dCx7c3RyZWFtOiEwfSksbG49MX1jYXRjaChlKXt9ZnVuY3Rpb24gZm4oZSx0KXt2YXIgbjtpZihndClyZXR1cm4gZ3QuZW5jb2RlKGUpO2Zvcih2YXIgaT1lLmxlbmd0aCxyPW5ldyBEKGUubGVuZ3RoKyhlLmxlbmd0aD4+MSkpLHM9MCxvPWZ1bmN0aW9uKGQpe3JbcysrXT1kfSxuPTA7bjxpOysrbil7aWYocys1PnIubGVuZ3RoKXt2YXIgYz1uZXcgRChzKzgrKGktbjw8MSkpO2Muc2V0KHIpLHI9Y312YXIgZj1lLmNoYXJDb2RlQXQobik7ZjwxMjh8fHQ/byhmKTpmPDIwNDg/KG8oMTkyfGY+PjYpLG8oMTI4fGYmNjMpKTpmPjU1Mjk1JiZmPDU3MzQ0PyhmPTY1NTM2KyhmJjEwNDc1NTIpfGUuY2hhckNvZGVBdCgrK24pJjEwMjMsbygyNDB8Zj4+MTgpLG8oMTI4fGY+PjEyJjYzKSxvKDEyOHxmPj42JjYzKSxvKDEyOHxmJjYzKSk6KG8oMjI0fGY+PjEyKSxvKDEyOHxmPj42JjYzKSxvKDEyOHxmJjYzKSl9cmV0dXJuIGR0KHIsMCxzKX1jb25zdCB6ZT1KU09OLGhuPWU9PmUudG9VcHBlckNhc2UoKSxkbj1lPT57Y29uc3QgdD17fTtyZXR1cm4gZS5mb3JFYWNoKChuLGkpPT57dFtpXT1ufSksdH0scG49KGUsdCxuKT0+ZS5kb2N1bWVudD9lOntkb2N1bWVudDplLHZhcmlhYmxlczp0LHJlcXVlc3RIZWFkZXJzOm4sc2lnbmFsOnZvaWQgMH0sbW49KGUsdCxuKT0+ZS5xdWVyeT9lOntxdWVyeTplLHZhcmlhYmxlczp0LHJlcXVlc3RIZWFkZXJzOm4sc2lnbmFsOnZvaWQgMH0seW49KGUsdCk9PmUuZG9jdW1lbnRzP2U6e2RvY3VtZW50czplLHJlcXVlc3RIZWFkZXJzOnQsc2lnbmFsOnZvaWQgMH07ZnVuY3Rpb24gU2UoZSx0KXtpZighISFlKXRocm93IG5ldyBFcnJvcih0KX1mdW5jdGlvbiB2bihlKXtyZXR1cm4gdHlwZW9mIGU9PSJvYmplY3QiJiZlIT09bnVsbH1mdW5jdGlvbiBnbihlLHQpe2lmKCEhIWUpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIGludmFyaWFudCB0cmlnZ2VyZWQuIil9Y29uc3QgRW49L1xyXG58W1xuXHJdL2c7ZnVuY3Rpb24gWWUoZSx0KXtsZXQgbj0wLGk9MTtmb3IoY29uc3QgciBvZiBlLmJvZHkubWF0Y2hBbGwoRW4pKXtpZih0eXBlb2Ygci5pbmRleD09Im51bWJlciJ8fGduKCExKSxyLmluZGV4Pj10KWJyZWFrO249ci5pbmRleCtyWzBdLmxlbmd0aCxpKz0xfXJldHVybntsaW5lOmksY29sdW1uOnQrMS1ufX1mdW5jdGlvbiBfbihlKXtyZXR1cm4gRXQoZS5zb3VyY2UsWWUoZS5zb3VyY2UsZS5zdGFydCkpfWZ1bmN0aW9uIEV0KGUsdCl7Y29uc3Qgbj1lLmxvY2F0aW9uT2Zmc2V0LmNvbHVtbi0xLGk9IiIucGFkU3RhcnQobikrZS5ib2R5LHI9dC5saW5lLTEscz1lLmxvY2F0aW9uT2Zmc2V0LmxpbmUtMSxvPXQubGluZStzLGM9dC5saW5lPT09MT9uOjAsZj10LmNvbHVtbitjLGQ9YCR7ZS5uYW1lfToke299OiR7Zn0KYCx1PWkuc3BsaXQoL1xyXG58W1xuXHJdL2cpLHk9dVtyXTtpZih5Lmxlbmd0aD4xMjApe2NvbnN0IGc9TWF0aC5mbG9vcihmLzgwKSxiPWYlODAsbT1bXTtmb3IobGV0IE49MDtOPHkubGVuZ3RoO04rPTgwKW0ucHVzaCh5LnNsaWNlKE4sTis4MCkpO3JldHVybiBkK190KFtbYCR7b30gfGAsbVswXV0sLi4ubS5zbGljZSgxLGcrMSkubWFwKE49PlsifCIsTl0pLFsifCIsIl4iLnBhZFN0YXJ0KGIpXSxbInwiLG1bZysxXV1dKX1yZXR1cm4gZCtfdChbW2Ake28tMX0gfGAsdVtyLTFdXSxbYCR7b30gfGAseV0sWyJ8IiwiXiIucGFkU3RhcnQoZildLFtgJHtvKzF9IHxgLHVbcisxXV1dKX1mdW5jdGlvbiBfdChlKXtjb25zdCB0PWUuZmlsdGVyKChbaSxyXSk9PnIhPT12b2lkIDApLG49TWF0aC5tYXgoLi4udC5tYXAoKFtpXSk9PmkubGVuZ3RoKSk7cmV0dXJuIHQubWFwKChbaSxyXSk9PmkucGFkU3RhcnQobikrKHI/IiAiK3I6IiIpKS5qb2luKGAKYCl9ZnVuY3Rpb24gVG4oZSl7Y29uc3QgdD1lWzBdO3JldHVybiB0PT1udWxsfHwia2luZCJpbiB0fHwibGVuZ3RoImluIHQ/e25vZGVzOnQsc291cmNlOmVbMV0scG9zaXRpb25zOmVbMl0scGF0aDplWzNdLG9yaWdpbmFsRXJyb3I6ZVs0XSxleHRlbnNpb25zOmVbNV19OnR9Y2xhc3MgSmUgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LC4uLm4pe3ZhciBpLHIscztjb25zdHtub2RlczpvLHNvdXJjZTpjLHBvc2l0aW9uczpmLHBhdGg6ZCxvcmlnaW5hbEVycm9yOnUsZXh0ZW5zaW9uczp5fT1UbihuKTtzdXBlcih0KSx0aGlzLm5hbWU9IkdyYXBoUUxFcnJvciIsdGhpcy5wYXRoPWQhPW51bGw/ZDp2b2lkIDAsdGhpcy5vcmlnaW5hbEVycm9yPXUhPW51bGw/dTp2b2lkIDAsdGhpcy5ub2Rlcz1UdChBcnJheS5pc0FycmF5KG8pP286bz9bb106dm9pZCAwKTtjb25zdCBnPVR0KChpPXRoaXMubm9kZXMpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5tYXAobT0+bS5sb2MpLmZpbHRlcihtPT5tIT1udWxsKSk7dGhpcy5zb3VyY2U9YyE9bnVsbD9jOmc9PW51bGx8fChyPWdbMF0pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zb3VyY2UsdGhpcy5wb3NpdGlvbnM9ZiE9bnVsbD9mOmc9PW51bGw/dm9pZCAwOmcubWFwKG09Pm0uc3RhcnQpLHRoaXMubG9jYXRpb25zPWYmJmM/Zi5tYXAobT0+WWUoYyxtKSk6Zz09bnVsbD92b2lkIDA6Zy5tYXAobT0+WWUobS5zb3VyY2UsbS5zdGFydCkpO2NvbnN0IGI9dm4odT09bnVsbD92b2lkIDA6dS5leHRlbnNpb25zKT91PT1udWxsP3ZvaWQgMDp1LmV4dGVuc2lvbnM6dm9pZCAwO3RoaXMuZXh0ZW5zaW9ucz0ocz15IT1udWxsP3k6YikhPT1udWxsJiZzIT09dm9pZCAwP3M6T2JqZWN0LmNyZWF0ZShudWxsKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHttZXNzYWdlOnt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiEwfSxuYW1lOntlbnVtZXJhYmxlOiExfSxub2Rlczp7ZW51bWVyYWJsZTohMX0sc291cmNlOntlbnVtZXJhYmxlOiExfSxwb3NpdGlvbnM6e2VudW1lcmFibGU6ITF9LG9yaWdpbmFsRXJyb3I6e2VudW1lcmFibGU6ITF9fSksdSE9bnVsbCYmdS5zdGFjaz9PYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywic3RhY2siLHt2YWx1ZTp1LnN0YWNrLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pOkVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsSmUpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzdGFjayIse3ZhbHVlOkVycm9yKCkuc3RhY2ssd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iR3JhcGhRTEVycm9yIn10b1N0cmluZygpe2xldCB0PXRoaXMubWVzc2FnZTtpZih0aGlzLm5vZGVzKWZvcihjb25zdCBuIG9mIHRoaXMubm9kZXMpbi5sb2MmJih0Kz1gCgpgK19uKG4ubG9jKSk7ZWxzZSBpZih0aGlzLnNvdXJjZSYmdGhpcy5sb2NhdGlvbnMpZm9yKGNvbnN0IG4gb2YgdGhpcy5sb2NhdGlvbnMpdCs9YAoKYCtFdCh0aGlzLnNvdXJjZSxuKTtyZXR1cm4gdH10b0pTT04oKXtjb25zdCB0PXttZXNzYWdlOnRoaXMubWVzc2FnZX07cmV0dXJuIHRoaXMubG9jYXRpb25zIT1udWxsJiYodC5sb2NhdGlvbnM9dGhpcy5sb2NhdGlvbnMpLHRoaXMucGF0aCE9bnVsbCYmKHQucGF0aD10aGlzLnBhdGgpLHRoaXMuZXh0ZW5zaW9ucyE9bnVsbCYmT2JqZWN0LmtleXModGhpcy5leHRlbnNpb25zKS5sZW5ndGg+MCYmKHQuZXh0ZW5zaW9ucz10aGlzLmV4dGVuc2lvbnMpLHR9fWZ1bmN0aW9uIFR0KGUpe3JldHVybiBlPT09dm9pZCAwfHxlLmxlbmd0aD09PTA/dm9pZCAwOmV9ZnVuY3Rpb24gRyhlLHQsbil7cmV0dXJuIG5ldyBKZShgU3ludGF4IEVycm9yOiAke259YCx7c291cmNlOmUscG9zaXRpb25zOlt0XX0pfWNsYXNzIGJue2NvbnN0cnVjdG9yKHQsbixpKXt0aGlzLnN0YXJ0PXQuc3RhcnQsdGhpcy5lbmQ9bi5lbmQsdGhpcy5zdGFydFRva2VuPXQsdGhpcy5lbmRUb2tlbj1uLHRoaXMuc291cmNlPWl9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iTG9jYXRpb24ifXRvSlNPTigpe3JldHVybntzdGFydDp0aGlzLnN0YXJ0LGVuZDp0aGlzLmVuZH19fWNsYXNzIGJ0e2NvbnN0cnVjdG9yKHQsbixpLHIscyxvKXt0aGlzLmtpbmQ9dCx0aGlzLnN0YXJ0PW4sdGhpcy5lbmQ9aSx0aGlzLmxpbmU9cix0aGlzLmNvbHVtbj1zLHRoaXMudmFsdWU9byx0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbH1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJUb2tlbiJ9dG9KU09OKCl7cmV0dXJue2tpbmQ6dGhpcy5raW5kLHZhbHVlOnRoaXMudmFsdWUsbGluZTp0aGlzLmxpbmUsY29sdW1uOnRoaXMuY29sdW1ufX19Y29uc3QgTnQ9e05hbWU6W10sRG9jdW1lbnQ6WyJkZWZpbml0aW9ucyJdLE9wZXJhdGlvbkRlZmluaXRpb246WyJuYW1lIiwidmFyaWFibGVEZWZpbml0aW9ucyIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxWYXJpYWJsZURlZmluaXRpb246WyJ2YXJpYWJsZSIsInR5cGUiLCJkZWZhdWx0VmFsdWUiLCJkaXJlY3RpdmVzIl0sVmFyaWFibGU6WyJuYW1lIl0sU2VsZWN0aW9uU2V0Olsic2VsZWN0aW9ucyJdLEZpZWxkOlsiYWxpYXMiLCJuYW1lIiwiYXJndW1lbnRzIiwiZGlyZWN0aXZlcyIsInNlbGVjdGlvblNldCJdLEFyZ3VtZW50OlsibmFtZSIsInZhbHVlIl0sRnJhZ21lbnRTcHJlYWQ6WyJuYW1lIiwiZGlyZWN0aXZlcyJdLElubGluZUZyYWdtZW50OlsidHlwZUNvbmRpdGlvbiIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxGcmFnbWVudERlZmluaXRpb246WyJuYW1lIiwidmFyaWFibGVEZWZpbml0aW9ucyIsInR5cGVDb25kaXRpb24iLCJkaXJlY3RpdmVzIiwic2VsZWN0aW9uU2V0Il0sSW50VmFsdWU6W10sRmxvYXRWYWx1ZTpbXSxTdHJpbmdWYWx1ZTpbXSxCb29sZWFuVmFsdWU6W10sTnVsbFZhbHVlOltdLEVudW1WYWx1ZTpbXSxMaXN0VmFsdWU6WyJ2YWx1ZXMiXSxPYmplY3RWYWx1ZTpbImZpZWxkcyJdLE9iamVjdEZpZWxkOlsibmFtZSIsInZhbHVlIl0sRGlyZWN0aXZlOlsibmFtZSIsImFyZ3VtZW50cyJdLE5hbWVkVHlwZTpbIm5hbWUiXSxMaXN0VHlwZTpbInR5cGUiXSxOb25OdWxsVHlwZTpbInR5cGUiXSxTY2hlbWFEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJkaXJlY3RpdmVzIiwib3BlcmF0aW9uVHlwZXMiXSxPcGVyYXRpb25UeXBlRGVmaW5pdGlvbjpbInR5cGUiXSxTY2FsYXJUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiXSxPYmplY3RUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sRmllbGREZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiYXJndW1lbnRzIiwidHlwZSIsImRpcmVjdGl2ZXMiXSxJbnB1dFZhbHVlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsInR5cGUiLCJkZWZhdWx0VmFsdWUiLCJkaXJlY3RpdmVzIl0sSW50ZXJmYWNlVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJpbnRlcmZhY2VzIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLFVuaW9uVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwidHlwZXMiXSxFbnVtVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwidmFsdWVzIl0sRW51bVZhbHVlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiXSxJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLERpcmVjdGl2ZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJhcmd1bWVudHMiLCJsb2NhdGlvbnMiXSxTY2hlbWFFeHRlbnNpb246WyJkaXJlY3RpdmVzIiwib3BlcmF0aW9uVHlwZXMiXSxTY2FsYXJUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiXSxPYmplY3RUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sSW50ZXJmYWNlVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJpbnRlcmZhY2VzIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLFVuaW9uVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJkaXJlY3RpdmVzIiwidHlwZXMiXSxFbnVtVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJkaXJlY3RpdmVzIiwidmFsdWVzIl0sSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiLCJmaWVsZHMiXX0sTm49bmV3IFNldChPYmplY3Qua2V5cyhOdCkpO2Z1bmN0aW9uIHh0KGUpe2NvbnN0IHQ9ZT09bnVsbD92b2lkIDA6ZS5raW5kO3JldHVybiB0eXBlb2YgdD09InN0cmluZyImJk5uLmhhcyh0KX12YXIgbGU7KGZ1bmN0aW9uKGUpe2UuUVVFUlk9InF1ZXJ5IixlLk1VVEFUSU9OPSJtdXRhdGlvbiIsZS5TVUJTQ1JJUFRJT049InN1YnNjcmlwdGlvbiJ9KShsZXx8KGxlPXt9KSk7dmFyIFFlOyhmdW5jdGlvbihlKXtlLlFVRVJZPSJRVUVSWSIsZS5NVVRBVElPTj0iTVVUQVRJT04iLGUuU1VCU0NSSVBUSU9OPSJTVUJTQ1JJUFRJT04iLGUuRklFTEQ9IkZJRUxEIixlLkZSQUdNRU5UX0RFRklOSVRJT049IkZSQUdNRU5UX0RFRklOSVRJT04iLGUuRlJBR01FTlRfU1BSRUFEPSJGUkFHTUVOVF9TUFJFQUQiLGUuSU5MSU5FX0ZSQUdNRU5UPSJJTkxJTkVfRlJBR01FTlQiLGUuVkFSSUFCTEVfREVGSU5JVElPTj0iVkFSSUFCTEVfREVGSU5JVElPTiIsZS5TQ0hFTUE9IlNDSEVNQSIsZS5TQ0FMQVI9IlNDQUxBUiIsZS5PQkpFQ1Q9Ik9CSkVDVCIsZS5GSUVMRF9ERUZJTklUSU9OPSJGSUVMRF9ERUZJTklUSU9OIixlLkFSR1VNRU5UX0RFRklOSVRJT049IkFSR1VNRU5UX0RFRklOSVRJT04iLGUuSU5URVJGQUNFPSJJTlRFUkZBQ0UiLGUuVU5JT049IlVOSU9OIixlLkVOVU09IkVOVU0iLGUuRU5VTV9WQUxVRT0iRU5VTV9WQUxVRSIsZS5JTlBVVF9PQkpFQ1Q9IklOUFVUX09CSkVDVCIsZS5JTlBVVF9GSUVMRF9ERUZJTklUSU9OPSJJTlBVVF9GSUVMRF9ERUZJTklUSU9OIn0pKFFlfHwoUWU9e30pKTt2YXIgVDsoZnVuY3Rpb24oZSl7ZS5OQU1FPSJOYW1lIixlLkRPQ1VNRU5UPSJEb2N1bWVudCIsZS5PUEVSQVRJT05fREVGSU5JVElPTj0iT3BlcmF0aW9uRGVmaW5pdGlvbiIsZS5WQVJJQUJMRV9ERUZJTklUSU9OPSJWYXJpYWJsZURlZmluaXRpb24iLGUuU0VMRUNUSU9OX1NFVD0iU2VsZWN0aW9uU2V0IixlLkZJRUxEPSJGaWVsZCIsZS5BUkdVTUVOVD0iQXJndW1lbnQiLGUuRlJBR01FTlRfU1BSRUFEPSJGcmFnbWVudFNwcmVhZCIsZS5JTkxJTkVfRlJBR01FTlQ9IklubGluZUZyYWdtZW50IixlLkZSQUdNRU5UX0RFRklOSVRJT049IkZyYWdtZW50RGVmaW5pdGlvbiIsZS5WQVJJQUJMRT0iVmFyaWFibGUiLGUuSU5UPSJJbnRWYWx1ZSIsZS5GTE9BVD0iRmxvYXRWYWx1ZSIsZS5TVFJJTkc9IlN0cmluZ1ZhbHVlIixlLkJPT0xFQU49IkJvb2xlYW5WYWx1ZSIsZS5OVUxMPSJOdWxsVmFsdWUiLGUuRU5VTT0iRW51bVZhbHVlIixlLkxJU1Q9Ikxpc3RWYWx1ZSIsZS5PQkpFQ1Q9Ik9iamVjdFZhbHVlIixlLk9CSkVDVF9GSUVMRD0iT2JqZWN0RmllbGQiLGUuRElSRUNUSVZFPSJEaXJlY3RpdmUiLGUuTkFNRURfVFlQRT0iTmFtZWRUeXBlIixlLkxJU1RfVFlQRT0iTGlzdFR5cGUiLGUuTk9OX05VTExfVFlQRT0iTm9uTnVsbFR5cGUiLGUuU0NIRU1BX0RFRklOSVRJT049IlNjaGVtYURlZmluaXRpb24iLGUuT1BFUkFUSU9OX1RZUEVfREVGSU5JVElPTj0iT3BlcmF0aW9uVHlwZURlZmluaXRpb24iLGUuU0NBTEFSX1RZUEVfREVGSU5JVElPTj0iU2NhbGFyVHlwZURlZmluaXRpb24iLGUuT0JKRUNUX1RZUEVfREVGSU5JVElPTj0iT2JqZWN0VHlwZURlZmluaXRpb24iLGUuRklFTERfREVGSU5JVElPTj0iRmllbGREZWZpbml0aW9uIixlLklOUFVUX1ZBTFVFX0RFRklOSVRJT049IklucHV0VmFsdWVEZWZpbml0aW9uIixlLklOVEVSRkFDRV9UWVBFX0RFRklOSVRJT049IkludGVyZmFjZVR5cGVEZWZpbml0aW9uIixlLlVOSU9OX1RZUEVfREVGSU5JVElPTj0iVW5pb25UeXBlRGVmaW5pdGlvbiIsZS5FTlVNX1RZUEVfREVGSU5JVElPTj0iRW51bVR5cGVEZWZpbml0aW9uIixlLkVOVU1fVkFMVUVfREVGSU5JVElPTj0iRW51bVZhbHVlRGVmaW5pdGlvbiIsZS5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OPSJJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uIixlLkRJUkVDVElWRV9ERUZJTklUSU9OPSJEaXJlY3RpdmVEZWZpbml0aW9uIixlLlNDSEVNQV9FWFRFTlNJT049IlNjaGVtYUV4dGVuc2lvbiIsZS5TQ0FMQVJfVFlQRV9FWFRFTlNJT049IlNjYWxhclR5cGVFeHRlbnNpb24iLGUuT0JKRUNUX1RZUEVfRVhURU5TSU9OPSJPYmplY3RUeXBlRXh0ZW5zaW9uIixlLklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTj0iSW50ZXJmYWNlVHlwZUV4dGVuc2lvbiIsZS5VTklPTl9UWVBFX0VYVEVOU0lPTj0iVW5pb25UeXBlRXh0ZW5zaW9uIixlLkVOVU1fVFlQRV9FWFRFTlNJT049IkVudW1UeXBlRXh0ZW5zaW9uIixlLklOUFVUX09CSkVDVF9UWVBFX0VYVEVOU0lPTj0iSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uIn0pKFR8fChUPXt9KSk7ZnVuY3Rpb24gWGUoZSl7cmV0dXJuIGU9PT05fHxlPT09MzJ9ZnVuY3Rpb24gTmUoZSl7cmV0dXJuIGU+PTQ4JiZlPD01N31mdW5jdGlvbiBBdChlKXtyZXR1cm4gZT49OTcmJmU8PTEyMnx8ZT49NjUmJmU8PTkwfWZ1bmN0aW9uIEl0KGUpe3JldHVybiBBdChlKXx8ZT09PTk1fWZ1bmN0aW9uIHhuKGUpe3JldHVybiBBdChlKXx8TmUoZSl8fGU9PT05NX1mdW5jdGlvbiBBbihlKXt2YXIgdDtsZXQgbj1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUixpPW51bGwscj0tMTtmb3IobGV0IG89MDtvPGUubGVuZ3RoOysrbyl7dmFyIHM7Y29uc3QgYz1lW29dLGY9SW4oYyk7ZiE9PWMubGVuZ3RoJiYoaT0ocz1pKSE9PW51bGwmJnMhPT12b2lkIDA/czpvLHI9byxvIT09MCYmZjxuJiYobj1mKSl9cmV0dXJuIGUubWFwKChvLGMpPT5jPT09MD9vOm8uc2xpY2UobikpLnNsaWNlKCh0PWkpIT09bnVsbCYmdCE9PXZvaWQgMD90OjAscisxKX1mdW5jdGlvbiBJbihlKXtsZXQgdD0wO2Zvcig7dDxlLmxlbmd0aCYmWGUoZS5jaGFyQ29kZUF0KHQpKTspKyt0O3JldHVybiB0fWZ1bmN0aW9uIE9uKGUsdCl7Y29uc3Qgbj1lLnJlcGxhY2UoLyIiIi9nLCdcXCIiIicpLGk9bi5zcGxpdCgvXHJcbnxbXG5ccl0vZykscj1pLmxlbmd0aD09PTEscz1pLmxlbmd0aD4xJiZpLnNsaWNlKDEpLmV2ZXJ5KGI9PmIubGVuZ3RoPT09MHx8WGUoYi5jaGFyQ29kZUF0KDApKSksbz1uLmVuZHNXaXRoKCdcXCIiIicpLGM9ZS5lbmRzV2l0aCgnIicpJiYhbyxmPWUuZW5kc1dpdGgoIlxcIiksZD1jfHxmLHU9IXJ8fGUubGVuZ3RoPjcwfHxkfHxzfHxvO2xldCB5PSIiO2NvbnN0IGc9ciYmWGUoZS5jaGFyQ29kZUF0KDApKTtyZXR1cm4odSYmIWd8fHMpJiYoeSs9YApgKSx5Kz1uLCh1fHxkKSYmKHkrPWAKYCksJyIiIicreSsnIiIiJ312YXIgbDsoZnVuY3Rpb24oZSl7ZS5TT0Y9IjxTT0Y+IixlLkVPRj0iPEVPRj4iLGUuQkFORz0iISIsZS5ET0xMQVI9IiQiLGUuQU1QPSImIixlLlBBUkVOX0w9IigiLGUuUEFSRU5fUj0iKSIsZS5TUFJFQUQ9Ii4uLiIsZS5DT0xPTj0iOiIsZS5FUVVBTFM9Ij0iLGUuQVQ9IkAiLGUuQlJBQ0tFVF9MPSJbIixlLkJSQUNLRVRfUj0iXSIsZS5CUkFDRV9MPSJ7IixlLlBJUEU9InwiLGUuQlJBQ0VfUj0ifSIsZS5OQU1FPSJOYW1lIixlLklOVD0iSW50IixlLkZMT0FUPSJGbG9hdCIsZS5TVFJJTkc9IlN0cmluZyIsZS5CTE9DS19TVFJJTkc9IkJsb2NrU3RyaW5nIixlLkNPTU1FTlQ9IkNvbW1lbnQifSkobHx8KGw9e30pKTtjbGFzcyBTbntjb25zdHJ1Y3Rvcih0KXtjb25zdCBuPW5ldyBidChsLlNPRiwwLDAsMCwwKTt0aGlzLnNvdXJjZT10LHRoaXMubGFzdFRva2VuPW4sdGhpcy50b2tlbj1uLHRoaXMubGluZT0xLHRoaXMubGluZVN0YXJ0PTB9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iTGV4ZXIifWFkdmFuY2UoKXtyZXR1cm4gdGhpcy5sYXN0VG9rZW49dGhpcy50b2tlbix0aGlzLnRva2VuPXRoaXMubG9va2FoZWFkKCl9bG9va2FoZWFkKCl7bGV0IHQ9dGhpcy50b2tlbjtpZih0LmtpbmQhPT1sLkVPRilkbyBpZih0Lm5leHQpdD10Lm5leHQ7ZWxzZXtjb25zdCBuPURuKHRoaXMsdC5lbmQpO3QubmV4dD1uLG4ucHJldj10LHQ9bn13aGlsZSh0LmtpbmQ9PT1sLkNPTU1FTlQpO3JldHVybiB0fX1mdW5jdGlvbiB3bihlKXtyZXR1cm4gZT09PWwuQkFOR3x8ZT09PWwuRE9MTEFSfHxlPT09bC5BTVB8fGU9PT1sLlBBUkVOX0x8fGU9PT1sLlBBUkVOX1J8fGU9PT1sLlNQUkVBRHx8ZT09PWwuQ09MT058fGU9PT1sLkVRVUFMU3x8ZT09PWwuQVR8fGU9PT1sLkJSQUNLRVRfTHx8ZT09PWwuQlJBQ0tFVF9SfHxlPT09bC5CUkFDRV9MfHxlPT09bC5QSVBFfHxlPT09bC5CUkFDRV9SfWZ1bmN0aW9uIGZlKGUpe3JldHVybiBlPj0wJiZlPD01NTI5NXx8ZT49NTczNDQmJmU8PTExMTQxMTF9ZnVuY3Rpb24gd2UoZSx0KXtyZXR1cm4gT3QoZS5jaGFyQ29kZUF0KHQpKSYmU3QoZS5jaGFyQ29kZUF0KHQrMSkpfWZ1bmN0aW9uIE90KGUpe3JldHVybiBlPj01NTI5NiYmZTw9NTYzMTl9ZnVuY3Rpb24gU3QoZSl7cmV0dXJuIGU+PTU2MzIwJiZlPD01NzM0M31mdW5jdGlvbiBhZShlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keS5jb2RlUG9pbnRBdCh0KTtpZihuPT09dm9pZCAwKXJldHVybiBsLkVPRjtpZihuPj0zMiYmbjw9MTI2KXtjb25zdCBpPVN0cmluZy5mcm9tQ29kZVBvaW50KG4pO3JldHVybiBpPT09JyInP2AnIidgOmAiJHtpfSJgfXJldHVybiJVKyIrbi50b1N0cmluZygxNikudG9VcHBlckNhc2UoKS5wYWRTdGFydCg0LCIwIil9ZnVuY3Rpb24gVihlLHQsbixpLHIpe2NvbnN0IHM9ZS5saW5lLG89MStuLWUubGluZVN0YXJ0O3JldHVybiBuZXcgYnQodCxuLGkscyxvLHIpfWZ1bmN0aW9uIERuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dDtmb3IoO3I8aTspe2NvbnN0IHM9bi5jaGFyQ29kZUF0KHIpO3N3aXRjaChzKXtjYXNlIDY1Mjc5OmNhc2UgOTpjYXNlIDMyOmNhc2UgNDQ6KytyO2NvbnRpbnVlO2Nhc2UgMTA6KytyLCsrZS5saW5lLGUubGluZVN0YXJ0PXI7Y29udGludWU7Y2FzZSAxMzpuLmNoYXJDb2RlQXQocisxKT09PTEwP3IrPTI6KytyLCsrZS5saW5lLGUubGluZVN0YXJ0PXI7Y29udGludWU7Y2FzZSAzNTpyZXR1cm4gQ24oZSxyKTtjYXNlIDMzOnJldHVybiBWKGUsbC5CQU5HLHIscisxKTtjYXNlIDM2OnJldHVybiBWKGUsbC5ET0xMQVIscixyKzEpO2Nhc2UgMzg6cmV0dXJuIFYoZSxsLkFNUCxyLHIrMSk7Y2FzZSA0MDpyZXR1cm4gVihlLGwuUEFSRU5fTCxyLHIrMSk7Y2FzZSA0MTpyZXR1cm4gVihlLGwuUEFSRU5fUixyLHIrMSk7Y2FzZSA0NjppZihuLmNoYXJDb2RlQXQocisxKT09PTQ2JiZuLmNoYXJDb2RlQXQocisyKT09PTQ2KXJldHVybiBWKGUsbC5TUFJFQUQscixyKzMpO2JyZWFrO2Nhc2UgNTg6cmV0dXJuIFYoZSxsLkNPTE9OLHIscisxKTtjYXNlIDYxOnJldHVybiBWKGUsbC5FUVVBTFMscixyKzEpO2Nhc2UgNjQ6cmV0dXJuIFYoZSxsLkFULHIscisxKTtjYXNlIDkxOnJldHVybiBWKGUsbC5CUkFDS0VUX0wscixyKzEpO2Nhc2UgOTM6cmV0dXJuIFYoZSxsLkJSQUNLRVRfUixyLHIrMSk7Y2FzZSAxMjM6cmV0dXJuIFYoZSxsLkJSQUNFX0wscixyKzEpO2Nhc2UgMTI0OnJldHVybiBWKGUsbC5QSVBFLHIscisxKTtjYXNlIDEyNTpyZXR1cm4gVihlLGwuQlJBQ0VfUixyLHIrMSk7Y2FzZSAzNDpyZXR1cm4gbi5jaGFyQ29kZUF0KHIrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHIrMik9PT0zND9CbihlLHIpOlJuKGUscil9aWYoTmUocyl8fHM9PT00NSlyZXR1cm4ga24oZSxyLHMpO2lmKEl0KHMpKXJldHVybiAkbihlLHIpO3Rocm93IEcoZS5zb3VyY2UscixzPT09Mzk/YFVuZXhwZWN0ZWQgc2luZ2xlIHF1b3RlIGNoYXJhY3RlciAoJyksIGRpZCB5b3UgbWVhbiB0byB1c2UgYSBkb3VibGUgcXVvdGUgKCIpP2A6ZmUocyl8fHdlKG4scik/YFVuZXhwZWN0ZWQgY2hhcmFjdGVyOiAke2FlKGUscil9LmA6YEludmFsaWQgY2hhcmFjdGVyOiAke2FlKGUscil9LmApfXJldHVybiBWKGUsbC5FT0YsaSxpKX1mdW5jdGlvbiBDbihlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keSxpPW4ubGVuZ3RoO2xldCByPXQrMTtmb3IoO3I8aTspe2NvbnN0IHM9bi5jaGFyQ29kZUF0KHIpO2lmKHM9PT0xMHx8cz09PTEzKWJyZWFrO2lmKGZlKHMpKSsrcjtlbHNlIGlmKHdlKG4scikpcis9MjtlbHNlIGJyZWFrfXJldHVybiBWKGUsbC5DT01NRU5ULHQscixuLnNsaWNlKHQrMSxyKSl9ZnVuY3Rpb24ga24oZSx0LG4pe2NvbnN0IGk9ZS5zb3VyY2UuYm9keTtsZXQgcj10LHM9bixvPSExO2lmKHM9PT00NSYmKHM9aS5jaGFyQ29kZUF0KCsrcikpLHM9PT00OCl7aWYocz1pLmNoYXJDb2RlQXQoKytyKSxOZShzKSl0aHJvdyBHKGUuc291cmNlLHIsYEludmFsaWQgbnVtYmVyLCB1bmV4cGVjdGVkIGRpZ2l0IGFmdGVyIDA6ICR7YWUoZSxyKX0uYCl9ZWxzZSByPVdlKGUscixzKSxzPWkuY2hhckNvZGVBdChyKTtpZihzPT09NDYmJihvPSEwLHM9aS5jaGFyQ29kZUF0KCsrcikscj1XZShlLHIscykscz1pLmNoYXJDb2RlQXQocikpLChzPT09Njl8fHM9PT0xMDEpJiYobz0hMCxzPWkuY2hhckNvZGVBdCgrK3IpLChzPT09NDN8fHM9PT00NSkmJihzPWkuY2hhckNvZGVBdCgrK3IpKSxyPVdlKGUscixzKSxzPWkuY2hhckNvZGVBdChyKSkscz09PTQ2fHxJdChzKSl0aHJvdyBHKGUuc291cmNlLHIsYEludmFsaWQgbnVtYmVyLCBleHBlY3RlZCBkaWdpdCBidXQgZ290OiAke2FlKGUscil9LmApO3JldHVybiBWKGUsbz9sLkZMT0FUOmwuSU5ULHQscixpLnNsaWNlKHQscikpfWZ1bmN0aW9uIFdlKGUsdCxuKXtpZighTmUobikpdGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIG51bWJlciwgZXhwZWN0ZWQgZGlnaXQgYnV0IGdvdDogJHthZShlLHQpfS5gKTtjb25zdCBpPWUuc291cmNlLmJvZHk7bGV0IHI9dCsxO2Zvcig7TmUoaS5jaGFyQ29kZUF0KHIpKTspKytyO3JldHVybiByfWZ1bmN0aW9uIFJuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dCsxLHM9cixvPSIiO2Zvcig7cjxpOyl7Y29uc3QgYz1uLmNoYXJDb2RlQXQocik7aWYoYz09PTM0KXJldHVybiBvKz1uLnNsaWNlKHMsciksVihlLGwuU1RSSU5HLHQscisxLG8pO2lmKGM9PT05Mil7bys9bi5zbGljZShzLHIpO2NvbnN0IGY9bi5jaGFyQ29kZUF0KHIrMSk9PT0xMTc/bi5jaGFyQ29kZUF0KHIrMik9PT0xMjM/TG4oZSxyKTpQbihlLHIpOkZuKGUscik7bys9Zi52YWx1ZSxyKz1mLnNpemUscz1yO2NvbnRpbnVlfWlmKGM9PT0xMHx8Yz09PTEzKWJyZWFrO2lmKGZlKGMpKSsrcjtlbHNlIGlmKHdlKG4scikpcis9MjtlbHNlIHRocm93IEcoZS5zb3VyY2UscixgSW52YWxpZCBjaGFyYWN0ZXIgd2l0aGluIFN0cmluZzogJHthZShlLHIpfS5gKX10aHJvdyBHKGUuc291cmNlLHIsIlVudGVybWluYXRlZCBzdHJpbmcuIil9ZnVuY3Rpb24gTG4oZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7bGV0IGk9MCxyPTM7Zm9yKDtyPDEyOyl7Y29uc3Qgcz1uLmNoYXJDb2RlQXQodCtyKyspO2lmKHM9PT0xMjUpe2lmKHI8NXx8IWZlKGkpKWJyZWFrO3JldHVybnt2YWx1ZTpTdHJpbmcuZnJvbUNvZGVQb2ludChpKSxzaXplOnJ9fWlmKGk9aTw8NHx4ZShzKSxpPDApYnJlYWt9dGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCtyKX0iLmApfWZ1bmN0aW9uIFBuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9d3Qobix0KzIpO2lmKGZlKGkpKXJldHVybnt2YWx1ZTpTdHJpbmcuZnJvbUNvZGVQb2ludChpKSxzaXplOjZ9O2lmKE90KGkpJiZuLmNoYXJDb2RlQXQodCs2KT09PTkyJiZuLmNoYXJDb2RlQXQodCs3KT09PTExNyl7Y29uc3Qgcj13dChuLHQrOCk7aWYoU3QocikpcmV0dXJue3ZhbHVlOlN0cmluZy5mcm9tQ29kZVBvaW50KGksciksc2l6ZToxMn19dGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCs2KX0iLmApfWZ1bmN0aW9uIHd0KGUsdCl7cmV0dXJuIHhlKGUuY2hhckNvZGVBdCh0KSk8PDEyfHhlKGUuY2hhckNvZGVBdCh0KzEpKTw8OHx4ZShlLmNoYXJDb2RlQXQodCsyKSk8PDR8eGUoZS5jaGFyQ29kZUF0KHQrMykpfWZ1bmN0aW9uIHhlKGUpe3JldHVybiBlPj00OCYmZTw9NTc/ZS00ODplPj02NSYmZTw9NzA/ZS01NTplPj05NyYmZTw9MTAyP2UtODc6LTF9ZnVuY3Rpb24gRm4oZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7c3dpdGNoKG4uY2hhckNvZGVBdCh0KzEpKXtjYXNlIDM0OnJldHVybnt2YWx1ZTonIicsc2l6ZToyfTtjYXNlIDkyOnJldHVybnt2YWx1ZToiXFwiLHNpemU6Mn07Y2FzZSA0NzpyZXR1cm57dmFsdWU6Ii8iLHNpemU6Mn07Y2FzZSA5ODpyZXR1cm57dmFsdWU6IlxiIixzaXplOjJ9O2Nhc2UgMTAyOnJldHVybnt2YWx1ZToiXGYiLHNpemU6Mn07Y2FzZSAxMTA6cmV0dXJue3ZhbHVlOmAKYCxzaXplOjJ9O2Nhc2UgMTE0OnJldHVybnt2YWx1ZToiXHIiLHNpemU6Mn07Y2FzZSAxMTY6cmV0dXJue3ZhbHVlOiIJIixzaXplOjJ9fXRocm93IEcoZS5zb3VyY2UsdCxgSW52YWxpZCBjaGFyYWN0ZXIgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCsyKX0iLmApfWZ1bmN0aW9uIEJuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9ZS5saW5lU3RhcnQscz10KzMsbz1zLGM9IiI7Y29uc3QgZj1bXTtmb3IoO3M8aTspe2NvbnN0IGQ9bi5jaGFyQ29kZUF0KHMpO2lmKGQ9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMik9PT0zNCl7Yys9bi5zbGljZShvLHMpLGYucHVzaChjKTtjb25zdCB1PVYoZSxsLkJMT0NLX1NUUklORyx0LHMrMyxBbihmKS5qb2luKGAKYCkpO3JldHVybiBlLmxpbmUrPWYubGVuZ3RoLTEsZS5saW5lU3RhcnQ9cix1fWlmKGQ9PT05MiYmbi5jaGFyQ29kZUF0KHMrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMik9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMyk9PT0zNCl7Yys9bi5zbGljZShvLHMpLG89cysxLHMrPTQ7Y29udGludWV9aWYoZD09PTEwfHxkPT09MTMpe2MrPW4uc2xpY2UobyxzKSxmLnB1c2goYyksZD09PTEzJiZuLmNoYXJDb2RlQXQocysxKT09PTEwP3MrPTI6KytzLGM9IiIsbz1zLHI9cztjb250aW51ZX1pZihmZShkKSkrK3M7ZWxzZSBpZih3ZShuLHMpKXMrPTI7ZWxzZSB0aHJvdyBHKGUuc291cmNlLHMsYEludmFsaWQgY2hhcmFjdGVyIHdpdGhpbiBTdHJpbmc6ICR7YWUoZSxzKX0uYCl9dGhyb3cgRyhlLnNvdXJjZSxzLCJVbnRlcm1pbmF0ZWQgc3RyaW5nLiIpfWZ1bmN0aW9uICRuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dCsxO2Zvcig7cjxpOyl7Y29uc3Qgcz1uLmNoYXJDb2RlQXQocik7aWYoeG4ocykpKytyO2Vsc2UgYnJlYWt9cmV0dXJuIFYoZSxsLk5BTUUsdCxyLG4uc2xpY2UodCxyKSl9Y29uc3QgTW49MTAsRHQ9MjtmdW5jdGlvbiBaZShlKXtyZXR1cm4gRGUoZSxbXSl9ZnVuY3Rpb24gRGUoZSx0KXtzd2l0Y2godHlwZW9mIGUpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7Y2FzZSJmdW5jdGlvbiI6cmV0dXJuIGUubmFtZT9gW2Z1bmN0aW9uICR7ZS5uYW1lfV1gOiJbZnVuY3Rpb25dIjtjYXNlIm9iamVjdCI6cmV0dXJuIFVuKGUsdCk7ZGVmYXVsdDpyZXR1cm4gU3RyaW5nKGUpfX1mdW5jdGlvbiBVbihlLHQpe2lmKGU9PT1udWxsKXJldHVybiJudWxsIjtpZih0LmluY2x1ZGVzKGUpKXJldHVybiJbQ2lyY3VsYXJdIjtjb25zdCBuPVsuLi50LGVdO2lmKFZuKGUpKXtjb25zdCBpPWUudG9KU09OKCk7aWYoaSE9PWUpcmV0dXJuIHR5cGVvZiBpPT0ic3RyaW5nIj9pOkRlKGksbil9ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBxbihlLG4pO3JldHVybiBqbihlLG4pfWZ1bmN0aW9uIFZuKGUpe3JldHVybiB0eXBlb2YgZS50b0pTT049PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gam4oZSx0KXtjb25zdCBuPU9iamVjdC5lbnRyaWVzKGUpO3JldHVybiBuLmxlbmd0aD09PTA/Int9Ijp0Lmxlbmd0aD5EdD8iWyIrR24oZSkrIl0iOiJ7ICIrbi5tYXAoKFtyLHNdKT0+cisiOiAiK0RlKHMsdCkpLmpvaW4oIiwgIikrIiB9In1mdW5jdGlvbiBxbihlLHQpe2lmKGUubGVuZ3RoPT09MClyZXR1cm4iW10iO2lmKHQubGVuZ3RoPkR0KXJldHVybiJbQXJyYXldIjtjb25zdCBuPU1hdGgubWluKE1uLGUubGVuZ3RoKSxpPWUubGVuZ3RoLW4scj1bXTtmb3IobGV0IHM9MDtzPG47KytzKXIucHVzaChEZShlW3NdLHQpKTtyZXR1cm4gaT09PTE/ci5wdXNoKCIuLi4gMSBtb3JlIGl0ZW0iKTppPjEmJnIucHVzaChgLi4uICR7aX0gbW9yZSBpdGVtc2ApLCJbIityLmpvaW4oIiwgIikrIl0ifWZ1bmN0aW9uIEduKGUpe2NvbnN0IHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnJlcGxhY2UoL15cW29iamVjdCAvLCIiKS5yZXBsYWNlKC9dJC8sIiIpO2lmKHQ9PT0iT2JqZWN0IiYmdHlwZW9mIGUuY29uc3RydWN0b3I9PSJmdW5jdGlvbiIpe2NvbnN0IG49ZS5jb25zdHJ1Y3Rvci5uYW1lO2lmKHR5cGVvZiBuPT0ic3RyaW5nIiYmbiE9PSIiKXJldHVybiBufXJldHVybiB0fWNvbnN0IEhuPWdsb2JhbFRoaXMucHJvY2VzcyYmZ2xvYmFsVGhpcy5wcm9jZXNzLmVudi5OT0RFX0VOVj09PSJwcm9kdWN0aW9uIj9mdW5jdGlvbih0LG4pe3JldHVybiB0IGluc3RhbmNlb2Ygbn06ZnVuY3Rpb24odCxuKXtpZih0IGluc3RhbmNlb2YgbilyZXR1cm4hMDtpZih0eXBlb2YgdD09Im9iamVjdCImJnQhPT1udWxsKXt2YXIgaTtjb25zdCByPW4ucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ10scz1TeW1ib2wudG9TdHJpbmdUYWcgaW4gdD90W1N5bWJvbC50b1N0cmluZ1RhZ106KGk9dC5jb25zdHJ1Y3Rvcik9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLm5hbWU7aWYocj09PXMpe2NvbnN0IG89WmUodCk7dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgdXNlICR7cn0gIiR7b30iIGZyb20gYW5vdGhlciBtb2R1bGUgb3IgcmVhbG0uCgpFbnN1cmUgdGhhdCB0aGVyZSBpcyBvbmx5IG9uZSBpbnN0YW5jZSBvZiAiZ3JhcGhxbCIgaW4gdGhlIG5vZGVfbW9kdWxlcwpkaXJlY3RvcnkuIElmIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiAiZ3JhcGhxbCIgYXJlIHRoZSBkZXBlbmRlbmNpZXMgb2Ygb3RoZXIKcmVsaWVkIG9uIG1vZHVsZXMsIHVzZSAicmVzb2x1dGlvbnMiIHRvIGVuc3VyZSBvbmx5IG9uZSB2ZXJzaW9uIGlzIGluc3RhbGxlZC4KCmh0dHBzOi8veWFybnBrZy5jb20vZW4vZG9jcy9zZWxlY3RpdmUtdmVyc2lvbi1yZXNvbHV0aW9ucwoKRHVwbGljYXRlICJncmFwaHFsIiBtb2R1bGVzIGNhbm5vdCBiZSB1c2VkIGF0IHRoZSBzYW1lIHRpbWUgc2luY2UgZGlmZmVyZW50CnZlcnNpb25zIG1heSBoYXZlIGRpZmZlcmVudCBjYXBhYmlsaXRpZXMgYW5kIGJlaGF2aW9yLiBUaGUgZGF0YSBmcm9tIG9uZQp2ZXJzaW9uIHVzZWQgaW4gdGhlIGZ1bmN0aW9uIGZyb20gYW5vdGhlciBjb3VsZCBwcm9kdWNlIGNvbmZ1c2luZyBhbmQKc3B1cmlvdXMgcmVzdWx0cy5gKX19cmV0dXJuITF9O2NsYXNzIEN0e2NvbnN0cnVjdG9yKHQsbj0iR3JhcGhRTCByZXF1ZXN0IixpPXtsaW5lOjEsY29sdW1uOjF9KXt0eXBlb2YgdD09InN0cmluZyJ8fFNlKCExLGBCb2R5IG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkOiAke1plKHQpfS5gKSx0aGlzLmJvZHk9dCx0aGlzLm5hbWU9bix0aGlzLmxvY2F0aW9uT2Zmc2V0PWksdGhpcy5sb2NhdGlvbk9mZnNldC5saW5lPjB8fFNlKCExLCJsaW5lIGluIGxvY2F0aW9uT2Zmc2V0IGlzIDEtaW5kZXhlZCBhbmQgbXVzdCBiZSBwb3NpdGl2ZS4iKSx0aGlzLmxvY2F0aW9uT2Zmc2V0LmNvbHVtbj4wfHxTZSghMSwiY29sdW1uIGluIGxvY2F0aW9uT2Zmc2V0IGlzIDEtaW5kZXhlZCBhbmQgbXVzdCBiZSBwb3NpdGl2ZS4iKX1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJTb3VyY2UifX1mdW5jdGlvbiB6bihlKXtyZXR1cm4gSG4oZSxDdCl9ZnVuY3Rpb24ga3QoZSx0KXtyZXR1cm4gbmV3IFluKGUsdCkucGFyc2VEb2N1bWVudCgpfWNsYXNzIFlue2NvbnN0cnVjdG9yKHQsbj17fSl7Y29uc3QgaT16bih0KT90Om5ldyBDdCh0KTt0aGlzLl9sZXhlcj1uZXcgU24oaSksdGhpcy5fb3B0aW9ucz1uLHRoaXMuX3Rva2VuQ291bnRlcj0wfXBhcnNlTmFtZSgpe2NvbnN0IHQ9dGhpcy5leHBlY3RUb2tlbihsLk5BTUUpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk5BTUUsdmFsdWU6dC52YWx1ZX0pfXBhcnNlRG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuRE9DVU1FTlQsZGVmaW5pdGlvbnM6dGhpcy5tYW55KGwuU09GLHRoaXMucGFyc2VEZWZpbml0aW9uLGwuRU9GKX0pfXBhcnNlRGVmaW5pdGlvbigpe2lmKHRoaXMucGVlayhsLkJSQUNFX0wpKXJldHVybiB0aGlzLnBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbigpO2NvbnN0IHQ9dGhpcy5wZWVrRGVzY3JpcHRpb24oKSxuPXQ/dGhpcy5fbGV4ZXIubG9va2FoZWFkKCk6dGhpcy5fbGV4ZXIudG9rZW47aWYobi5raW5kPT09bC5OQU1FKXtzd2l0Y2gobi52YWx1ZSl7Y2FzZSJzY2hlbWEiOnJldHVybiB0aGlzLnBhcnNlU2NoZW1hRGVmaW5pdGlvbigpO2Nhc2Uic2NhbGFyIjpyZXR1cm4gdGhpcy5wYXJzZVNjYWxhclR5cGVEZWZpbml0aW9uKCk7Y2FzZSJ0eXBlIjpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdFR5cGVEZWZpbml0aW9uKCk7Y2FzZSJpbnRlcmZhY2UiOnJldHVybiB0aGlzLnBhcnNlSW50ZXJmYWNlVHlwZURlZmluaXRpb24oKTtjYXNlInVuaW9uIjpyZXR1cm4gdGhpcy5wYXJzZVVuaW9uVHlwZURlZmluaXRpb24oKTtjYXNlImVudW0iOnJldHVybiB0aGlzLnBhcnNlRW51bVR5cGVEZWZpbml0aW9uKCk7Y2FzZSJpbnB1dCI6cmV0dXJuIHRoaXMucGFyc2VJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uKCk7Y2FzZSJkaXJlY3RpdmUiOnJldHVybiB0aGlzLnBhcnNlRGlyZWN0aXZlRGVmaW5pdGlvbigpfWlmKHQpdGhyb3cgRyh0aGlzLl9sZXhlci5zb3VyY2UsdGhpcy5fbGV4ZXIudG9rZW4uc3RhcnQsIlVuZXhwZWN0ZWQgZGVzY3JpcHRpb24sIGRlc2NyaXB0aW9ucyBhcmUgc3VwcG9ydGVkIG9ubHkgb24gdHlwZSBkZWZpbml0aW9ucy4iKTtzd2l0Y2gobi52YWx1ZSl7Y2FzZSJxdWVyeSI6Y2FzZSJtdXRhdGlvbiI6Y2FzZSJzdWJzY3JpcHRpb24iOnJldHVybiB0aGlzLnBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbigpO2Nhc2UiZnJhZ21lbnQiOnJldHVybiB0aGlzLnBhcnNlRnJhZ21lbnREZWZpbml0aW9uKCk7Y2FzZSJleHRlbmQiOnJldHVybiB0aGlzLnBhcnNlVHlwZVN5c3RlbUV4dGVuc2lvbigpfX10aHJvdyB0aGlzLnVuZXhwZWN0ZWQobil9cGFyc2VPcGVyYXRpb25EZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjtpZih0aGlzLnBlZWsobC5CUkFDRV9MKSlyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5PUEVSQVRJT05fREVGSU5JVElPTixvcGVyYXRpb246bGUuUVVFUlksbmFtZTp2b2lkIDAsdmFyaWFibGVEZWZpbml0aW9uczpbXSxkaXJlY3RpdmVzOltdLHNlbGVjdGlvblNldDp0aGlzLnBhcnNlU2VsZWN0aW9uU2V0KCl9KTtjb25zdCBuPXRoaXMucGFyc2VPcGVyYXRpb25UeXBlKCk7bGV0IGk7cmV0dXJuIHRoaXMucGVlayhsLk5BTUUpJiYoaT10aGlzLnBhcnNlTmFtZSgpKSx0aGlzLm5vZGUodCx7a2luZDpULk9QRVJBVElPTl9ERUZJTklUSU9OLG9wZXJhdGlvbjpuLG5hbWU6aSx2YXJpYWJsZURlZmluaXRpb25zOnRoaXMucGFyc2VWYXJpYWJsZURlZmluaXRpb25zKCksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pfXBhcnNlT3BlcmF0aW9uVHlwZSgpe2NvbnN0IHQ9dGhpcy5leHBlY3RUb2tlbihsLk5BTUUpO3N3aXRjaCh0LnZhbHVlKXtjYXNlInF1ZXJ5IjpyZXR1cm4gbGUuUVVFUlk7Y2FzZSJtdXRhdGlvbiI6cmV0dXJuIGxlLk1VVEFUSU9OO2Nhc2Uic3Vic2NyaXB0aW9uIjpyZXR1cm4gbGUuU1VCU0NSSVBUSU9OfXRocm93IHRoaXMudW5leHBlY3RlZCh0KX1wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKXtyZXR1cm4gdGhpcy5vcHRpb25hbE1hbnkobC5QQVJFTl9MLHRoaXMucGFyc2VWYXJpYWJsZURlZmluaXRpb24sbC5QQVJFTl9SKX1wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbigpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6VC5WQVJJQUJMRV9ERUZJTklUSU9OLHZhcmlhYmxlOnRoaXMucGFyc2VWYXJpYWJsZSgpLHR5cGU6KHRoaXMuZXhwZWN0VG9rZW4obC5DT0xPTiksdGhpcy5wYXJzZVR5cGVSZWZlcmVuY2UoKSksZGVmYXVsdFZhbHVlOnRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihsLkVRVUFMUyk/dGhpcy5wYXJzZUNvbnN0VmFsdWVMaXRlcmFsKCk6dm9pZCAwLGRpcmVjdGl2ZXM6dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpfSl9cGFyc2VWYXJpYWJsZSgpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4obC5ET0xMQVIpLHRoaXMubm9kZSh0LHtraW5kOlQuVkFSSUFCTEUsbmFtZTp0aGlzLnBhcnNlTmFtZSgpfSl9cGFyc2VTZWxlY3Rpb25TZXQoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuU0VMRUNUSU9OX1NFVCxzZWxlY3Rpb25zOnRoaXMubWFueShsLkJSQUNFX0wsdGhpcy5wYXJzZVNlbGVjdGlvbixsLkJSQUNFX1IpfSl9cGFyc2VTZWxlY3Rpb24oKXtyZXR1cm4gdGhpcy5wZWVrKGwuU1BSRUFEKT90aGlzLnBhcnNlRnJhZ21lbnQoKTp0aGlzLnBhcnNlRmllbGQoKX1wYXJzZUZpZWxkKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VOYW1lKCk7bGV0IGkscjtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuQ09MT04pPyhpPW4scj10aGlzLnBhcnNlTmFtZSgpKTpyPW4sdGhpcy5ub2RlKHQse2tpbmQ6VC5GSUVMRCxhbGlhczppLG5hbWU6cixhcmd1bWVudHM6dGhpcy5wYXJzZUFyZ3VtZW50cyghMSksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGVlayhsLkJSQUNFX0wpP3RoaXMucGFyc2VTZWxlY3Rpb25TZXQoKTp2b2lkIDB9KX1wYXJzZUFyZ3VtZW50cyh0KXtjb25zdCBuPXQ/dGhpcy5wYXJzZUNvbnN0QXJndW1lbnQ6dGhpcy5wYXJzZUFyZ3VtZW50O3JldHVybiB0aGlzLm9wdGlvbmFsTWFueShsLlBBUkVOX0wsbixsLlBBUkVOX1IpfXBhcnNlQXJndW1lbnQodD0hMSl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbixpPXRoaXMucGFyc2VOYW1lKCk7cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4obC5DT0xPTiksdGhpcy5ub2RlKG4se2tpbmQ6VC5BUkdVTUVOVCxuYW1lOmksdmFsdWU6dGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCh0KX0pfXBhcnNlQ29uc3RBcmd1bWVudCgpe3JldHVybiB0aGlzLnBhcnNlQXJndW1lbnQoITApfXBhcnNlRnJhZ21lbnQoKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0VG9rZW4obC5TUFJFQUQpO2NvbnN0IG49dGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoIm9uIik7cmV0dXJuIW4mJnRoaXMucGVlayhsLk5BTUUpP3RoaXMubm9kZSh0LHtraW5kOlQuRlJBR01FTlRfU1BSRUFELG5hbWU6dGhpcy5wYXJzZUZyYWdtZW50TmFtZSgpLGRpcmVjdGl2ZXM6dGhpcy5wYXJzZURpcmVjdGl2ZXMoITEpfSk6dGhpcy5ub2RlKHQse2tpbmQ6VC5JTkxJTkVfRlJBR01FTlQsdHlwZUNvbmRpdGlvbjpuP3RoaXMucGFyc2VOYW1lZFR5cGUoKTp2b2lkIDAsZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pfXBhcnNlRnJhZ21lbnREZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjtyZXR1cm4gdGhpcy5leHBlY3RLZXl3b3JkKCJmcmFnbWVudCIpLHRoaXMuX29wdGlvbnMuYWxsb3dMZWdhY3lGcmFnbWVudFZhcmlhYmxlcz09PSEwP3RoaXMubm9kZSh0LHtraW5kOlQuRlJBR01FTlRfREVGSU5JVElPTixuYW1lOnRoaXMucGFyc2VGcmFnbWVudE5hbWUoKSx2YXJpYWJsZURlZmluaXRpb25zOnRoaXMucGFyc2VWYXJpYWJsZURlZmluaXRpb25zKCksdHlwZUNvbmRpdGlvbjoodGhpcy5leHBlY3RLZXl3b3JkKCJvbiIpLHRoaXMucGFyc2VOYW1lZFR5cGUoKSksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pOnRoaXMubm9kZSh0LHtraW5kOlQuRlJBR01FTlRfREVGSU5JVElPTixuYW1lOnRoaXMucGFyc2VGcmFnbWVudE5hbWUoKSx0eXBlQ29uZGl0aW9uOih0aGlzLmV4cGVjdEtleXdvcmQoIm9uIiksdGhpcy5wYXJzZU5hbWVkVHlwZSgpKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VGcmFnbWVudE5hbWUoKXtpZih0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJvbiIpdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMucGFyc2VOYW1lKCl9cGFyc2VWYWx1ZUxpdGVyYWwodCl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbjtzd2l0Y2gobi5raW5kKXtjYXNlIGwuQlJBQ0tFVF9MOnJldHVybiB0aGlzLnBhcnNlTGlzdCh0KTtjYXNlIGwuQlJBQ0VfTDpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdCh0KTtjYXNlIGwuSU5UOnJldHVybiB0aGlzLmFkdmFuY2VMZXhlcigpLHRoaXMubm9kZShuLHtraW5kOlQuSU5ULHZhbHVlOm4udmFsdWV9KTtjYXNlIGwuRkxPQVQ6cmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksdGhpcy5ub2RlKG4se2tpbmQ6VC5GTE9BVCx2YWx1ZTpuLnZhbHVlfSk7Y2FzZSBsLlNUUklORzpjYXNlIGwuQkxPQ0tfU1RSSU5HOnJldHVybiB0aGlzLnBhcnNlU3RyaW5nTGl0ZXJhbCgpO2Nhc2UgbC5OQU1FOnN3aXRjaCh0aGlzLmFkdmFuY2VMZXhlcigpLG4udmFsdWUpe2Nhc2UidHJ1ZSI6cmV0dXJuIHRoaXMubm9kZShuLHtraW5kOlQuQk9PTEVBTix2YWx1ZTohMH0pO2Nhc2UiZmFsc2UiOnJldHVybiB0aGlzLm5vZGUobix7a2luZDpULkJPT0xFQU4sdmFsdWU6ITF9KTtjYXNlIm51bGwiOnJldHVybiB0aGlzLm5vZGUobix7a2luZDpULk5VTEx9KTtkZWZhdWx0OnJldHVybiB0aGlzLm5vZGUobix7a2luZDpULkVOVU0sdmFsdWU6bi52YWx1ZX0pfWNhc2UgbC5ET0xMQVI6aWYodClpZih0aGlzLmV4cGVjdFRva2VuKGwuRE9MTEFSKSx0aGlzLl9sZXhlci50b2tlbi5raW5kPT09bC5OQU1FKXtjb25zdCBpPXRoaXMuX2xleGVyLnRva2VuLnZhbHVlO3Rocm93IEcodGhpcy5fbGV4ZXIuc291cmNlLG4uc3RhcnQsYFVuZXhwZWN0ZWQgdmFyaWFibGUgIiQke2l9IiBpbiBjb25zdGFudCB2YWx1ZS5gKX1lbHNlIHRocm93IHRoaXMudW5leHBlY3RlZChuKTtyZXR1cm4gdGhpcy5wYXJzZVZhcmlhYmxlKCk7ZGVmYXVsdDp0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKX19cGFyc2VDb25zdFZhbHVlTGl0ZXJhbCgpe3JldHVybiB0aGlzLnBhcnNlVmFsdWVMaXRlcmFsKCEwKX1wYXJzZVN0cmluZ0xpdGVyYWwoKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmFkdmFuY2VMZXhlcigpLHRoaXMubm9kZSh0LHtraW5kOlQuU1RSSU5HLHZhbHVlOnQudmFsdWUsYmxvY2s6dC5raW5kPT09bC5CTE9DS19TVFJJTkd9KX1wYXJzZUxpc3QodCl7Y29uc3Qgbj0oKT0+dGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCh0KTtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuTElTVCx2YWx1ZXM6dGhpcy5hbnkobC5CUkFDS0VUX0wsbixsLkJSQUNLRVRfUil9KX1wYXJzZU9iamVjdCh0KXtjb25zdCBuPSgpPT50aGlzLnBhcnNlT2JqZWN0RmllbGQodCk7cmV0dXJuIHRoaXMubm9kZSh0aGlzLl9sZXhlci50b2tlbix7a2luZDpULk9CSkVDVCxmaWVsZHM6dGhpcy5hbnkobC5CUkFDRV9MLG4sbC5CUkFDRV9SKX0pfXBhcnNlT2JqZWN0RmllbGQodCl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbixpPXRoaXMucGFyc2VOYW1lKCk7cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4obC5DT0xPTiksdGhpcy5ub2RlKG4se2tpbmQ6VC5PQkpFQ1RfRklFTEQsbmFtZTppLHZhbHVlOnRoaXMucGFyc2VWYWx1ZUxpdGVyYWwodCl9KX1wYXJzZURpcmVjdGl2ZXModCl7Y29uc3Qgbj1bXTtmb3IoO3RoaXMucGVlayhsLkFUKTspbi5wdXNoKHRoaXMucGFyc2VEaXJlY3RpdmUodCkpO3JldHVybiBufXBhcnNlQ29uc3REaXJlY3RpdmVzKCl7cmV0dXJuIHRoaXMucGFyc2VEaXJlY3RpdmVzKCEwKX1wYXJzZURpcmVjdGl2ZSh0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmV4cGVjdFRva2VuKGwuQVQpLHRoaXMubm9kZShuLHtraW5kOlQuRElSRUNUSVZFLG5hbWU6dGhpcy5wYXJzZU5hbWUoKSxhcmd1bWVudHM6dGhpcy5wYXJzZUFyZ3VtZW50cyh0KX0pfXBhcnNlVHlwZVJlZmVyZW5jZSgpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47bGV0IG47aWYodGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuQlJBQ0tFVF9MKSl7Y29uc3QgaT10aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpO3RoaXMuZXhwZWN0VG9rZW4obC5CUkFDS0VUX1IpLG49dGhpcy5ub2RlKHQse2tpbmQ6VC5MSVNUX1RZUEUsdHlwZTppfSl9ZWxzZSBuPXRoaXMucGFyc2VOYW1lZFR5cGUoKTtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuQkFORyk/dGhpcy5ub2RlKHQse2tpbmQ6VC5OT05fTlVMTF9UWVBFLHR5cGU6bn0pOm59cGFyc2VOYW1lZFR5cGUoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuTkFNRURfVFlQRSxuYW1lOnRoaXMucGFyc2VOYW1lKCl9KX1wZWVrRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVrKGwuU1RSSU5HKXx8dGhpcy5wZWVrKGwuQkxPQ0tfU1RSSU5HKX1wYXJzZURlc2NyaXB0aW9uKCl7aWYodGhpcy5wZWVrRGVzY3JpcHRpb24oKSlyZXR1cm4gdGhpcy5wYXJzZVN0cmluZ0xpdGVyYWwoKX1wYXJzZVNjaGVtYURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJzY2hlbWEiKTtjb25zdCBpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMubWFueShsLkJSQUNFX0wsdGhpcy5wYXJzZU9wZXJhdGlvblR5cGVEZWZpbml0aW9uLGwuQlJBQ0VfUik7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuU0NIRU1BX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixkaXJlY3RpdmVzOmksb3BlcmF0aW9uVHlwZXM6cn0pfXBhcnNlT3BlcmF0aW9uVHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZU9wZXJhdGlvblR5cGUoKTt0aGlzLmV4cGVjdFRva2VuKGwuQ09MT04pO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWVkVHlwZSgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk9QRVJBVElPTl9UWVBFX0RFRklOSVRJT04sb3BlcmF0aW9uOm4sdHlwZTppfSl9cGFyc2VTY2FsYXJUeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoInNjYWxhciIpO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5TQ0FMQVJfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGRpcmVjdGl2ZXM6cn0pfXBhcnNlT2JqZWN0VHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJ0eXBlIik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCkscz10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCksbz10aGlzLnBhcnNlRmllbGRzRGVmaW5pdGlvbigpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk9CSkVDVF9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksaW50ZXJmYWNlczpyLGRpcmVjdGl2ZXM6cyxmaWVsZHM6b30pfXBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKXtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoImltcGxlbWVudHMiKT90aGlzLmRlbGltaXRlZE1hbnkobC5BTVAsdGhpcy5wYXJzZU5hbWVkVHlwZSk6W119cGFyc2VGaWVsZHNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGwuQlJBQ0VfTCx0aGlzLnBhcnNlRmllbGREZWZpbml0aW9uLGwuQlJBQ0VfUil9cGFyc2VGaWVsZERlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCksaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUFyZ3VtZW50RGVmcygpO3RoaXMuZXhwZWN0VG9rZW4obC5DT0xPTik7Y29uc3Qgcz10aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpLG89dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULkZJRUxEX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksYXJndW1lbnRzOnIsdHlwZTpzLGRpcmVjdGl2ZXM6b30pfXBhcnNlQXJndW1lbnREZWZzKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGwuUEFSRU5fTCx0aGlzLnBhcnNlSW5wdXRWYWx1ZURlZixsLlBBUkVOX1IpfXBhcnNlSW5wdXRWYWx1ZURlZigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKSxpPXRoaXMucGFyc2VOYW1lKCk7dGhpcy5leHBlY3RUb2tlbihsLkNPTE9OKTtjb25zdCByPXRoaXMucGFyc2VUeXBlUmVmZXJlbmNlKCk7bGV0IHM7dGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuRVFVQUxTKSYmKHM9dGhpcy5wYXJzZUNvbnN0VmFsdWVMaXRlcmFsKCkpO2NvbnN0IG89dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULklOUFVUX1ZBTFVFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksdHlwZTpyLGRlZmF1bHRWYWx1ZTpzLGRpcmVjdGl2ZXM6b30pfXBhcnNlSW50ZXJmYWNlVHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJpbnRlcmZhY2UiKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKSxzPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxvPXRoaXMucGFyc2VGaWVsZHNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuSU5URVJGQUNFX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxpbnRlcmZhY2VzOnIsZGlyZWN0aXZlczpzLGZpZWxkczpvfSl9cGFyc2VVbmlvblR5cGVEZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VEZXNjcmlwdGlvbigpO3RoaXMuZXhwZWN0S2V5d29yZCgidW5pb24iKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscz10aGlzLnBhcnNlVW5pb25NZW1iZXJUeXBlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlVOSU9OX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxkaXJlY3RpdmVzOnIsdHlwZXM6c30pfXBhcnNlVW5pb25NZW1iZXJUeXBlcygpe3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4obC5FUVVBTFMpP3RoaXMuZGVsaW1pdGVkTWFueShsLlBJUEUsdGhpcy5wYXJzZU5hbWVkVHlwZSk6W119cGFyc2VFbnVtVHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJlbnVtIik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHM9dGhpcy5wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuRU5VTV9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksZGlyZWN0aXZlczpyLHZhbHVlczpzfSl9cGFyc2VFbnVtVmFsdWVzRGVmaW5pdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbmFsTWFueShsLkJSQUNFX0wsdGhpcy5wYXJzZUVudW1WYWx1ZURlZmluaXRpb24sbC5CUkFDRV9SKX1wYXJzZUVudW1WYWx1ZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCksaT10aGlzLnBhcnNlRW51bVZhbHVlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULkVOVU1fVkFMVUVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxkaXJlY3RpdmVzOnJ9KX1wYXJzZUVudW1WYWx1ZU5hbWUoKXtpZih0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJ0cnVlInx8dGhpcy5fbGV4ZXIudG9rZW4udmFsdWU9PT0iZmFsc2UifHx0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJudWxsIil0aHJvdyBHKHRoaXMuX2xleGVyLnNvdXJjZSx0aGlzLl9sZXhlci50b2tlbi5zdGFydCxgJHtDZSh0aGlzLl9sZXhlci50b2tlbil9IGlzIHJlc2VydmVkIGFuZCBjYW5ub3QgYmUgdXNlZCBmb3IgYW4gZW51bSB2YWx1ZS5gKTtyZXR1cm4gdGhpcy5wYXJzZU5hbWUoKX1wYXJzZUlucHV0T2JqZWN0VHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJpbnB1dCIpO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxzPXRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGRpcmVjdGl2ZXM6cixmaWVsZHM6c30pfXBhcnNlSW5wdXRGaWVsZHNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGwuQlJBQ0VfTCx0aGlzLnBhcnNlSW5wdXRWYWx1ZURlZixsLkJSQUNFX1IpfXBhcnNlVHlwZVN5c3RlbUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIubG9va2FoZWFkKCk7aWYodC5raW5kPT09bC5OQU1FKXN3aXRjaCh0LnZhbHVlKXtjYXNlInNjaGVtYSI6cmV0dXJuIHRoaXMucGFyc2VTY2hlbWFFeHRlbnNpb24oKTtjYXNlInNjYWxhciI6cmV0dXJuIHRoaXMucGFyc2VTY2FsYXJUeXBlRXh0ZW5zaW9uKCk7Y2FzZSJ0eXBlIjpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdFR5cGVFeHRlbnNpb24oKTtjYXNlImludGVyZmFjZSI6cmV0dXJuIHRoaXMucGFyc2VJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uKCk7Y2FzZSJ1bmlvbiI6cmV0dXJuIHRoaXMucGFyc2VVbmlvblR5cGVFeHRlbnNpb24oKTtjYXNlImVudW0iOnJldHVybiB0aGlzLnBhcnNlRW51bVR5cGVFeHRlbnNpb24oKTtjYXNlImlucHV0IjpyZXR1cm4gdGhpcy5wYXJzZUlucHV0T2JqZWN0VHlwZUV4dGVuc2lvbigpfXRocm93IHRoaXMudW5leHBlY3RlZCh0KX1wYXJzZVNjaGVtYUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoInNjaGVtYSIpO2NvbnN0IG49dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLGk9dGhpcy5vcHRpb25hbE1hbnkobC5CUkFDRV9MLHRoaXMucGFyc2VPcGVyYXRpb25UeXBlRGVmaW5pdGlvbixsLkJSQUNFX1IpO2lmKG4ubGVuZ3RoPT09MCYmaS5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlNDSEVNQV9FWFRFTlNJT04sZGlyZWN0aXZlczpuLG9wZXJhdGlvblR5cGVzOml9KX1wYXJzZVNjYWxhclR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJzY2FsYXIiKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCksaT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCk7aWYoaS5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlNDQUxBUl9UWVBFX0VYVEVOU0lPTixuYW1lOm4sZGlyZWN0aXZlczppfSl9cGFyc2VPYmplY3RUeXBlRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgidHlwZSIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHM9dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtpZihpLmxlbmd0aD09PTAmJnIubGVuZ3RoPT09MCYmcy5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk9CSkVDVF9UWVBFX0VYVEVOU0lPTixuYW1lOm4saW50ZXJmYWNlczppLGRpcmVjdGl2ZXM6cixmaWVsZHM6c30pfXBhcnNlSW50ZXJmYWNlVHlwZUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoImludGVyZmFjZSIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHM9dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtpZihpLmxlbmd0aD09PTAmJnIubGVuZ3RoPT09MCYmcy5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTixuYW1lOm4saW50ZXJmYWNlczppLGRpcmVjdGl2ZXM6cixmaWVsZHM6c30pfXBhcnNlVW5pb25UeXBlRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgidW5pb24iKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCksaT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscj10aGlzLnBhcnNlVW5pb25NZW1iZXJUeXBlcygpO2lmKGkubGVuZ3RoPT09MCYmci5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlVOSU9OX1RZUEVfRVhURU5TSU9OLG5hbWU6bixkaXJlY3RpdmVzOmksdHlwZXM6cn0pfXBhcnNlRW51bVR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJlbnVtIik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLGk9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHI9dGhpcy5wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCk7aWYoaS5sZW5ndGg9PT0wJiZyLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuRU5VTV9UWVBFX0VYVEVOU0lPTixuYW1lOm4sZGlyZWN0aXZlczppLHZhbHVlczpyfSl9cGFyc2VJbnB1dE9iamVjdFR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJpbnB1dCIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtpZihpLmxlbmd0aD09PTAmJnIubGVuZ3RoPT09MCl0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5JTlBVVF9PQkpFQ1RfVFlQRV9FWFRFTlNJT04sbmFtZTpuLGRpcmVjdGl2ZXM6aSxmaWVsZHM6cn0pfXBhcnNlRGlyZWN0aXZlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoImRpcmVjdGl2ZSIpLHRoaXMuZXhwZWN0VG9rZW4obC5BVCk7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUFyZ3VtZW50RGVmcygpLHM9dGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoInJlcGVhdGFibGUiKTt0aGlzLmV4cGVjdEtleXdvcmQoIm9uIik7Y29uc3Qgbz10aGlzLnBhcnNlRGlyZWN0aXZlTG9jYXRpb25zKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuRElSRUNUSVZFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksYXJndW1lbnRzOnIscmVwZWF0YWJsZTpzLGxvY2F0aW9uczpvfSl9cGFyc2VEaXJlY3RpdmVMb2NhdGlvbnMoKXtyZXR1cm4gdGhpcy5kZWxpbWl0ZWRNYW55KGwuUElQRSx0aGlzLnBhcnNlRGlyZWN0aXZlTG9jYXRpb24pfXBhcnNlRGlyZWN0aXZlTG9jYXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZU5hbWUoKTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUWUsbi52YWx1ZSkpcmV0dXJuIG47dGhyb3cgdGhpcy51bmV4cGVjdGVkKHQpfW5vZGUodCxuKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5ub0xvY2F0aW9uIT09ITAmJihuLmxvYz1uZXcgYm4odCx0aGlzLl9sZXhlci5sYXN0VG9rZW4sdGhpcy5fbGV4ZXIuc291cmNlKSksbn1wZWVrKHQpe3JldHVybiB0aGlzLl9sZXhlci50b2tlbi5raW5kPT09dH1leHBlY3RUb2tlbih0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO2lmKG4ua2luZD09PXQpcmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksbjt0aHJvdyBHKHRoaXMuX2xleGVyLnNvdXJjZSxuLnN0YXJ0LGBFeHBlY3RlZCAke1J0KHQpfSwgZm91bmQgJHtDZShuKX0uYCl9ZXhwZWN0T3B0aW9uYWxUb2tlbih0KXtyZXR1cm4gdGhpcy5fbGV4ZXIudG9rZW4ua2luZD09PXQ/KHRoaXMuYWR2YW5jZUxleGVyKCksITApOiExfWV4cGVjdEtleXdvcmQodCl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbjtpZihuLmtpbmQ9PT1sLk5BTUUmJm4udmFsdWU9PT10KXRoaXMuYWR2YW5jZUxleGVyKCk7ZWxzZSB0aHJvdyBHKHRoaXMuX2xleGVyLnNvdXJjZSxuLnN0YXJ0LGBFeHBlY3RlZCAiJHt0fSIsIGZvdW5kICR7Q2Uobil9LmApfWV4cGVjdE9wdGlvbmFsS2V5d29yZCh0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO3JldHVybiBuLmtpbmQ9PT1sLk5BTUUmJm4udmFsdWU9PT10Pyh0aGlzLmFkdmFuY2VMZXhlcigpLCEwKTohMX11bmV4cGVjdGVkKHQpe2NvbnN0IG49dCE9bnVsbD90OnRoaXMuX2xleGVyLnRva2VuO3JldHVybiBHKHRoaXMuX2xleGVyLnNvdXJjZSxuLnN0YXJ0LGBVbmV4cGVjdGVkICR7Q2Uobil9LmApfWFueSh0LG4saSl7dGhpcy5leHBlY3RUb2tlbih0KTtjb25zdCByPVtdO2Zvcig7IXRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihpKTspci5wdXNoKG4uY2FsbCh0aGlzKSk7cmV0dXJuIHJ9b3B0aW9uYWxNYW55KHQsbixpKXtpZih0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4odCkpe2NvbnN0IHI9W107ZG8gci5wdXNoKG4uY2FsbCh0aGlzKSk7d2hpbGUoIXRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihpKSk7cmV0dXJuIHJ9cmV0dXJuW119bWFueSh0LG4saSl7dGhpcy5leHBlY3RUb2tlbih0KTtjb25zdCByPVtdO2RvIHIucHVzaChuLmNhbGwodGhpcykpO3doaWxlKCF0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oaSkpO3JldHVybiByfWRlbGltaXRlZE1hbnkodCxuKXt0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4odCk7Y29uc3QgaT1bXTtkbyBpLnB1c2gobi5jYWxsKHRoaXMpKTt3aGlsZSh0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4odCkpO3JldHVybiBpfWFkdmFuY2VMZXhlcigpe2NvbnN0e21heFRva2Vuczp0fT10aGlzLl9vcHRpb25zLG49dGhpcy5fbGV4ZXIuYWR2YW5jZSgpO2lmKHQhPT12b2lkIDAmJm4ua2luZCE9PWwuRU9GJiYoKyt0aGlzLl90b2tlbkNvdW50ZXIsdGhpcy5fdG9rZW5Db3VudGVyPnQpKXRocm93IEcodGhpcy5fbGV4ZXIuc291cmNlLG4uc3RhcnQsYERvY3VtZW50IGNvbnRhaW5zIG1vcmUgdGhhdCAke3R9IHRva2Vucy4gUGFyc2luZyBhYm9ydGVkLmApfX1mdW5jdGlvbiBDZShlKXtjb25zdCB0PWUudmFsdWU7cmV0dXJuIFJ0KGUua2luZCkrKHQhPW51bGw/YCAiJHt0fSJgOiIiKX1mdW5jdGlvbiBSdChlKXtyZXR1cm4gd24oZSk/YCIke2V9ImA6ZX1mdW5jdGlvbiBKbihlKXtyZXR1cm5gIiR7ZS5yZXBsYWNlKFFuLFhuKX0iYH1jb25zdCBRbj0vW1x4MDAtXHgxZlx4MjJceDVjXHg3Zi1ceDlmXS9nO2Z1bmN0aW9uIFhuKGUpe3JldHVybiBXbltlLmNoYXJDb2RlQXQoMCldfWNvbnN0IFduPVsiXFx1MDAwMCIsIlxcdTAwMDEiLCJcXHUwMDAyIiwiXFx1MDAwMyIsIlxcdTAwMDQiLCJcXHUwMDA1IiwiXFx1MDAwNiIsIlxcdTAwMDciLCJcXGIiLCJcXHQiLCJcXG4iLCJcXHUwMDBCIiwiXFxmIiwiXFxyIiwiXFx1MDAwRSIsIlxcdTAwMEYiLCJcXHUwMDEwIiwiXFx1MDAxMSIsIlxcdTAwMTIiLCJcXHUwMDEzIiwiXFx1MDAxNCIsIlxcdTAwMTUiLCJcXHUwMDE2IiwiXFx1MDAxNyIsIlxcdTAwMTgiLCJcXHUwMDE5IiwiXFx1MDAxQSIsIlxcdTAwMUIiLCJcXHUwMDFDIiwiXFx1MDAxRCIsIlxcdTAwMUUiLCJcXHUwMDFGIiwiIiwiIiwnXFwiJywiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiXFxcXCIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIlxcdTAwN0YiLCJcXHUwMDgwIiwiXFx1MDA4MSIsIlxcdTAwODIiLCJcXHUwMDgzIiwiXFx1MDA4NCIsIlxcdTAwODUiLCJcXHUwMDg2IiwiXFx1MDA4NyIsIlxcdTAwODgiLCJcXHUwMDg5IiwiXFx1MDA4QSIsIlxcdTAwOEIiLCJcXHUwMDhDIiwiXFx1MDA4RCIsIlxcdTAwOEUiLCJcXHUwMDhGIiwiXFx1MDA5MCIsIlxcdTAwOTEiLCJcXHUwMDkyIiwiXFx1MDA5MyIsIlxcdTAwOTQiLCJcXHUwMDk1IiwiXFx1MDA5NiIsIlxcdTAwOTciLCJcXHUwMDk4IiwiXFx1MDA5OSIsIlxcdTAwOUEiLCJcXHUwMDlCIiwiXFx1MDA5QyIsIlxcdTAwOUQiLCJcXHUwMDlFIiwiXFx1MDA5RiJdLFpuPU9iamVjdC5mcmVlemUoe30pO2Z1bmN0aW9uIEtuKGUsdCxuPU50KXtjb25zdCBpPW5ldyBNYXA7Zm9yKGNvbnN0IEUgb2YgT2JqZWN0LnZhbHVlcyhUKSlpLnNldChFLGVyKHQsRSkpO2xldCByLHM9QXJyYXkuaXNBcnJheShlKSxvPVtlXSxjPS0xLGY9W10sZD1lLHUseTtjb25zdCBnPVtdLGI9W107ZG97YysrO2NvbnN0IEU9Yz09PW8ubGVuZ3RoLGs9RSYmZi5sZW5ndGghPT0wO2lmKEUpe2lmKHU9Yi5sZW5ndGg9PT0wP3ZvaWQgMDpnW2cubGVuZ3RoLTFdLGQ9eSx5PWIucG9wKCksaylpZihzKXtkPWQuc2xpY2UoKTtsZXQgTD0wO2Zvcihjb25zdFskLHFdb2YgZil7Y29uc3QgTT0kLUw7cT09PW51bGw/KGQuc3BsaWNlKE0sMSksTCsrKTpkW01dPXF9fWVsc2V7ZD1PYmplY3QuZGVmaW5lUHJvcGVydGllcyh7fSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhkKSk7Zm9yKGNvbnN0W0wsJF1vZiBmKWRbTF09JH1jPXIuaW5kZXgsbz1yLmtleXMsZj1yLmVkaXRzLHM9ci5pbkFycmF5LHI9ci5wcmV2fWVsc2UgaWYoeSl7aWYodT1zP2M6b1tjXSxkPXlbdV0sZD09bnVsbCljb250aW51ZTtnLnB1c2godSl9bGV0IHc7aWYoIUFycmF5LmlzQXJyYXkoZCkpe3ZhciBtLE47eHQoZCl8fFNlKCExLGBJbnZhbGlkIEFTVCBOb2RlOiAke1plKGQpfS5gKTtjb25zdCBMPUU/KG09aS5nZXQoZC5raW5kKSk9PT1udWxsfHxtPT09dm9pZCAwP3ZvaWQgMDptLmxlYXZlOihOPWkuZ2V0KGQua2luZCkpPT09bnVsbHx8Tj09PXZvaWQgMD92b2lkIDA6Ti5lbnRlcjtpZih3PUw9PW51bGw/dm9pZCAwOkwuY2FsbCh0LGQsdSx5LGcsYiksdz09PVpuKWJyZWFrO2lmKHc9PT0hMSl7aWYoIUUpe2cucG9wKCk7Y29udGludWV9fWVsc2UgaWYodyE9PXZvaWQgMCYmKGYucHVzaChbdSx3XSksIUUpKWlmKHh0KHcpKWQ9dztlbHNle2cucG9wKCk7Y29udGludWV9fWlmKHc9PT12b2lkIDAmJmsmJmYucHVzaChbdSxkXSksRSlnLnBvcCgpO2Vsc2V7dmFyIHY7cj17aW5BcnJheTpzLGluZGV4OmMsa2V5czpvLGVkaXRzOmYscHJldjpyfSxzPUFycmF5LmlzQXJyYXkoZCksbz1zP2Q6KHY9bltkLmtpbmRdKSE9PW51bGwmJnYhPT12b2lkIDA/djpbXSxjPS0xLGY9W10seSYmYi5wdXNoKHkpLHk9ZH19d2hpbGUociE9PXZvaWQgMCk7cmV0dXJuIGYubGVuZ3RoIT09MD9mW2YubGVuZ3RoLTFdWzFdOmV9ZnVuY3Rpb24gZXIoZSx0KXtjb25zdCBuPWVbdF07cmV0dXJuIHR5cGVvZiBuPT0ib2JqZWN0Ij9uOnR5cGVvZiBuPT0iZnVuY3Rpb24iP3tlbnRlcjpuLGxlYXZlOnZvaWQgMH06e2VudGVyOmUuZW50ZXIsbGVhdmU6ZS5sZWF2ZX19ZnVuY3Rpb24gdHIoZSl7cmV0dXJuIEtuKGUscnIpfWNvbnN0IG5yPTgwLHJyPXtOYW1lOntsZWF2ZTplPT5lLnZhbHVlfSxWYXJpYWJsZTp7bGVhdmU6ZT0+IiQiK2UubmFtZX0sRG9jdW1lbnQ6e2xlYXZlOmU9PnAoZS5kZWZpbml0aW9ucyxgCgpgKX0sT3BlcmF0aW9uRGVmaW5pdGlvbjp7bGVhdmUoZSl7Y29uc3QgdD1TKCIoIixwKGUudmFyaWFibGVEZWZpbml0aW9ucywiLCAiKSwiKSIpLG49cChbZS5vcGVyYXRpb24scChbZS5uYW1lLHRdKSxwKGUuZGlyZWN0aXZlcywiICIpXSwiICIpO3JldHVybihuPT09InF1ZXJ5Ij8iIjpuKyIgIikrZS5zZWxlY3Rpb25TZXR9fSxWYXJpYWJsZURlZmluaXRpb246e2xlYXZlOih7dmFyaWFibGU6ZSx0eXBlOnQsZGVmYXVsdFZhbHVlOm4sZGlyZWN0aXZlczppfSk9PmUrIjogIit0K1MoIiA9ICIsbikrUygiICIscChpLCIgIikpfSxTZWxlY3Rpb25TZXQ6e2xlYXZlOih7c2VsZWN0aW9uczplfSk9PksoZSl9LEZpZWxkOntsZWF2ZSh7YWxpYXM6ZSxuYW1lOnQsYXJndW1lbnRzOm4sZGlyZWN0aXZlczppLHNlbGVjdGlvblNldDpyfSl7Y29uc3Qgcz1TKCIiLGUsIjogIikrdDtsZXQgbz1zK1MoIigiLHAobiwiLCAiKSwiKSIpO3JldHVybiBvLmxlbmd0aD5uciYmKG89cytTKGAoCmAsa2UocChuLGAKYCkpLGAKKWApKSxwKFtvLHAoaSwiICIpLHJdLCIgIil9fSxBcmd1bWVudDp7bGVhdmU6KHtuYW1lOmUsdmFsdWU6dH0pPT5lKyI6ICIrdH0sRnJhZ21lbnRTcHJlYWQ6e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dH0pPT4iLi4uIitlK1MoIiAiLHAodCwiICIpKX0sSW5saW5lRnJhZ21lbnQ6e2xlYXZlOih7dHlwZUNvbmRpdGlvbjplLGRpcmVjdGl2ZXM6dCxzZWxlY3Rpb25TZXQ6bn0pPT5wKFsiLi4uIixTKCJvbiAiLGUpLHAodCwiICIpLG5dLCIgIil9LEZyYWdtZW50RGVmaW5pdGlvbjp7bGVhdmU6KHtuYW1lOmUsdHlwZUNvbmRpdGlvbjp0LHZhcmlhYmxlRGVmaW5pdGlvbnM6bixkaXJlY3RpdmVzOmksc2VsZWN0aW9uU2V0OnJ9KT0+YGZyYWdtZW50ICR7ZX0ke1MoIigiLHAobiwiLCAiKSwiKSIpfSBvbiAke3R9ICR7UygiIixwKGksIiAiKSwiICIpfWArcn0sSW50VmFsdWU6e2xlYXZlOih7dmFsdWU6ZX0pPT5lfSxGbG9hdFZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sU3RyaW5nVmFsdWU6e2xlYXZlOih7dmFsdWU6ZSxibG9jazp0fSk9PnQ/T24oZSk6Sm4oZSl9LEJvb2xlYW5WYWx1ZTp7bGVhdmU6KHt2YWx1ZTplfSk9PmU/InRydWUiOiJmYWxzZSJ9LE51bGxWYWx1ZTp7bGVhdmU6KCk9PiJudWxsIn0sRW51bVZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sTGlzdFZhbHVlOntsZWF2ZTooe3ZhbHVlczplfSk9PiJbIitwKGUsIiwgIikrIl0ifSxPYmplY3RWYWx1ZTp7bGVhdmU6KHtmaWVsZHM6ZX0pPT4ieyIrcChlLCIsICIpKyJ9In0sT2JqZWN0RmllbGQ6e2xlYXZlOih7bmFtZTplLHZhbHVlOnR9KT0+ZSsiOiAiK3R9LERpcmVjdGl2ZTp7bGVhdmU6KHtuYW1lOmUsYXJndW1lbnRzOnR9KT0+IkAiK2UrUygiKCIscCh0LCIsICIpLCIpIil9LE5hbWVkVHlwZTp7bGVhdmU6KHtuYW1lOmV9KT0+ZX0sTGlzdFR5cGU6e2xlYXZlOih7dHlwZTplfSk9PiJbIitlKyJdIn0sTm9uTnVsbFR5cGU6e2xlYXZlOih7dHlwZTplfSk9PmUrIiEifSxTY2hlbWFEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsZGlyZWN0aXZlczp0LG9wZXJhdGlvblR5cGVzOm59KT0+UygiIixlLGAKYCkrcChbInNjaGVtYSIscCh0LCIgIiksSyhuKV0sIiAiKX0sT3BlcmF0aW9uVHlwZURlZmluaXRpb246e2xlYXZlOih7b3BlcmF0aW9uOmUsdHlwZTp0fSk9PmUrIjogIit0fSxTY2FsYXJUeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm59KT0+UygiIixlLGAKYCkrcChbInNjYWxhciIsdCxwKG4sIiAiKV0sIiAiKX0sT2JqZWN0VHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsaW50ZXJmYWNlczpuLGRpcmVjdGl2ZXM6aSxmaWVsZHM6cn0pPT5TKCIiLGUsYApgKStwKFsidHlwZSIsdCxTKCJpbXBsZW1lbnRzICIscChuLCIgJiAiKSkscChpLCIgIiksSyhyKV0sIiAiKX0sRmllbGREZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHR5cGU6aSxkaXJlY3RpdmVzOnJ9KT0+UygiIixlLGAKYCkrdCsoTHQobik/UyhgKApgLGtlKHAobixgCmApKSxgCilgKTpTKCIoIixwKG4sIiwgIiksIikiKSkrIjogIitpK1MoIiAiLHAociwiICIpKX0sSW5wdXRWYWx1ZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsdHlwZTpuLGRlZmF1bHRWYWx1ZTppLGRpcmVjdGl2ZXM6cn0pPT5TKCIiLGUsYApgKStwKFt0KyI6ICIrbixTKCI9ICIsaSkscChyLCIgIildLCIgIil9LEludGVyZmFjZVR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGludGVyZmFjZXM6bixkaXJlY3RpdmVzOmksZmllbGRzOnJ9KT0+UygiIixlLGAKYCkrcChbImludGVyZmFjZSIsdCxTKCJpbXBsZW1lbnRzICIscChuLCIgJiAiKSkscChpLCIgIiksSyhyKV0sIiAiKX0sVW5pb25UeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm4sdHlwZXM6aX0pPT5TKCIiLGUsYApgKStwKFsidW5pb24iLHQscChuLCIgIiksUygiPSAiLHAoaSwiIHwgIikpXSwiICIpfSxFbnVtVHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpuLHZhbHVlczppfSk9PlMoIiIsZSxgCmApK3AoWyJlbnVtIix0LHAobiwiICIpLEsoaSldLCIgIil9LEVudW1WYWx1ZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpufSk9PlMoIiIsZSxgCmApK3AoW3QscChuLCIgIildLCIgIil9LElucHV0T2JqZWN0VHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpuLGZpZWxkczppfSk9PlMoIiIsZSxgCmApK3AoWyJpbnB1dCIsdCxwKG4sIiAiKSxLKGkpXSwiICIpfSxEaXJlY3RpdmVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHJlcGVhdGFibGU6aSxsb2NhdGlvbnM6cn0pPT5TKCIiLGUsYApgKSsiZGlyZWN0aXZlIEAiK3QrKEx0KG4pP1MoYCgKYCxrZShwKG4sYApgKSksYAopYCk6UygiKCIscChuLCIsICIpLCIpIikpKyhpPyIgcmVwZWF0YWJsZSI6IiIpKyIgb24gIitwKHIsIiB8ICIpfSxTY2hlbWFFeHRlbnNpb246e2xlYXZlOih7ZGlyZWN0aXZlczplLG9wZXJhdGlvblR5cGVzOnR9KT0+cChbImV4dGVuZCBzY2hlbWEiLHAoZSwiICIpLEsodCldLCIgIil9LFNjYWxhclR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dH0pPT5wKFsiZXh0ZW5kIHNjYWxhciIsZSxwKHQsIiAiKV0sIiAiKX0sT2JqZWN0VHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsaW50ZXJmYWNlczp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6aX0pPT5wKFsiZXh0ZW5kIHR5cGUiLGUsUygiaW1wbGVtZW50cyAiLHAodCwiICYgIikpLHAobiwiICIpLEsoaSldLCIgIil9LEludGVyZmFjZVR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGludGVyZmFjZXM6dCxkaXJlY3RpdmVzOm4sZmllbGRzOml9KT0+cChbImV4dGVuZCBpbnRlcmZhY2UiLGUsUygiaW1wbGVtZW50cyAiLHAodCwiICYgIikpLHAobiwiICIpLEsoaSldLCIgIil9LFVuaW9uVHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsZGlyZWN0aXZlczp0LHR5cGVzOm59KT0+cChbImV4dGVuZCB1bmlvbiIsZSxwKHQsIiAiKSxTKCI9ICIscChuLCIgfCAiKSldLCIgIil9LEVudW1UeXBlRXh0ZW5zaW9uOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnQsdmFsdWVzOm59KT0+cChbImV4dGVuZCBlbnVtIixlLHAodCwiICIpLEsobildLCIgIil9LElucHV0T2JqZWN0VHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsZGlyZWN0aXZlczp0LGZpZWxkczpufSk9PnAoWyJleHRlbmQgaW5wdXQiLGUscCh0LCIgIiksSyhuKV0sIiAiKX19O2Z1bmN0aW9uIHAoZSx0PSIiKXt2YXIgbjtyZXR1cm4obj1lPT1udWxsP3ZvaWQgMDplLmZpbHRlcihpPT5pKS5qb2luKHQpKSE9PW51bGwmJm4hPT12b2lkIDA/bjoiIn1mdW5jdGlvbiBLKGUpe3JldHVybiBTKGB7CmAsa2UocChlLGAKYCkpLGAKfWApfWZ1bmN0aW9uIFMoZSx0LG49IiIpe3JldHVybiB0IT1udWxsJiZ0IT09IiI/ZSt0K246IiJ9ZnVuY3Rpb24ga2UoZSl7cmV0dXJuIFMoIiAgIixlLnJlcGxhY2UoL1xuL2csYAogIGApKX1mdW5jdGlvbiBMdChlKXt2YXIgdDtyZXR1cm4odD1lPT1udWxsP3ZvaWQgMDplLnNvbWUobj0+bi5pbmNsdWRlcyhgCmApKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITF9Y29uc3QgUHQ9ZT0+e3ZhciBpLHI7bGV0IHQ7Y29uc3Qgbj1lLmRlZmluaXRpb25zLmZpbHRlcihzPT5zLmtpbmQ9PT0iT3BlcmF0aW9uRGVmaW5pdGlvbiIpO3JldHVybiBuLmxlbmd0aD09PTEmJih0PShyPShpPW5bMF0pPT1udWxsP3ZvaWQgMDppLm5hbWUpPT1udWxsP3ZvaWQgMDpyLnZhbHVlKSx0fSxLZT1lPT57aWYodHlwZW9mIGU9PSJzdHJpbmciKXtsZXQgbjt0cnl7Y29uc3QgaT1rdChlKTtuPVB0KGkpfWNhdGNoKGkpe31yZXR1cm57cXVlcnk6ZSxvcGVyYXRpb25OYW1lOm59fWNvbnN0IHQ9UHQoZSk7cmV0dXJue3F1ZXJ5OnRyKGUpLG9wZXJhdGlvbk5hbWU6dH19O2NsYXNzIGhlIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxuKXtjb25zdCBpPWAke2hlLmV4dHJhY3RNZXNzYWdlKHQpfTogJHtKU09OLnN0cmluZ2lmeSh7cmVzcG9uc2U6dCxyZXF1ZXN0Om59KX1gO3N1cGVyKGkpLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLGhlLnByb3RvdHlwZSksdGhpcy5yZXNwb25zZT10LHRoaXMucmVxdWVzdD1uLHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT09ImZ1bmN0aW9uIiYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxoZSl9c3RhdGljIGV4dHJhY3RNZXNzYWdlKHQpe3ZhciBuLGkscjtyZXR1cm4ocj0oaT0obj10LmVycm9ycyk9PW51bGw/dm9pZCAwOm5bMF0pPT1udWxsP3ZvaWQgMDppLm1lc3NhZ2UpIT1udWxsP3I6YEdyYXBoUUwgRXJyb3IgKENvZGU6ICR7dC5zdGF0dXN9KWB9fXZhciBpcj10eXBlb2YgZ2xvYmFsVGhpcyE9InVuZGVmaW5lZCI/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93IT0idW5kZWZpbmVkIj93aW5kb3c6dHlwZW9mIGdsb2JhbCE9InVuZGVmaW5lZCI/Z2xvYmFsOnR5cGVvZiBzZWxmIT0idW5kZWZpbmVkIj9zZWxmOnt9O2Z1bmN0aW9uIEZ0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCJkZWZhdWx0Iik/ZS5kZWZhdWx0OmV9dmFyIGV0PXtleHBvcnRzOnt9fTsoZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2Ygc2VsZiE9InVuZGVmaW5lZCI/c2VsZjppcixpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcygpe3RoaXMuZmV0Y2g9ITEsdGhpcy5ET01FeGNlcHRpb249bi5ET01FeGNlcHRpb259cmV0dXJuIHMucHJvdG90eXBlPW4sbmV3IHN9KCk7KGZ1bmN0aW9uKHMpeyhmdW5jdGlvbihvKXt2YXIgYz17c2VhcmNoUGFyYW1zOiJVUkxTZWFyY2hQYXJhbXMiaW4gcyxpdGVyYWJsZToiU3ltYm9sImluIHMmJiJpdGVyYXRvciJpbiBTeW1ib2wsYmxvYjoiRmlsZVJlYWRlciJpbiBzJiYiQmxvYiJpbiBzJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEJsb2IsITB9Y2F0Y2goYSl7cmV0dXJuITF9fSgpLGZvcm1EYXRhOiJGb3JtRGF0YSJpbiBzLGFycmF5QnVmZmVyOiJBcnJheUJ1ZmZlciJpbiBzfTtmdW5jdGlvbiBmKGEpe3JldHVybiBhJiZEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKX1pZihjLmFycmF5QnVmZmVyKXZhciBkPVsiW29iamVjdCBJbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OEFycmF5XSIsIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIiwiW29iamVjdCBJbnQxNkFycmF5XSIsIltvYmplY3QgVWludDE2QXJyYXldIiwiW29iamVjdCBJbnQzMkFycmF5XSIsIltvYmplY3QgVWludDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDY0QXJyYXldIl0sdT1BcnJheUJ1ZmZlci5pc1ZpZXd8fGZ1bmN0aW9uKGEpe3JldHVybiBhJiZkLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpKT4tMX07ZnVuY3Rpb24geShhKXtpZih0eXBlb2YgYSE9InN0cmluZyImJihhPVN0cmluZyhhKSksL1teYS16MC05XC0jJCUmJyorLl5fYHx+XS9pLnRlc3QoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUiKTtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIHR5cGVvZiBhIT0ic3RyaW5nIiYmKGE9U3RyaW5nKGEpKSxhfWZ1bmN0aW9uIGIoYSl7dmFyIGg9e25leHQ6ZnVuY3Rpb24oKXt2YXIgXz1hLnNoaWZ0KCk7cmV0dXJue2RvbmU6Xz09PXZvaWQgMCx2YWx1ZTpffX19O3JldHVybiBjLml0ZXJhYmxlJiYoaFtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIGh9KSxofWZ1bmN0aW9uIG0oYSl7dGhpcy5tYXA9e30sYSBpbnN0YW5jZW9mIG0/YS5mb3JFYWNoKGZ1bmN0aW9uKGgsXyl7dGhpcy5hcHBlbmQoXyxoKX0sdGhpcyk6QXJyYXkuaXNBcnJheShhKT9hLmZvckVhY2goZnVuY3Rpb24oaCl7dGhpcy5hcHBlbmQoaFswXSxoWzFdKX0sdGhpcyk6YSYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYSkuZm9yRWFjaChmdW5jdGlvbihoKXt0aGlzLmFwcGVuZChoLGFbaF0pfSx0aGlzKX1tLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oYSxoKXthPXkoYSksaD1nKGgpO3ZhciBfPXRoaXMubWFwW2FdO3RoaXMubWFwW2FdPV8/XysiLCAiK2g6aH0sbS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLm1hcFt5KGEpXX0sbS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBhPXkoYSksdGhpcy5oYXMoYSk/dGhpcy5tYXBbYV06bnVsbH0sbS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eSh5KGEpKX0sbS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsaCl7dGhpcy5tYXBbeShhKV09ZyhoKX0sbS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihhLGgpe2Zvcih2YXIgXyBpbiB0aGlzLm1hcCl0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShfKSYmYS5jYWxsKGgsdGhpcy5tYXBbX10sXyx0aGlzKX0sbS5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oaCxfKXthLnB1c2goXyl9KSxiKGEpfSxtLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGgpe2EucHVzaChoKX0pLGIoYSl9LG0ucHJvdG90eXBlLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGgsXyl7YS5wdXNoKFtfLGhdKX0pLGIoYSl9LGMuaXRlcmFibGUmJihtLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPW0ucHJvdG90eXBlLmVudHJpZXMpO2Z1bmN0aW9uIE4oYSl7aWYoYS5ib2R5VXNlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcigiQWxyZWFkeSByZWFkIikpO2EuYm9keVVzZWQ9ITB9ZnVuY3Rpb24gdihhKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaCxfKXthLm9ubG9hZD1mdW5jdGlvbigpe2goYS5yZXN1bHQpfSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXtfKGEuZXJyb3IpfX0pfWZ1bmN0aW9uIEUoYSl7dmFyIGg9bmV3IEZpbGVSZWFkZXIsXz12KGgpO3JldHVybiBoLnJlYWRBc0FycmF5QnVmZmVyKGEpLF99ZnVuY3Rpb24gayhhKXt2YXIgaD1uZXcgRmlsZVJlYWRlcixfPXYoaCk7cmV0dXJuIGgucmVhZEFzVGV4dChhKSxffWZ1bmN0aW9uIHcoYSl7Zm9yKHZhciBoPW5ldyBVaW50OEFycmF5KGEpLF89bmV3IEFycmF5KGgubGVuZ3RoKSxBPTA7QTxoLmxlbmd0aDtBKyspX1tBXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGhbQV0pO3JldHVybiBfLmpvaW4oIiIpfWZ1bmN0aW9uIEwoYSl7aWYoYS5zbGljZSlyZXR1cm4gYS5zbGljZSgwKTt2YXIgaD1uZXcgVWludDhBcnJheShhLmJ5dGVMZW5ndGgpO3JldHVybiBoLnNldChuZXcgVWludDhBcnJheShhKSksaC5idWZmZXJ9ZnVuY3Rpb24gJCgpe3JldHVybiB0aGlzLmJvZHlVc2VkPSExLHRoaXMuX2luaXRCb2R5PWZ1bmN0aW9uKGEpe3RoaXMuX2JvZHlJbml0PWEsYT90eXBlb2YgYT09InN0cmluZyI/dGhpcy5fYm9keVRleHQ9YTpjLmJsb2ImJkJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYSk/dGhpcy5fYm9keUJsb2I9YTpjLmZvcm1EYXRhJiZGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKT90aGlzLl9ib2R5Rm9ybURhdGE9YTpjLnNlYXJjaFBhcmFtcyYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGEpP3RoaXMuX2JvZHlUZXh0PWEudG9TdHJpbmcoKTpjLmFycmF5QnVmZmVyJiZjLmJsb2ImJmYoYSk/KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcj1MKGEuYnVmZmVyKSx0aGlzLl9ib2R5SW5pdD1uZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpOmMuYXJyYXlCdWZmZXImJihBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKXx8dShhKSk/dGhpcy5fYm9keUFycmF5QnVmZmVyPUwoYSk6dGhpcy5fYm9keVRleHQ9YT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk6dGhpcy5fYm9keVRleHQ9IiIsdGhpcy5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIil8fCh0eXBlb2YgYT09InN0cmluZyI/dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC10eXBlIiwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Iik6dGhpcy5fYm9keUJsb2ImJnRoaXMuX2JvZHlCbG9iLnR5cGU/dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC10eXBlIix0aGlzLl9ib2R5QmxvYi50eXBlKTpjLnNlYXJjaFBhcmFtcyYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGEpJiZ0aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCIpKX0sYy5ibG9iJiYodGhpcy5ibG9iPWZ1bmN0aW9uKCl7dmFyIGE9Tih0aGlzKTtpZihhKXJldHVybiBhO2lmKHRoaXMuX2JvZHlCbG9iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSl9LHRoaXMuYXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9keUFycmF5QnVmZmVyP04odGhpcyl8fFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpOnRoaXMuYmxvYigpLnRoZW4oRSl9KSx0aGlzLnRleHQ9ZnVuY3Rpb24oKXt2YXIgYT1OKHRoaXMpO2lmKGEpcmV0dXJuIGE7aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIGsodGhpcy5fYm9keUJsb2IpO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHcodGhpcy5fYm9keUFycmF5QnVmZmVyKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0Iik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dCl9LGMuZm9ybURhdGEmJih0aGlzLmZvcm1EYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oTyl9KSx0aGlzLmpzb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKX0sdGhpc312YXIgcT1bIkRFTEVURSIsIkdFVCIsIkhFQUQiLCJPUFRJT05TIiwiUE9TVCIsIlBVVCJdO2Z1bmN0aW9uIE0oYSl7dmFyIGg9YS50b1VwcGVyQ2FzZSgpO3JldHVybiBxLmluZGV4T2YoaCk+LTE/aDphfWZ1bmN0aW9uIEkoYSxoKXtoPWh8fHt9O3ZhciBfPWguYm9keTtpZihhIGluc3RhbmNlb2YgSSl7aWYoYS5ib2R5VXNlZCl0aHJvdyBuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKTt0aGlzLnVybD1hLnVybCx0aGlzLmNyZWRlbnRpYWxzPWEuY3JlZGVudGlhbHMsaC5oZWFkZXJzfHwodGhpcy5oZWFkZXJzPW5ldyBtKGEuaGVhZGVycykpLHRoaXMubWV0aG9kPWEubWV0aG9kLHRoaXMubW9kZT1hLm1vZGUsdGhpcy5zaWduYWw9YS5zaWduYWwsIV8mJmEuX2JvZHlJbml0IT1udWxsJiYoXz1hLl9ib2R5SW5pdCxhLmJvZHlVc2VkPSEwKX1lbHNlIHRoaXMudXJsPVN0cmluZyhhKTtpZih0aGlzLmNyZWRlbnRpYWxzPWguY3JlZGVudGlhbHN8fHRoaXMuY3JlZGVudGlhbHN8fCJzYW1lLW9yaWdpbiIsKGguaGVhZGVyc3x8IXRoaXMuaGVhZGVycykmJih0aGlzLmhlYWRlcnM9bmV3IG0oaC5oZWFkZXJzKSksdGhpcy5tZXRob2Q9TShoLm1ldGhvZHx8dGhpcy5tZXRob2R8fCJHRVQiKSx0aGlzLm1vZGU9aC5tb2RlfHx0aGlzLm1vZGV8fG51bGwsdGhpcy5zaWduYWw9aC5zaWduYWx8fHRoaXMuc2lnbmFsLHRoaXMucmVmZXJyZXI9bnVsbCwodGhpcy5tZXRob2Q9PT0iR0VUInx8dGhpcy5tZXRob2Q9PT0iSEVBRCIpJiZfKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzIik7dGhpcy5faW5pdEJvZHkoXyl9SS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEkodGhpcyx7Ym9keTp0aGlzLl9ib2R5SW5pdH0pfTtmdW5jdGlvbiBPKGEpe3ZhciBoPW5ldyBGb3JtRGF0YTtyZXR1cm4gYS50cmltKCkuc3BsaXQoIiYiKS5mb3JFYWNoKGZ1bmN0aW9uKF8pe2lmKF8pe3ZhciBBPV8uc3BsaXQoIj0iKSxSPUEuc2hpZnQoKS5yZXBsYWNlKC9cKy9nLCIgIikseD1BLmpvaW4oIj0iKS5yZXBsYWNlKC9cKy9nLCIgIik7aC5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KFIpLGRlY29kZVVSSUNvbXBvbmVudCh4KSl9fSksaH1mdW5jdGlvbiBqKGEpe3ZhciBoPW5ldyBtLF89YS5yZXBsYWNlKC9ccj9cbltcdCBdKy9nLCIgIik7cmV0dXJuIF8uc3BsaXQoL1xyP1xuLykuZm9yRWFjaChmdW5jdGlvbihBKXt2YXIgUj1BLnNwbGl0KCI6IikseD1SLnNoaWZ0KCkudHJpbSgpO2lmKHgpe3ZhciBzZT1SLmpvaW4oIjoiKS50cmltKCk7aC5hcHBlbmQoeCxzZSl9fSksaH0kLmNhbGwoSS5wcm90b3R5cGUpO2Z1bmN0aW9uIFUoYSxoKXtofHwoaD17fSksdGhpcy50eXBlPSJkZWZhdWx0Iix0aGlzLnN0YXR1cz1oLnN0YXR1cz09PXZvaWQgMD8yMDA6aC5zdGF0dXMsdGhpcy5vaz10aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czwzMDAsdGhpcy5zdGF0dXNUZXh0PSJzdGF0dXNUZXh0ImluIGg/aC5zdGF0dXNUZXh0OiJPSyIsdGhpcy5oZWFkZXJzPW5ldyBtKGguaGVhZGVycyksdGhpcy51cmw9aC51cmx8fCIiLHRoaXMuX2luaXRCb2R5KGEpfSQuY2FsbChVLnByb3RvdHlwZSksVS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFUodGhpcy5fYm9keUluaXQse3N0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OnRoaXMuc3RhdHVzVGV4dCxoZWFkZXJzOm5ldyBtKHRoaXMuaGVhZGVycyksdXJsOnRoaXMudXJsfSl9LFUuZXJyb3I9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVShudWxsLHtzdGF0dXM6MCxzdGF0dXNUZXh0OiIifSk7cmV0dXJuIGEudHlwZT0iZXJyb3IiLGF9O3ZhciBIPVszMDEsMzAyLDMwMywzMDcsMzA4XTtVLnJlZGlyZWN0PWZ1bmN0aW9uKGEsaCl7aWYoSC5pbmRleE9mKGgpPT09LTEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgc3RhdHVzIGNvZGUiKTtyZXR1cm4gbmV3IFUobnVsbCx7c3RhdHVzOmgsaGVhZGVyczp7bG9jYXRpb246YX19KX0sby5ET01FeGNlcHRpb249cy5ET01FeGNlcHRpb247dHJ5e25ldyBvLkRPTUV4Y2VwdGlvbn1jYXRjaChhKXtvLkRPTUV4Y2VwdGlvbj1mdW5jdGlvbihoLF8pe3RoaXMubWVzc2FnZT1oLHRoaXMubmFtZT1fO3ZhciBBPUVycm9yKGgpO3RoaXMuc3RhY2s9QS5zdGFja30sby5ET01FeGNlcHRpb24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxvLkRPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9by5ET01FeGNlcHRpb259ZnVuY3Rpb24gUShhLGgpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihfLEEpe3ZhciBSPW5ldyBJKGEsaCk7aWYoUi5zaWduYWwmJlIuc2lnbmFsLmFib3J0ZWQpcmV0dXJuIEEobmV3IG8uRE9NRXhjZXB0aW9uKCJBYm9ydGVkIiwiQWJvcnRFcnJvciIpKTt2YXIgeD1uZXcgWE1MSHR0cFJlcXVlc3Q7ZnVuY3Rpb24gc2UoKXt4LmFib3J0KCl9eC5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgej17c3RhdHVzOnguc3RhdHVzLHN0YXR1c1RleHQ6eC5zdGF0dXNUZXh0LGhlYWRlcnM6aih4LmdldEFsbFJlc3BvbnNlSGVhZGVycygpfHwiIil9O3oudXJsPSJyZXNwb25zZVVSTCJpbiB4P3gucmVzcG9uc2VVUkw6ei5oZWFkZXJzLmdldCgiWC1SZXF1ZXN0LVVSTCIpO3ZhciByZT0icmVzcG9uc2UiaW4geD94LnJlc3BvbnNlOngucmVzcG9uc2VUZXh0O18obmV3IFUocmUseikpfSx4Lm9uZXJyb3I9ZnVuY3Rpb24oKXtBKG5ldyBUeXBlRXJyb3IoIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQiKSl9LHgub250aW1lb3V0PWZ1bmN0aW9uKCl7QShuZXcgVHlwZUVycm9yKCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkIikpfSx4Lm9uYWJvcnQ9ZnVuY3Rpb24oKXtBKG5ldyBvLkRPTUV4Y2VwdGlvbigiQWJvcnRlZCIsIkFib3J0RXJyb3IiKSl9LHgub3BlbihSLm1ldGhvZCxSLnVybCwhMCksUi5jcmVkZW50aWFscz09PSJpbmNsdWRlIj94LndpdGhDcmVkZW50aWFscz0hMDpSLmNyZWRlbnRpYWxzPT09Im9taXQiJiYoeC53aXRoQ3JlZGVudGlhbHM9ITEpLCJyZXNwb25zZVR5cGUiaW4geCYmYy5ibG9iJiYoeC5yZXNwb25zZVR5cGU9ImJsb2IiKSxSLmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih6LHJlKXt4LnNldFJlcXVlc3RIZWFkZXIocmUseil9KSxSLnNpZ25hbCYmKFIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixzZSkseC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt4LnJlYWR5U3RhdGU9PT00JiZSLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsc2UpfSkseC5zZW5kKHR5cGVvZiBSLl9ib2R5SW5pdD09InVuZGVmaW5lZCI/bnVsbDpSLl9ib2R5SW5pdCl9KX1yZXR1cm4gUS5wb2x5ZmlsbD0hMCxzLmZldGNofHwocy5mZXRjaD1RLHMuSGVhZGVycz1tLHMuUmVxdWVzdD1JLHMuUmVzcG9uc2U9VSksby5IZWFkZXJzPW0sby5SZXF1ZXN0PUksby5SZXNwb25zZT1VLG8uZmV0Y2g9USxPYmplY3QuZGVmaW5lUHJvcGVydHkobywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksb30pKHt9KX0pKGkpLGkuZmV0Y2gucG9ueWZpbGw9ITAsZGVsZXRlIGkuZmV0Y2gucG9seWZpbGw7dmFyIHI9aTt0PXIuZmV0Y2gsdC5kZWZhdWx0PXIuZmV0Y2gsdC5mZXRjaD1yLmZldGNoLHQuSGVhZGVycz1yLkhlYWRlcnMsdC5SZXF1ZXN0PXIuUmVxdWVzdCx0LlJlc3BvbnNlPXIuUmVzcG9uc2UsZS5leHBvcnRzPXR9KShldCxldC5leHBvcnRzKTt2YXIgUmU9ZXQuZXhwb3J0cyxMZT1GdChSZSksc3I9Qih7X19wcm90b19fOm51bGwsZGVmYXVsdDpMZX0sW1JlXSk7Y29uc3QgZGU9ZT0+e2xldCB0PXt9O3JldHVybiBlJiYodHlwZW9mIEhlYWRlcnMhPSJ1bmRlZmluZWQiJiZlIGluc3RhbmNlb2YgSGVhZGVyc3x8c3ImJlJlLkhlYWRlcnMmJmUgaW5zdGFuY2VvZiBSZS5IZWFkZXJzP3Q9ZG4oZSk6QXJyYXkuaXNBcnJheShlKT9lLmZvckVhY2goKFtuLGldKT0+e24mJmkhPT12b2lkIDAmJih0W25dPWkpfSk6dD1lKSx0fSxCdD1lPT5lLnJlcGxhY2UoLyhbXHMsXXwjW15cblxyXSspKy9nLCIgIikudHJpbSgpLG9yPWU9PntpZighQXJyYXkuaXNBcnJheShlLnF1ZXJ5KSl7Y29uc3QgaT1lLHI9W2BxdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChCdChpLnF1ZXJ5KSl9YF07cmV0dXJuIGUudmFyaWFibGVzJiZyLnB1c2goYHZhcmlhYmxlcz0ke2VuY29kZVVSSUNvbXBvbmVudChpLmpzb25TZXJpYWxpemVyLnN0cmluZ2lmeShpLnZhcmlhYmxlcykpfWApLGkub3BlcmF0aW9uTmFtZSYmci5wdXNoKGBvcGVyYXRpb25OYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGkub3BlcmF0aW9uTmFtZSl9YCksci5qb2luKCImIil9aWYodHlwZW9mIGUudmFyaWFibGVzIT0idW5kZWZpbmVkIiYmIUFycmF5LmlzQXJyYXkoZS52YXJpYWJsZXMpKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGNyZWF0ZSBxdWVyeSB3aXRoIGdpdmVuIHZhcmlhYmxlIHR5cGUsIGFycmF5IGV4cGVjdGVkIik7Y29uc3QgdD1lLG49ZS5xdWVyeS5yZWR1Y2UoKGkscixzKT0+KGkucHVzaCh7cXVlcnk6QnQociksdmFyaWFibGVzOnQudmFyaWFibGVzP3QuanNvblNlcmlhbGl6ZXIuc3RyaW5naWZ5KHQudmFyaWFibGVzW3NdKTp2b2lkIDB9KSxpKSxbXSk7cmV0dXJuYHF1ZXJ5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHQuanNvblNlcmlhbGl6ZXIuc3RyaW5naWZ5KG4pKX1gfSxhcj1lPT50PT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgTjtjb25zdHt1cmw6bixxdWVyeTppLHZhcmlhYmxlczpyLG9wZXJhdGlvbk5hbWU6cyxmZXRjaDpvLGZldGNoT3B0aW9uczpjLG1pZGRsZXdhcmU6Zn09dCxkPVAoe30sdC5oZWFkZXJzKTtsZXQgdT0iIix5O2U9PT0iUE9TVCI/KHk9dXIoaSxyLHMsYy5qc29uU2VyaWFsaXplciksdHlwZW9mIHk9PSJzdHJpbmciJiYoZFsiQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL2pzb24iKSk6dT1vcih7cXVlcnk6aSx2YXJpYWJsZXM6cixvcGVyYXRpb25OYW1lOnMsanNvblNlcmlhbGl6ZXI6KE49Yy5qc29uU2VyaWFsaXplcikhPW51bGw/Tjp6ZX0pO2NvbnN0IGc9UCh7bWV0aG9kOmUsaGVhZGVyczpkLGJvZHk6eX0sYyk7bGV0IGI9bixtPWc7aWYoZil7Y29uc3Qgdj15aWVsZCBQcm9taXNlLnJlc29sdmUoZihVZShQKHt9LGcpLHt1cmw6bixvcGVyYXRpb25OYW1lOnMsdmFyaWFibGVzOnJ9KSkpLHt1cmw6a309dix3PXZlKHYsWyJ1cmwiXSk7Yj1rLG09d31yZXR1cm4gdSYmKGI9YCR7Yn0/JHt1fWApLHlpZWxkIG8oYixtKX0pO2NsYXNzIGNye2NvbnN0cnVjdG9yKHQsbj17fSl7dGhpcy51cmw9dCx0aGlzLnJlcXVlc3RDb25maWc9bix0aGlzLnJhd1JlcXVlc3Q9KC4uLmkpPT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdFtyLHMsb109aSxjPW1uKHIscyxvKSx2PXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpmLGZldGNoOmQ9TGUsbWV0aG9kOnU9IlBPU1QiLHJlcXVlc3RNaWRkbGV3YXJlOnkscmVzcG9uc2VNaWRkbGV3YXJlOmd9PXYsYj12ZSh2LFsiaGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwicmVxdWVzdE1pZGRsZXdhcmUiLCJyZXNwb25zZU1pZGRsZXdhcmUiXSkse3VybDptfT10aGlzO2Muc2lnbmFsIT09dm9pZCAwJiYoYi5zaWduYWw9Yy5zaWduYWwpO2NvbnN0e29wZXJhdGlvbk5hbWU6Tn09S2UoYy5xdWVyeSk7cmV0dXJuIHR0KHt1cmw6bSxxdWVyeTpjLnF1ZXJ5LHZhcmlhYmxlczpjLnZhcmlhYmxlcyxoZWFkZXJzOlAoUCh7fSxkZShudChmKSkpLGRlKGMucmVxdWVzdEhlYWRlcnMpKSxvcGVyYXRpb25OYW1lOk4sZmV0Y2g6ZCxtZXRob2Q6dSxmZXRjaE9wdGlvbnM6YixtaWRkbGV3YXJlOnl9KS50aGVuKEU9PihnJiZnKEUpLEUpKS5jYXRjaChFPT57dGhyb3cgZyYmZyhFKSxFfSl9KX1yZXF1ZXN0KHQsLi4ubil7cmV0dXJuIFgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0W2kscl09bixzPXBuKHQsaSxyKSxOPXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpvLGZldGNoOmM9TGUsbWV0aG9kOmY9IlBPU1QiLHJlcXVlc3RNaWRkbGV3YXJlOmQscmVzcG9uc2VNaWRkbGV3YXJlOnV9PU4seT12ZShOLFsiaGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwicmVxdWVzdE1pZGRsZXdhcmUiLCJyZXNwb25zZU1pZGRsZXdhcmUiXSkse3VybDpnfT10aGlzO3Muc2lnbmFsIT09dm9pZCAwJiYoeS5zaWduYWw9cy5zaWduYWwpO2NvbnN0e3F1ZXJ5OmIsb3BlcmF0aW9uTmFtZTptfT1LZShzLmRvY3VtZW50KTtyZXR1cm4gdHQoe3VybDpnLHF1ZXJ5OmIsdmFyaWFibGVzOnMudmFyaWFibGVzLGhlYWRlcnM6UChQKHt9LGRlKG50KG8pKSksZGUocy5yZXF1ZXN0SGVhZGVycykpLG9wZXJhdGlvbk5hbWU6bSxmZXRjaDpjLG1ldGhvZDpmLGZldGNoT3B0aW9uczp5LG1pZGRsZXdhcmU6ZH0pLnRoZW4odj0+KHUmJnUodiksdi5kYXRhKSkuY2F0Y2godj0+e3Rocm93IHUmJnUodiksdn0pfSl9YmF0Y2hSZXF1ZXN0cyh0LG4pe3ZhciBkO2NvbnN0IGk9eW4odCxuKSxmPXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpyfT1mLHM9dmUoZixbImhlYWRlcnMiXSk7aS5zaWduYWwhPT12b2lkIDAmJihzLnNpZ25hbD1pLnNpZ25hbCk7Y29uc3Qgbz1pLmRvY3VtZW50cy5tYXAoKHtkb2N1bWVudDp1fSk9PktlKHUpLnF1ZXJ5KSxjPWkuZG9jdW1lbnRzLm1hcCgoe3ZhcmlhYmxlczp1fSk9PnUpO3JldHVybiB0dCh7dXJsOnRoaXMudXJsLHF1ZXJ5Om8sdmFyaWFibGVzOmMsaGVhZGVyczpQKFAoe30sZGUobnQocikpKSxkZShpLnJlcXVlc3RIZWFkZXJzKSksb3BlcmF0aW9uTmFtZTp2b2lkIDAsZmV0Y2g6KGQ9dGhpcy5yZXF1ZXN0Q29uZmlnLmZldGNoKSE9bnVsbD9kOkxlLG1ldGhvZDp0aGlzLnJlcXVlc3RDb25maWcubWV0aG9kfHwiUE9TVCIsZmV0Y2hPcHRpb25zOnMsbWlkZGxld2FyZTp0aGlzLnJlcXVlc3RDb25maWcucmVxdWVzdE1pZGRsZXdhcmV9KS50aGVuKHU9Pih0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlJiZ0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlKHUpLHUuZGF0YSkpLmNhdGNoKHU9Pnt0aHJvdyB0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlJiZ0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlKHUpLHV9KX1zZXRIZWFkZXJzKHQpe3JldHVybiB0aGlzLnJlcXVlc3RDb25maWcuaGVhZGVycz10LHRoaXN9c2V0SGVhZGVyKHQsbil7Y29uc3R7aGVhZGVyczppfT10aGlzLnJlcXVlc3RDb25maWc7cmV0dXJuIGk/aVt0XT1uOnRoaXMucmVxdWVzdENvbmZpZy5oZWFkZXJzPXtbdF06bn0sdGhpc31zZXRFbmRwb2ludCh0KXtyZXR1cm4gdGhpcy51cmw9dCx0aGlzfX1jb25zdCB0dD1lPT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgdSx5O2NvbnN0e3F1ZXJ5OnQsdmFyaWFibGVzOm4sZmV0Y2hPcHRpb25zOml9PWUscj1hcihobigodT1lLm1ldGhvZCkhPW51bGw/dToicG9zdCIpKSxzPUFycmF5LmlzQXJyYXkoZS5xdWVyeSksbz15aWVsZCByKGUpLGM9eWllbGQgbHIobywoeT1pLmpzb25TZXJpYWxpemVyKSE9bnVsbD95OnplKSxmPUFycmF5LmlzQXJyYXkoYyk/IWMuc29tZSgoe2RhdGE6Yn0pPT4hYik6ISFjLmRhdGEsZD1BcnJheS5pc0FycmF5KGMpfHwhYy5lcnJvcnN8fEFycmF5LmlzQXJyYXkoYy5lcnJvcnMpJiYhYy5lcnJvcnMubGVuZ3RofHxpLmVycm9yUG9saWN5PT09ImFsbCJ8fGkuZXJyb3JQb2xpY3k9PT0iaWdub3JlIjtpZihvLm9rJiZkJiZmKXtjb25zdCBnPShBcnJheS5pc0FycmF5KGMpLGMpLHtlcnJvcnM6Yn09ZyxtPXZlKGcsWyJlcnJvcnMiXSksTj1pLmVycm9yUG9saWN5PT09Imlnbm9yZSI/bTpjO3JldHVybiBVZShQKHt9LHM/e2RhdGE6Tn06Tikse2hlYWRlcnM6by5oZWFkZXJzLHN0YXR1czpvLnN0YXR1c30pfWVsc2V7Y29uc3QgYj10eXBlb2YgYz09InN0cmluZyI/e2Vycm9yOmN9OmM7dGhyb3cgbmV3IGhlKFVlKFAoe30sYikse3N0YXR1czpvLnN0YXR1cyxoZWFkZXJzOm8uaGVhZGVyc30pLHtxdWVyeTp0LHZhcmlhYmxlczpufSl9fSksdXI9KGUsdCxuLGkpPT57Y29uc3Qgcj1pIT1udWxsP2k6emU7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHIuc3RyaW5naWZ5KHtxdWVyeTplLHZhcmlhYmxlczp0LG9wZXJhdGlvbk5hbWU6bn0pO2lmKHR5cGVvZiB0IT0idW5kZWZpbmVkIiYmIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgY3JlYXRlIHJlcXVlc3QgYm9keSB3aXRoIGdpdmVuIHZhcmlhYmxlIHR5cGUsIGFycmF5IGV4cGVjdGVkIik7Y29uc3Qgcz1lLnJlZHVjZSgobyxjLGYpPT4oby5wdXNoKHtxdWVyeTpjLHZhcmlhYmxlczp0P3RbZl06dm9pZCAwfSksbyksW10pO3JldHVybiByLnN0cmluZ2lmeShzKX0sbHI9KGUsdCk9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBuO3JldHVybiBlLmhlYWRlcnMuZm9yRWFjaCgoaSxyKT0+e3IudG9Mb3dlckNhc2UoKT09PSJjb250ZW50LXR5cGUiJiYobj1pKX0pLG4mJihuLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgiYXBwbGljYXRpb24vanNvbiIpfHxuLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgiYXBwbGljYXRpb24vZ3JhcGhxbCtqc29uIil8fG4udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCJhcHBsaWNhdGlvbi9ncmFwaHFsLXJlc3BvbnNlK2pzb24iKSk/dC5wYXJzZSh5aWVsZCBlLnRleHQoKSk6ZS50ZXh0KCl9KSxudD1lPT50eXBlb2YgZT09ImZ1bmN0aW9uIj9lKCk6ZTt2YXIgcnQ9e2V4cG9ydHM6e319OyhmdW5jdGlvbihlLHQpe3Q9ZS5leHBvcnRzPW4sdC5nZXRTZXJpYWxpemU9aTtmdW5jdGlvbiBuKHIscyxvLGMpe3JldHVybiBKU09OLnN0cmluZ2lmeShyLGkocyxjKSxvKX1mdW5jdGlvbiBpKHIscyl7dmFyIG89W10sYz1bXTtyZXR1cm4gcz09bnVsbCYmKHM9ZnVuY3Rpb24oZixkKXtyZXR1cm4gb1swXT09PWQ/IltDaXJjdWxhciB+XSI6IltDaXJjdWxhciB+LiIrYy5zbGljZSgwLG8uaW5kZXhPZihkKSkuam9pbigiLiIpKyJdIn0pLGZ1bmN0aW9uKGYsZCl7aWYoby5sZW5ndGg+MCl7dmFyIHU9by5pbmRleE9mKHRoaXMpO351P28uc3BsaWNlKHUrMSk6by5wdXNoKHRoaXMpLH51P2Muc3BsaWNlKHUsMS8wLGYpOmMucHVzaChmKSx+by5pbmRleE9mKGQpJiYoZD1zLmNhbGwodGhpcyxmLGQpKX1lbHNlIG8ucHVzaChkKTtyZXR1cm4gcj09bnVsbD9kOnIuY2FsbCh0aGlzLGYsZCl9fX0pKHJ0LHJ0LmV4cG9ydHMpO3ZhciBmcj1ydC5leHBvcnRzLHBlPUZ0KGZyKTtjb25zdCAkdD0xZTMqMTU7dmFyIFBlPWZ1bmN0aW9uKCl7cmV0dXJuIFBlPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgbixpPTEscj1hcmd1bWVudHMubGVuZ3RoO2k8cjtpKyspe249YXJndW1lbnRzW2ldO2Zvcih2YXIgcyBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHMpJiYodFtzXT1uW3NdKX1yZXR1cm4gdH0sUGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt0eXBlb2YgU3VwcHJlc3NlZEVycm9yPT0iZnVuY3Rpb24iJiZTdXBwcmVzc2VkRXJyb3I7dmFyIEZlPW5ldyBNYXAsaXQ9bmV3IE1hcCxNdD0hMCxCZT0hMTtmdW5jdGlvbiBVdChlKXtyZXR1cm4gZS5yZXBsYWNlKC9bXHMsXSsvZywiICIpLnRyaW0oKX1mdW5jdGlvbiBocihlKXtyZXR1cm4gVXQoZS5zb3VyY2UuYm9keS5zdWJzdHJpbmcoZS5zdGFydCxlLmVuZCkpfWZ1bmN0aW9uIGRyKGUpe3ZhciB0PW5ldyBTZXQsbj1bXTtyZXR1cm4gZS5kZWZpbml0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGkpe2lmKGkua2luZD09PSJGcmFnbWVudERlZmluaXRpb24iKXt2YXIgcj1pLm5hbWUudmFsdWUscz1ocihpLmxvYyksbz1pdC5nZXQocik7byYmIW8uaGFzKHMpP010JiZjb25zb2xlLndhcm4oIldhcm5pbmc6IGZyYWdtZW50IHdpdGggbmFtZSAiK3IrYCBhbHJlYWR5IGV4aXN0cy4KZ3JhcGhxbC10YWcgZW5mb3JjZXMgYWxsIGZyYWdtZW50IG5hbWVzIGFjcm9zcyB5b3VyIGFwcGxpY2F0aW9uIHRvIGJlIHVuaXF1ZTsgcmVhZCBtb3JlIGFib3V0CnRoaXMgaW4gdGhlIGRvY3M6IGh0dHA6Ly9kZXYuYXBvbGxvZGF0YS5jb20vY29yZS9mcmFnbWVudHMuaHRtbCN1bmlxdWUtbmFtZXNgKTpvfHxpdC5zZXQocixvPW5ldyBTZXQpLG8uYWRkKHMpLHQuaGFzKHMpfHwodC5hZGQocyksbi5wdXNoKGkpKX1lbHNlIG4ucHVzaChpKX0pLFBlKFBlKHt9LGUpLHtkZWZpbml0aW9uczpufSl9ZnVuY3Rpb24gcHIoZSl7dmFyIHQ9bmV3IFNldChlLmRlZmluaXRpb25zKTt0LmZvckVhY2goZnVuY3Rpb24oaSl7aS5sb2MmJmRlbGV0ZSBpLmxvYyxPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBzPWlbcl07cyYmdHlwZW9mIHM9PSJvYmplY3QiJiZ0LmFkZChzKX0pfSk7dmFyIG49ZS5sb2M7cmV0dXJuIG4mJihkZWxldGUgbi5zdGFydFRva2VuLGRlbGV0ZSBuLmVuZFRva2VuKSxlfWZ1bmN0aW9uIG1yKGUpe3ZhciB0PVV0KGUpO2lmKCFGZS5oYXModCkpe3ZhciBuPWt0KGUse2V4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzOkJlLGFsbG93TGVnYWN5RnJhZ21lbnRWYXJpYWJsZXM6QmV9KTtpZighbnx8bi5raW5kIT09IkRvY3VtZW50Iil0aHJvdyBuZXcgRXJyb3IoIk5vdCBhIHZhbGlkIEdyYXBoUUwgZG9jdW1lbnQuIik7RmUuc2V0KHQscHIoZHIobikpKX1yZXR1cm4gRmUuZ2V0KHQpfWZ1bmN0aW9uIFcoZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07dHlwZW9mIGU9PSJzdHJpbmciJiYoZT1bZV0pO3ZhciBpPWVbMF07cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihyLHMpe3ImJnIua2luZD09PSJEb2N1bWVudCI/aSs9ci5sb2Muc291cmNlLmJvZHk6aSs9cixpKz1lW3MrMV19KSxtcihpKX1mdW5jdGlvbiB5cigpe0ZlLmNsZWFyKCksaXQuY2xlYXIoKX1mdW5jdGlvbiB2cigpe010PSExfWZ1bmN0aW9uIGdyKCl7QmU9ITB9ZnVuY3Rpb24gRXIoKXtCZT0hMX12YXIgQWU9e2dxbDpXLHJlc2V0Q2FjaGVzOnlyLGRpc2FibGVGcmFnbWVudFdhcm5pbmdzOnZyLGVuYWJsZUV4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzOmdyLGRpc2FibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlczpFcn07KGZ1bmN0aW9uKGUpe2UuZ3FsPUFlLmdxbCxlLnJlc2V0Q2FjaGVzPUFlLnJlc2V0Q2FjaGVzLGUuZGlzYWJsZUZyYWdtZW50V2FybmluZ3M9QWUuZGlzYWJsZUZyYWdtZW50V2FybmluZ3MsZS5lbmFibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcz1BZS5lbmFibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcyxlLmRpc2FibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcz1BZS5kaXNhYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXN9KShXfHwoVz17fSkpLFcuZGVmYXVsdD1XO3ZhciBWdDsoZnVuY3Rpb24oZSl7ZS5CaWxsaW5nUXVvdGFFeGNlZWRlZD0iQmlsbGluZ1F1b3RhRXhjZWVkZWQifSkoVnR8fChWdD17fSkpO2NvbnN0IF9yPVdgCgltdXRhdGlvbiBQdXNoUGF5bG9hZCgKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkcGF5bG9hZF9pZDogSUQhCgkJJGV2ZW50czogUmVwbGF5RXZlbnRzSW5wdXQhCgkJJG1lc3NhZ2VzOiBTdHJpbmchCgkJJHJlc291cmNlczogU3RyaW5nIQoJCSR3ZWJfc29ja2V0X2V2ZW50czogU3RyaW5nIQoJCSRlcnJvcnM6IFtFcnJvck9iamVjdElucHV0XSEKCQkkaXNfYmVhY29uOiBCb29sZWFuCgkJJGhhc19zZXNzaW9uX3VubG9hZGVkOiBCb29sZWFuCgkJJGhpZ2hsaWdodF9sb2dzOiBTdHJpbmcKCSkgewoJCXB1c2hQYXlsb2FkKAoJCQlzZXNzaW9uX3NlY3VyZV9pZDogJHNlc3Npb25fc2VjdXJlX2lkCgkJCXBheWxvYWRfaWQ6ICRwYXlsb2FkX2lkCgkJCWV2ZW50czogJGV2ZW50cwoJCQltZXNzYWdlczogJG1lc3NhZ2VzCgkJCXJlc291cmNlczogJHJlc291cmNlcwoJCQl3ZWJfc29ja2V0X2V2ZW50czogJHdlYl9zb2NrZXRfZXZlbnRzCgkJCWVycm9yczogJGVycm9ycwoJCQlpc19iZWFjb246ICRpc19iZWFjb24KCQkJaGFzX3Nlc3Npb25fdW5sb2FkZWQ6ICRoYXNfc2Vzc2lvbl91bmxvYWRlZAoJCQloaWdobGlnaHRfbG9nczogJGhpZ2hsaWdodF9sb2dzCgkJKQoJfQpgLFRyPVdgCgltdXRhdGlvbiBQdXNoUGF5bG9hZENvbXByZXNzZWQoCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHBheWxvYWRfaWQ6IElEIQoJCSRkYXRhOiBTdHJpbmchCgkpIHsKCQlwdXNoUGF5bG9hZENvbXByZXNzZWQoCgkJCXNlc3Npb25fc2VjdXJlX2lkOiAkc2Vzc2lvbl9zZWN1cmVfaWQKCQkJcGF5bG9hZF9pZDogJHBheWxvYWRfaWQKCQkJZGF0YTogJGRhdGEKCQkpCgl9CmAsYnI9V2AKCW11dGF0aW9uIGlkZW50aWZ5U2Vzc2lvbigKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkdXNlcl9pZGVudGlmaWVyOiBTdHJpbmchCgkJJHVzZXJfb2JqZWN0OiBBbnkKCSkgewoJCWlkZW50aWZ5U2Vzc2lvbigKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX2lkZW50aWZpZXI6ICR1c2VyX2lkZW50aWZpZXIKCQkJdXNlcl9vYmplY3Q6ICR1c2VyX29iamVjdAoJCSkKCX0KYCxOcj1XYAoJbXV0YXRpb24gYWRkU2Vzc2lvblByb3BlcnRpZXMoCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHByb3BlcnRpZXNfb2JqZWN0OiBBbnkKCSkgewoJCWFkZFNlc3Npb25Qcm9wZXJ0aWVzKAoJCQlzZXNzaW9uX3NlY3VyZV9pZDogJHNlc3Npb25fc2VjdXJlX2lkCgkJCXByb3BlcnRpZXNfb2JqZWN0OiAkcHJvcGVydGllc19vYmplY3QKCQkpCgl9CmAseHI9V2AKCW11dGF0aW9uIHB1c2hNZXRyaWNzKCRtZXRyaWNzOiBbTWV0cmljSW5wdXRdISkgewoJCXB1c2hNZXRyaWNzKG1ldHJpY3M6ICRtZXRyaWNzKQoJfQpgLEFyPVdgCgltdXRhdGlvbiBhZGRTZXNzaW9uRmVlZGJhY2soCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHVzZXJfbmFtZTogU3RyaW5nCgkJJHVzZXJfZW1haWw6IFN0cmluZwoJCSR2ZXJiYXRpbTogU3RyaW5nIQoJCSR0aW1lc3RhbXA6IFRpbWVzdGFtcCEKCSkgewoJCWFkZFNlc3Npb25GZWVkYmFjaygKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX25hbWU6ICR1c2VyX25hbWUKCQkJdXNlcl9lbWFpbDogJHVzZXJfZW1haWwKCQkJdmVyYmF0aW06ICR2ZXJiYXRpbQoJCQl0aW1lc3RhbXA6ICR0aW1lc3RhbXAKCQkpCgl9CmAsSXI9V2AKCW11dGF0aW9uIGluaXRpYWxpemVTZXNzaW9uKAoJCSRzZXNzaW9uX3NlY3VyZV9pZDogU3RyaW5nIQoJCSRvcmdhbml6YXRpb25fdmVyYm9zZV9pZDogU3RyaW5nIQoJCSRlbmFibGVfc3RyaWN0X3ByaXZhY3k6IEJvb2xlYW4hCgkJJHByaXZhY3lfc2V0dGluZzogU3RyaW5nIQoJCSRlbmFibGVfcmVjb3JkaW5nX25ldHdvcmtfY29udGVudHM6IEJvb2xlYW4hCgkJJGNsaWVudFZlcnNpb246IFN0cmluZyEKCQkkZmlyc3Rsb2FkVmVyc2lvbjogU3RyaW5nIQoJCSRjbGllbnRDb25maWc6IFN0cmluZyEKCQkkZW52aXJvbm1lbnQ6IFN0cmluZyEKCQkkaWQ6IFN0cmluZyEKCQkkYXBwVmVyc2lvbjogU3RyaW5nCgkJJHNlcnZpY2VOYW1lOiBTdHJpbmchCgkJJGNsaWVudF9pZDogU3RyaW5nIQoJCSRuZXR3b3JrX3JlY29yZGluZ19kb21haW5zOiBbU3RyaW5nIV0KCQkkZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzogQm9vbGVhbgoJKSB7CgkJaW5pdGlhbGl6ZVNlc3Npb24oCgkJCXNlc3Npb25fc2VjdXJlX2lkOiAkc2Vzc2lvbl9zZWN1cmVfaWQKCQkJb3JnYW5pemF0aW9uX3ZlcmJvc2VfaWQ6ICRvcmdhbml6YXRpb25fdmVyYm9zZV9pZAoJCQllbmFibGVfc3RyaWN0X3ByaXZhY3k6ICRlbmFibGVfc3RyaWN0X3ByaXZhY3kKCQkJZW5hYmxlX3JlY29yZGluZ19uZXR3b3JrX2NvbnRlbnRzOiAkZW5hYmxlX3JlY29yZGluZ19uZXR3b3JrX2NvbnRlbnRzCgkJCWNsaWVudFZlcnNpb246ICRjbGllbnRWZXJzaW9uCgkJCWZpcnN0bG9hZFZlcnNpb246ICRmaXJzdGxvYWRWZXJzaW9uCgkJCWNsaWVudENvbmZpZzogJGNsaWVudENvbmZpZwoJCQllbnZpcm9ubWVudDogJGVudmlyb25tZW50CgkJCWFwcFZlcnNpb246ICRhcHBWZXJzaW9uCgkJCXNlcnZpY2VOYW1lOiAkc2VydmljZU5hbWUKCQkJZmluZ2VycHJpbnQ6ICRpZAoJCQljbGllbnRfaWQ6ICRjbGllbnRfaWQKCQkJbmV0d29ya19yZWNvcmRpbmdfZG9tYWluczogJG5ldHdvcmtfcmVjb3JkaW5nX2RvbWFpbnMKCQkJZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzogJGRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmcKCQkJcHJpdmFjeV9zZXR0aW5nOiAkcHJpdmFjeV9zZXR0aW5nCgkJKSB7CgkJCXNlY3VyZV9pZAoJCQlwcm9qZWN0X2lkCgkJfQoJfQpgLE9yPVdgCglxdWVyeSBJZ25vcmUoJGlkOiBJRCEpIHsKCQlpZ25vcmUoaWQ6ICRpZCkKCX0KYCxTcj0oZSx0LG4saSk9PmUoKTtmdW5jdGlvbiB3cihlLHQ9U3Ipe3JldHVybntQdXNoUGF5bG9hZChuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChfcixuLFAoUCh7fSxpKSxyKSksIlB1c2hQYXlsb2FkIiwibXV0YXRpb24iLG4pfSxQdXNoUGF5bG9hZENvbXByZXNzZWQobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoVHIsbixQKFAoe30saSkscikpLCJQdXNoUGF5bG9hZENvbXByZXNzZWQiLCJtdXRhdGlvbiIsbil9LGlkZW50aWZ5U2Vzc2lvbihuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChicixuLFAoUCh7fSxpKSxyKSksImlkZW50aWZ5U2Vzc2lvbiIsIm11dGF0aW9uIixuKX0sYWRkU2Vzc2lvblByb3BlcnRpZXMobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoTnIsbixQKFAoe30saSkscikpLCJhZGRTZXNzaW9uUHJvcGVydGllcyIsIm11dGF0aW9uIixuKX0scHVzaE1ldHJpY3MobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoeHIsbixQKFAoe30saSkscikpLCJwdXNoTWV0cmljcyIsIm11dGF0aW9uIixuKX0sYWRkU2Vzc2lvbkZlZWRiYWNrKG4saSl7cmV0dXJuIHQocj0+ZS5yZXF1ZXN0KEFyLG4sUChQKHt9LGkpLHIpKSwiYWRkU2Vzc2lvbkZlZWRiYWNrIiwibXV0YXRpb24iLG4pfSxpbml0aWFsaXplU2Vzc2lvbihuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChJcixuLFAoUCh7fSxpKSxyKSksImluaXRpYWxpemVTZXNzaW9uIiwibXV0YXRpb24iLG4pfSxJZ25vcmUobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoT3IsbixQKFAoe30saSkscikpLCJJZ25vcmUiLCJxdWVyeSIsbil9fX1jbGFzcyBEcntjb25zdHJ1Y3Rvcih0LG4pe2x0KHRoaXMsImRlYnVnIik7bHQodGhpcywibmFtZSIpO3RoaXMuZGVidWc9dCx0aGlzLm5hbWU9bn1sb2coLi4udCl7aWYodGhpcy5kZWJ1Zyl7bGV0IG49YFske0RhdGUubm93KCl9XWA7dGhpcy5uYW1lJiYobis9YCAtICR7dGhpcy5uYW1lfWApLGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsW24sLi4udF0pfX19dmFyIHN0OyhmdW5jdGlvbihlKXtlLkJpbGxpbmdRdW90YUV4Y2VlZGVkPSJCaWxsaW5nUXVvdGFFeGNlZWRlZCJ9KShzdHx8KHN0PXt9KSk7Y29uc3QgQ3I9MTAsa3I9MWUzLFJyPTUwMCxMcj1bc3QuQmlsbGluZ1F1b3RhRXhjZWVkZWQudG9TdHJpbmcoKV0sUHI9ZT0+e3ZhciBuO3JldHVybigobj1lLnJlc3BvbnNlLmVycm9ycyk9PW51bGw/dm9pZCAwOm4uZmluZChpPT5Mci5pbmNsdWRlcyhpLm1lc3NhZ2UpKSk9PT12b2lkIDB9LEZyPWU9Pntjb25zdCB0PShuLGkscixzLG89MCk9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RyeXtyZXR1cm4geWllbGQgbigpfWNhdGNoKGMpe2lmKGMgaW5zdGFuY2VvZiBoZSYmIVByKGMpKXRocm93IGM7aWYobzxDcilyZXR1cm4geWllbGQgbmV3IFByb21pc2UoZj0+c2V0VGltZW91dChmLGtyK1JyKk1hdGgucG93KDIsbykpKSx5aWVsZCB0KG4saSxyLHMsbysxKTt0aHJvdyBjb25zb2xlLmVycm9yKGBoaWdobGlnaHQuaW86IFske2V8fGV9XSBkYXRhIHJlcXVlc3QgZmFpbGVkIGFmdGVyICR7b30gcmV0cmllc2ApLGN9fSk7cmV0dXJuIHR9LGp0PTUscXQ9MmUzLEJyPVsibnVtYmVyIiwic3RyaW5nIiwiYm9vbGVhbiJdO3ZhciBaOyhmdW5jdGlvbihlKXtlW2UuSW5pdGlhbGl6ZT0wXT0iSW5pdGlhbGl6ZSIsZVtlLkFzeW5jRXZlbnRzPTFdPSJBc3luY0V2ZW50cyIsZVtlLklkZW50aWZ5PTJdPSJJZGVudGlmeSIsZVtlLlByb3BlcnRpZXM9M109IlByb3BlcnRpZXMiLGVbZS5NZXRyaWNzPTRdPSJNZXRyaWNzIixlW2UuRmVlZGJhY2s9NV09IkZlZWRiYWNrIixlW2UuQ3VzdG9tRXZlbnQ9Nl09IkN1c3RvbUV2ZW50IixlW2UuU3RvcD03XT0iU3RvcCJ9KShafHwoWj17fSkpO2Z1bmN0aW9uICRyKGUpe3JldHVybiBYKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCB0PXlpZWxkIG5ldyBQcm9taXNlKG49Pntjb25zdCBpPW5ldyBGaWxlUmVhZGVyO2kub25sb2FkPSgpPT5uKGkucmVzdWx0KSxpLnJlYWRBc0RhdGFVUkwobmV3IEJsb2IoW2VdKSl9KTtyZXR1cm4gdC5zbGljZSh0LmluZGV4T2YoIiwiKSsxKX0pfWNvbnN0ICRlPXNlbGY7ZnVuY3Rpb24gR3QoZSx0KXtjb25zdCBuPXt9LGk9W10scj1bXTtmb3IoY29uc3RbcyxvXW9mIE9iamVjdC5lbnRyaWVzKGUpKXtpZihvPT1udWxsKWNvbnRpbnVlO0JyLmluY2x1ZGVzKHR5cGVvZiBvKXx8aS5wdXNoKHtbc106b30pO2xldCBjO3R5cGVvZiBvPT0ic3RyaW5nIj9jPW86Yz1wZShvKSxjLmxlbmd0aD5xdCYmKHIucHVzaCh7W3NdOm99KSxjPWMuc3Vic3RyaW5nKDAscXQpKSxuW3NdPWN9cmV0dXJuIHQhPT0ic2Vzc2lvbiImJihpLmxlbmd0aD4wJiZjb25zb2xlLndhcm4oYEhpZ2hsaWdodCB3YXMgcGFzc2VkIG9uZSBvciBtb3JlICR7dH0gcHJvcGVydGllcyBub3Qgb2YgdHlwZSBzdHJpbmcsIG51bWJlciwgb3IgYm9vbGVhbi5gLGkpLHIubGVuZ3RoPjAmJmNvbnNvbGUud2FybihgSGlnaGxpZ2h0IHdhcyBwYXNzZWQgb25lIG9yIG1vcmUgJHt0fSBwcm9wZXJ0aWVzIGV4Y2VlZGluZyAyMDAwIGNoYXJhY3RlcnMsIHdoaWNoIHdpbGwgYmUgdHJ1bmNhdGVkLmAscikpLG59e2xldCBlLHQsbixpPTAscj0wLHM9ITEsbz0wLGM9bmV3IERyKCExLCJbd29ya2VyXSIpO2NvbnN0IGY9W10sZD0oKT0+byE9PTAmJmk8anQmJiEhKG4hPW51bGwmJm4ubGVuZ3RoKSx1PSh2LEUpPT57JGUucG9zdE1lc3NhZ2Uoe3Jlc3BvbnNlOnt0eXBlOlouQ3VzdG9tRXZlbnQsdGFnOnYscGF5bG9hZDpFfX0pfSx5PXY9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e2lkOkUsZXZlbnRzOmssbWVzc2FnZXM6dyxlcnJvcnM6TCxyZXNvdXJjZXNTdHJpbmc6JCx3ZWJTb2NrZXRFdmVudHNTdHJpbmc6cSxoYXNTZXNzaW9uVW5sb2FkZWQ6TSxoaWdobGlnaHRMb2dzOkl9PXYsTz1wZSh7bWVzc2FnZXM6d30pO2xldCBqPXtzZXNzaW9uX3NlY3VyZV9pZDpuLHBheWxvYWRfaWQ6RS50b1N0cmluZygpLGV2ZW50czp7ZXZlbnRzOmt9LG1lc3NhZ2VzOk8scmVzb3VyY2VzOiQsd2ViX3NvY2tldF9ldmVudHM6cSxlcnJvcnM6TCxpc19iZWFjb246ITEsaGFzX3Nlc3Npb25fdW5sb2FkZWQ6TX07SSYmKGouaGlnaGxpZ2h0X2xvZ3M9SSk7Y29uc3QgVT1mbihKU09OLnN0cmluZ2lmeShqKSksSD1jbihVKSxRPXlpZWxkICRyKEgpLGE9e3R5cGU6Wi5Bc3luY0V2ZW50cyxpZDpFLGV2ZW50c1NpemU6VS5sZW5ndGgsY29tcHJlc3NlZFNpemU6US5sZW5ndGh9O2MubG9nKGBQdXNoaW5nIHBheWxvYWQ6ICR7SlNPTi5zdHJpbmdpZnkoe3Nlc3Npb25TZWN1cmVJRDpuLGlkOkUsZmlyc3RTSUQ6TWF0aC5taW4oLi4uai5ldmVudHMuZXZlbnRzLm1hcCh4PT54PT1udWxsP3ZvaWQgMDp4Ll9zaWQpLmZpbHRlcih4PT4hIXgpKSxldmVudHNMZW5ndGg6ai5ldmVudHMuZXZlbnRzLmxlbmd0aCxtZXNzYWdlc0xlbmd0aDp3Lmxlbmd0aCxyZXNvdXJjZXNMZW5ndGg6JC5sZW5ndGgsd2ViU29ja2V0TGVuZ3RoOnEubGVuZ3RoLGVycm9yc0xlbmd0aDpMLmxlbmd0aCxidWZMZW5ndGg6VS5sZW5ndGgsY29tcHJlc3NlZExlbmd0aDpILmxlbmd0aCxjb21wcmVzc2VkQmFzZTY0TGVuZ3RoOlEubGVuZ3RofSx2b2lkIDAsMil9YCk7Y29uc3QgaD1lLlB1c2hQYXlsb2FkQ29tcHJlc3NlZCh7c2Vzc2lvbl9zZWN1cmVfaWQ6bixwYXlsb2FkX2lkOkUudG9TdHJpbmcoKSxkYXRhOlF9KTtsZXQgXz1Qcm9taXNlLnJlc29sdmUoKTtmLmxlbmd0aCYmKF89ZS5wdXNoTWV0cmljcyh7bWV0cmljczpmfSksZi5zcGxpY2UoMCkpO2xldCBBPXBlcmZvcm1hbmNlLm5vdygpO2NvbnN0IFI9c2V0SW50ZXJ2YWwoKCk9PntBJiZwZXJmb3JtYW5jZS5ub3coKS1BPiR0JiYoY29uc29sZS53YXJuKGBVcGxvYWRpbmcgcHVzaFBheWxvYWQgdG9vayB0b28gbG9uZywgZmFpbHVyZSBudW1iZXIgIyR7cn0uYCkscis9MSxjbGVhckludGVydmFsKFIpLHI+PWp0JiYoY29uc29sZS53YXJuKCJVcGxvYWRpbmcgcHVzaFBheWxvYWQgdG9vayB0b28gbG9uZywgc3RvcHBpbmcgcmVjb3JkaW5nIHRvIGF2b2lkIE9PTS4iKSwkZS5wb3N0TWVzc2FnZSh7cmVzcG9uc2U6e3R5cGU6Wi5TdG9wLHJlcXVlc3RTdGFydDpBLGFzeW5jRXZlbnRzUmVzcG9uc2U6YX19KSxiKHt0eXBlOlouUHJvcGVydGllcyxwcm9wZXJ0aWVzT2JqZWN0OntzdG9wUmVhc29uOiJQdXNoIFBheWxvYWQgVGltZW91dCJ9LHByb3BlcnR5VHlwZTp7dHlwZToidHJhY2sifX0pKSl9LDEwMCk7dHJ5e3lpZWxkIFByb21pc2UuYWxsKFtoLF9dKSxyJiZwZXJmb3JtYW5jZS5ub3coKS1BPD0kdCYmKGNvbnNvbGUud2FybihgcHVzaFBheWxvYWQgc3VjY2VlZGVkIGFmdGVyICMke3J9IGZhaWx1cmVzLCByZXNldHRpbmcgc3RvcCBzd2l0Y2guYCkscj0wKX1maW5hbGx5e0E9MCxjbGVhckludGVydmFsKFIpfSRlLnBvc3RNZXNzYWdlKHtyZXNwb25zZTphfSl9KSxnPXY9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e3VzZXJPYmplY3Q6RSx1c2VySWRlbnRpZmllcjprLHNvdXJjZTp3fT12O3c9PT0ic2VnbWVudCI/dSgiU2VnbWVudCBJZGVudGlmeSIscGUoUCh7dXNlcklkZW50aWZpZXI6a30sRSkpKTp1KCJJZGVudGlmeSIscGUoUCh7dXNlcklkZW50aWZpZXI6a30sRSkpKSx5aWVsZCBlLmlkZW50aWZ5U2Vzc2lvbih7c2Vzc2lvbl9zZWN1cmVfaWQ6bix1c2VyX2lkZW50aWZpZXI6ayx1c2VyX29iamVjdDpHdChFLCJ1c2VyIil9KTtjb25zdCBMPXc9PT0ic2VnbWVudCI/dzoiZGVmYXVsdCI7Yy5sb2coYElkZW50aWZ5ICgke2t9LCBzb3VyY2U6ICR7TH0pIHcvIG9iajogJHtwZShFKX0gQCAke3R9YCl9KSxiPXY9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e3Byb3BlcnRpZXNPYmplY3Q6RSxwcm9wZXJ0eVR5cGU6a309djtsZXQgdzsoaz09bnVsbD92b2lkIDA6ay50eXBlKT09PSJzZXNzaW9uIj8odz0iU2Vzc2lvbiIseWllbGQgZS5hZGRTZXNzaW9uUHJvcGVydGllcyh7c2Vzc2lvbl9zZWN1cmVfaWQ6bixwcm9wZXJ0aWVzX29iamVjdDpHdChFLCJzZXNzaW9uIil9KSk6KGs9PW51bGw/dm9pZCAwOmsuc291cmNlKT09PSJzZWdtZW50Ij93PSJTZWdtZW50Ijp3PSJUcmFjayIsdyE9PSJTZXNzaW9uIiYmdSh3LHBlKEUpKSxjLmxvZyhgQWRkaW5nICR7d30gUHJvcGVydGllcyB0byBzZXNzaW9uICgke259KSB3LyBvYmo6ICR7SlNPTi5zdHJpbmdpZnkoRSl9IEAgJHt0fWApfSksbT12PT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtmLnB1c2goLi4udi5tZXRyaWNzLm1hcChFPT4oe25hbWU6RS5uYW1lLHZhbHVlOkUudmFsdWUsc2Vzc2lvbl9zZWN1cmVfaWQ6bixjYXRlZ29yeTpFLmNhdGVnb3J5LGdyb3VwOkUuZ3JvdXAsdGltZXN0YW1wOkUudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksdGFnczpFLnRhZ3N9KSkpfSksTj12PT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdHt0aW1lc3RhbXA6RSx2ZXJiYXRpbTprLHVzZXJFbWFpbDp3LHVzZXJOYW1lOkx9PXY7eWllbGQgZS5hZGRTZXNzaW9uRmVlZGJhY2soe3Nlc3Npb25fc2VjdXJlX2lkOm4sdGltZXN0YW1wOkUsdmVyYmF0aW06ayx1c2VyX2VtYWlsOncsdXNlcl9uYW1lOkx9KX0pOyRlLm9ubWVzc2FnZT1mdW5jdGlvbih2KXtyZXR1cm4gWCh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYodi5kYXRhLm1lc3NhZ2UudHlwZT09PVouSW5pdGlhbGl6ZSl7dD12LmRhdGEubWVzc2FnZS5iYWNrZW5kLG49di5kYXRhLm1lc3NhZ2Uuc2Vzc2lvblNlY3VyZUlELHM9di5kYXRhLm1lc3NhZ2UuZGVidWcsbz12LmRhdGEubWVzc2FnZS5yZWNvcmRpbmdTdGFydFRpbWUsYy5kZWJ1Zz1zLGU9d3IobmV3IGNyKHQse2hlYWRlcnM6e319KSxGcihuKSk7cmV0dXJufWlmKGQoKSl0cnl7di5kYXRhLm1lc3NhZ2UudHlwZT09PVouQXN5bmNFdmVudHM/eWllbGQgeSh2LmRhdGEubWVzc2FnZSk6di5kYXRhLm1lc3NhZ2UudHlwZT09PVouSWRlbnRpZnk/eWllbGQgZyh2LmRhdGEubWVzc2FnZSk6di5kYXRhLm1lc3NhZ2UudHlwZT09PVouUHJvcGVydGllcz95aWVsZCBiKHYuZGF0YS5tZXNzYWdlKTp2LmRhdGEubWVzc2FnZS50eXBlPT09Wi5NZXRyaWNzP3lpZWxkIG0odi5kYXRhLm1lc3NhZ2UpOnYuZGF0YS5tZXNzYWdlLnR5cGU9PT1aLkZlZWRiYWNrJiYoeWllbGQgTih2LmRhdGEubWVzc2FnZSkpLGk9MH1jYXRjaChFKXtzJiZjb25zb2xlLmVycm9yKEUpLGkrPTF9fSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWhpZ2hsaWdodC1jbGllbnQtd29ya2VyLUJlTlRnNWxWLmpzLm1hcAo=",pL=r=>Uint8Array.from(atob(r),e=>e.charCodeAt(0)),Df=typeof self!="undefined"&&self.Blob&&new Blob([pL(Kf)],{type:"text/javascript;charset=utf-8"});function fL(r){let e;try{if(e=Df&&(self.URL||self.webkitURL).createObjectURL(Df),!e)throw"";const t=new Worker(e,{name:r==null?void 0:r.name});return t.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),t}catch(t){return new Worker("data:text/javascript;base64,"+Kf,{name:r==null?void 0:r.name})}finally{e&&(self.URL||self.webkitURL).revokeObjectURL(e)}}var De;(function(r){r[r.Initialize=0]="Initialize",r[r.AsyncEvents=1]="AsyncEvents",r[r.Identify=2]="Identify",r[r.Properties=3]="Properties",r[r.Metrics=4]="Metrics",r[r.Feedback=5]="Feedback",r[r.CustomEvent=6]="CustomEvent",r[r.Stop=7]="Stop"})(De||(De={}));const _r=(r,e)=>{console.warn(`Highlight Warning: (${r}): `,{output:e})};var Rs;(function(r){r.CLIENT_ID="highlightClientID"})(Rs||(Rs={}));class Pl{constructor(e,t){_(this,"options");_(this,"isRunningOnHighlight");_(this,"organizationID");_(this,"graphqlSDK");_(this,"events");_(this,"sessionData");_(this,"ready");_(this,"manualStopped");_(this,"state");_(this,"logger");_(this,"enableSegmentIntegration");_(this,"privacySetting");_(this,"enableCanvasRecording");_(this,"enablePerformanceRecording");_(this,"samplingStrategy");_(this,"inlineImages");_(this,"inlineStylesheet");_(this,"debugOptions");_(this,"listeners");_(this,"firstloadVersion");_(this,"environment");_(this,"sessionShortcut");_(this,"appVersion");_(this,"serviceName");_(this,"_worker");_(this,"_optionsInternal");_(this,"_backendUrl");_(this,"_recordingStartTime");_(this,"_isOnLocalHost");_(this,"_onToggleFeedbackFormVisibility");_(this,"_firstLoadListeners");_(this,"_isCrossOriginIframe");_(this,"_eventBytesSinceSnapshot");_(this,"_lastSnapshotTime");_(this,"_lastVisibilityChangeTime");_(this,"pushPayloadTimerId");_(this,"hasSessionUnloaded");_(this,"hasPushedData");_(this,"reloaded");_(this,"_hasPreviouslyInitialized");_(this,"_recordStop");var i,s,o,l,a;e.sessionSecureID||(e.sessionSecureID=Kr()),this.options=e,typeof((i=this.options)==null?void 0:i.debug)=="boolean"?this.debugOptions=this.options.debug?{clientInteractions:!0}:{}:this.debugOptions=(o=(s=this.options)==null?void 0:s.debug)!=null?o:{},this.logger=new aL(this.debugOptions.clientInteractions),e.storageMode&&(this.logger.log(`initializing in ${e.storageMode} session mode`),mv(e.storageMode)),Nu(!(e!=null&&e.skipCookieSessionDataLoad)),this._worker=new fL,this._worker.onmessage=c=>{var u,d,h;((u=c.data.response)==null?void 0:u.type)===De.AsyncEvents?(this._eventBytesSinceSnapshot+=c.data.response.eventsSize,this.logger.log(`Web worker sent payloadID ${c.data.response.id} size ${c.data.response.eventsSize} bytes, compression ratio ${c.data.response.eventsSize/c.data.response.compressedSize}.
                Total since snapshot: ${(this._eventBytesSinceSnapshot/1e6).toFixed(1)}MB`)):((d=c.data.response)==null?void 0:d.type)===De.CustomEvent?this.addCustomEvent(c.data.response.tag,c.data.response.payload):((h=c.data.response)==null?void 0:h.type)===De.Stop&&(_r("Stopping recording due to worker failure",c.data.response),this.stopRecording(!1))};let n=sr();if(this.reloaded=!1,!((l=this.sessionData)!=null&&l.sessionSecureID)&&(n!=null&&n.sessionSecureID))this.sessionData=n,this.options.sessionSecureID=n.sessionSecureID,this.reloaded=!0,this.logger.log(`Tab reloaded, continuing previous session: ${this.sessionData.sessionSecureID}`);else{for(const c of Object.values(Ze))xo(c);this.sessionData={sessionSecureID:this.options.sessionSecureID,projectID:0,payloadID:1,sessionStartTime:Date.now()}}this._hasPreviouslyInitialized=!1,this._firstLoadListeners=t||new qe(this.options);try{window.parent.document&&(this._isCrossOriginIframe=!1)}catch(c){this._isCrossOriginIframe=(a=this.options.recordCrossOriginIframe)!=null?a:!0}this._initMembers(this.options)}static create(e){return new Pl(e)}_reset(t){return $(this,arguments,function*({forceNew:e}){this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0);let n,i;if(!e)try{n=ke(Ze.USER_IDENTIFIER);const s=ke(Ze.USER_OBJECT);s&&(i=JSON.parse(s))}catch(s){}for(const s of Object.values(Ze))xo(s);this.sessionData.sessionSecureID=Kr(),this.sessionData.sessionStartTime=Date.now(),this.options.sessionSecureID=this.sessionData.sessionSecureID,this.stopRecording(),this._firstLoadListeners=new qe(this.options),yield this.initialize(),n&&i&&this.identify(n,i)})}_initMembers(e){var s,o,l,a,c,u,d,h,p,m,f;this.sessionShortcut=!1,this._recordingStartTime=0,this._isOnLocalHost=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="",this.ready=!1,this.state="NotRecording",this.manualStopped=!1,this.enableSegmentIntegration=!!e.enableSegmentIntegration,this.privacySetting=(s=e.privacySetting)!=null?s:"default",this.enableCanvasRecording=(o=e.enableCanvasRecording)!=null?o:!1,this.enablePerformanceRecording=(l=e.enablePerformanceRecording)!=null?l:!0,this.inlineImages=(a=e.inlineImages)!=null?a:this._isOnLocalHost,this.inlineStylesheet=(c=e.inlineStylesheet)!=null?c:!0,this.samplingStrategy=I({canvasFactor:.5,canvasMaxSnapshotDimension:360,canvasClearWebGLBuffer:!0,dataUrlOptions:pm()},(u=e.samplingStrategy)!=null?u:{canvas:2}),this._backendUrl=(d=e==null?void 0:e.backendUrl)!=null?d:"https://pub.highlight.io",this._backendUrl[0]==="/"&&(this._backendUrl=new URL(this._backendUrl,document.baseURI).href);const t=new sT(`${this._backendUrl}`,{headers:{}});this.graphqlSDK=pC(t,hT(((h=this.sessionData)==null?void 0:h.sessionSecureID)||((p=this.options)==null?void 0:p.sessionSecureID))),this.environment=(m=e.environment)!=null?m:"production",this.appVersion=e.appVersion,this.serviceName=(f=e.serviceName)!=null?f:"",typeof e.organizationID=="string"?this.organizationID=e.organizationID:this.organizationID=e.organizationID.toString(),this.isRunningOnHighlight=this.organizationID==="1"||this.organizationID==="1jdkoe52",this.firstloadVersion=e.firstloadVersion||"unknown",this.sessionShortcut=e.sessionShortcut||!1,this._onToggleFeedbackFormVisibility=()=>{};const y=e,{firstloadVersion:n}=y,i=Ve(y,["firstloadVersion"]);this._optionsInternal=i,this.listeners=[],this.events=[],this.hasSessionUnloaded=!1,this.hasPushedData=!1,window.Intercom&&window.Intercom("onShow",()=>{window.Intercom("update",{highlightSessionURL:this.getCurrentSessionURLWithTimestamp()}),this.addProperties({event:"Intercom onShow"})}),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=new Date().getTime(),this._lastVisibilityChangeTime=new Date().getTime()}identify(e,t={},n){if(!e||e===""){console.warn("Highlight's identify() call was passed an empty identifier.",{user_identifier:e,user_object:t});return}this.sessionData.userIdentifier=e.toString(),this.sessionData.userObject=t,ct(Ze.USER_IDENTIFIER,e.toString()),ct(Ze.USER_OBJECT,JSON.stringify(t)),this._worker.postMessage({message:{type:De.Identify,userIdentifier:e,userObject:t,source:n}})}pushCustomError(e,t){return this.consumeCustomError(new Error(e),void 0,t)}consumeCustomError(e,t,n){let i={};if(n)try{i=I(I({},JSON.parse(n)),i)}catch(s){}return this.consumeError(e,{message:t,payload:i})}consumeError(e,{message:t,payload:n,source:i,type:s}){var a,c,u,d;e.cause&&(n=se(I({},n),{"exception.cause":e.cause}));let o=t?t+":"+e.message:e.message;s==="React.ErrorBoundary"&&(o="ErrorBoundary: "+o);const l=Cr.parse(e);this._firstLoadListeners.errors.push({event:o,type:s!=null?s:"custom",url:window.location.href,source:i!=null?i:"",lineNumber:(a=l[0])!=null&&a.lineNumber?(c=l[0])==null?void 0:c.lineNumber:0,columnNumber:(u=l[0])!=null&&u.columnNumber?(d=l[0])==null?void 0:d.columnNumber:0,stackTrace:l,timestamp:new Date().toISOString(),payload:JSON.stringify(n)})}addProperties(e={},t){const n=I({},e);Object.entries(n).forEach(([i,s])=>{try{structuredClone(s)}catch(o){delete n[i]}}),this._worker.postMessage({message:{type:De.Properties,propertiesObject:n,propertyType:t}})}initialize(e){return $(this,null,function*(){var t,n,i,s,o,l,a,c,u;if(navigator!=null&&navigator.webdriver&&!window.Cypress||(t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Googlebot")||(n=navigator==null?void 0:navigator.userAgent)!=null&&n.includes("AdsBot")){(i=this._firstLoadListeners)==null||i.stopListening();return}try{if(e!=null&&e.forceNew){yield this._reset(e);return}this.logger.log("Initializing...",e,this.sessionData,this.options),this.sessionData=(s=sr(this.sessionData.sessionSecureID))!=null?s:this.sessionData,(o=this.sessionData)!=null&&o.sessionStartTime?this._recordingStartTime=(l=this.sessionData)==null?void 0:l.sessionStartTime:(this._recordingStartTime=new Date().getTime(),this.sessionData.sessionStartTime=this._recordingStartTime),si(""),or(this.sessionData);let d=ke(Rs.CLIENT_ID);d||(d=Kr(),ct(Rs.CLIENT_ID,d));let h;this.options.disableSessionRecording||this.options.disableNetworkRecording!==void 0||typeof this.options.networkRecording=="boolean"?h=!1:h=((a=this.options.networkRecording)==null?void 0:a.recordHeadersAndBody)||!1;let p=[];if(typeof this.options.networkRecording=="object"&&((c=this.options.networkRecording.destinationDomains)!=null&&c.length)&&(p=this.options.networkRecording.destinationDomains),this._isCrossOriginIframe)yield this._setupCrossOriginIframe();else{const v=yield this.graphqlSDK.initializeSession({organization_verbose_id:this.organizationID,enable_strict_privacy:this.privacySetting==="strict",privacy_setting:this.privacySetting,enable_recording_network_contents:h,clientVersion:this.firstloadVersion,firstloadVersion:this.firstloadVersion,clientConfig:JSON.stringify(this._optionsInternal),environment:this.environment,id:d,appVersion:this.appVersion,serviceName:this.serviceName,session_secure_id:this.sessionData.sessionSecureID,client_id:d,network_recording_domains:p,disable_session_recording:this.options.disableSessionRecording});if(v.initializeSession.secure_id!==this.sessionData.sessionSecureID&&this.logger.log(`Unexpected secure id returned by initializeSession: ${v.initializeSession.secure_id}, expected ${this.sessionData.sessionSecureID}`),this.sessionData.sessionSecureID=v.initializeSession.secure_id,this.sessionData.projectID=parseInt(((u=v==null?void 0:v.initializeSession)==null?void 0:u.project_id)||"0"),!this.sessionData.projectID||!this.sessionData.sessionSecureID){console.error("Failed to initialize Highlight; an error occurred on our end.",this.sessionData);return}}if(this.logger.log(`Loaded Highlight
Remote: ${this._backendUrl}
Project ID: ${this.sessionData.projectID}
SessionSecureID: ${this.sessionData.sessionSecureID}`),this.options.sessionSecureID=this.sessionData.sessionSecureID,this._worker.postMessage({message:{type:De.Initialize,sessionSecureID:this.sessionData.sessionSecureID,backend:this._backendUrl,debug:!!this.debugOptions.clientInteractions,recordingStartTime:this._recordingStartTime}}),this.sessionData.userIdentifier&&this.identify(this.sessionData.userIdentifier,this.sessionData.userObject),this._firstLoadListeners.isListening()?this._firstLoadListeners.hasNetworkRecording||qe.setupNetworkListener(this._firstLoadListeners,this.options):this._firstLoadListeners.startListening(),this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this._isCrossOriginIframe||(this.pushPayloadTimerId=setTimeout(()=>{this._save()},Oe)),this.options.disableSessionRecording){this.logger.log("Highlight is NOT RECORDING a session replay per H.init setting."),this.ready=!0,this.state="Recording",this.manualStopped=!1;return}const{getDeviceDetails:m}=dL();m&&this.recordMetric([{name:Rt.DeviceMemory,value:m().deviceMemory,category:We.Device,group:window.location.href}]);const f=(v,T)=>{T&&this.logger.log("received isCheckout emit",{event:v}),this.events.push(v)};f.bind(this);const y=!!this._recordStop;this._recordStop&&(this._recordStop(),this._recordStop=void 0);const[b,S]=mC(this.privacySetting);this._recordStop=pt({ignoreClass:"highlight-ignore",blockClass:"highlight-block",emit:f,recordCrossOriginIframes:this.options.recordCrossOriginIframe,privacySetting:this.privacySetting,maskAllInputs:b,maskInputOptions:S,recordCanvas:this.enableCanvasRecording,sampling:{canvas:{fps:this.samplingStrategy.canvas,fpsManual:this.samplingStrategy.canvasManualSnapshot,resizeFactor:this.samplingStrategy.canvasFactor,clearWebGLBuffer:this.samplingStrategy.canvasClearWebGLBuffer,initialSnapshotDelay:this.samplingStrategy.canvasInitialSnapshotDelay,dataURLOptions:this.samplingStrategy.dataUrlOptions,maxSnapshotDimension:this.samplingStrategy.canvasMaxSnapshotDimension}},keepIframeSrcFn:v=>!this.options.recordCrossOriginIframe,inlineImages:this.inlineImages,collectFonts:this.inlineImages,inlineStylesheet:this.inlineStylesheet,plugins:[xT()],logger:typeof this.options.debug=="boolean"&&this.options.debug||typeof this.options.debug=="object"&&this.options.debug.domRecording?{debug:this.logger.log,warn:_r}:void 0}),y||this.options.recordCrossOriginIframe&&this._setupCrossOriginIframeParent(),document.referrer&&(window&&document.referrer.includes(window.location.origin)||(this.addCustomEvent("Referrer",document.referrer),this.addProperties({referrer:document.referrer},{type:"session"}))),this._setupWindowListeners(),this.ready=!0,this.state="Recording",this.manualStopped=!1}catch(d){this._isOnLocalHost&&(console.error(d),_r("initializeSession",d))}})}_visibilityHandler(e){return $(this,null,function*(){if(this.manualStopped){this.logger.log("Ignoring visibility event due to manual stop.");return}new Date().getTime()-this._lastVisibilityChangeTime<am||(this._lastVisibilityChangeTime=new Date().getTime(),this.logger.log(`Detected window ${e?"hidden":"visible"}.`),e?(this.addCustomEvent("TabHidden",!0),this.options.disableBackgroundRecording&&this.stopRecording()):(this.options.disableBackgroundRecording&&(yield this.initialize()),this.addCustomEvent("TabHidden",!1)))})}_setupCrossOriginIframe(){return $(this,null,function*(){this.logger.log("highlight in cross-origin iframe is waiting "),yield new Promise(e=>{const t=n=>{if(n.data.highlight===Jf){const i=n.data;this.logger.log("highlight got window message ",i),this.sessionData.projectID=i.projectID,this.sessionData.sessionSecureID=i.sessionSecureID,window.parent.postMessage({highlight:Bf},"*"),window.removeEventListener("message",t),e()}};window.addEventListener("message",t)})})}_setupCrossOriginIframeParent(){this.logger.log("highlight setting up cross origin iframe parent notification"),setInterval(()=>{window.document.querySelectorAll("iframe").forEach(e=>{var t;(t=e.contentWindow)==null||t.postMessage({highlight:Jf,projectID:this.sessionData.projectID,sessionSecureID:this.sessionData.sessionSecureID},"*")})},Oe),window.addEventListener("message",e=>{e.data.highlight===Bf&&this.logger.log("highlight got response from initialized iframe")})}_setupWindowListeners(){var n;try{const i=this;this.enableSegmentIntegration&&this.listeners.push(PC(o=>{if(o.type==="track"){const l={};l["segment-event"]=o.event,i.addProperties(l,{type:"track",source:"segment"})}else if(o.type==="identify"){const l=o.userId.replace(/^"(.*)"$/,"$1");i.identify(l,o.traits,"segment")}})),this.listeners.push(fC(o=>{this.reloaded?(this.addCustomEvent("Reload",o),this.reloaded=!1,i.addProperties({reload:!0},{type:"session"})):this.addCustomEvent("Navigate",o)})),this.listeners.push(DC(o=>{this.addCustomEvent("Viewport",o),this.submitViewportMetrics(o)})),this.listeners.push(GC((o,l)=>{let a=null,c=null;if(l&&l.target){const u=l.target;a=ff(u),c=u.textContent,c&&c.length>2e3&&(c=c.substring(0,2e3))}this.addCustomEvent("Click",{clickTarget:o,clickTextContent:c,clickSelector:a})})),this.listeners.push(NC(o=>{o&&this.addCustomEvent("Focus",o)})),this.listeners.push(oL(o=>{const{name:l,value:a}=o;this.recordMetric([{name:l,value:a,group:window.location.href,category:We.WebVital}])})),this.sessionShortcut&&UC(this.sessionShortcut,()=>{window.open(this.getCurrentSessionURLWithTimestamp(),"_blank")}),this.enablePerformanceRecording&&(this.listeners.push(kC(o=>{this.addCustomEvent("Performance",Gt(o)),this.recordMetric(Object.entries(o).map(([l,a])=>a?{name:l,value:a,category:We.Performance,group:window.location.href}:void 0).filter(l=>l))},this._recordingStartTime)),this.listeners.push(WC(o=>{this.addCustomEvent("Jank",Gt(o)),this.recordMetric([{name:"Jank",value:o.jankAmount,category:We.WebVital,group:o.querySelector}])},this._recordingStartTime))),this._hasPreviouslyInitialized||((n=window.electron)!=null&&n.ipcRenderer?(window.electron.ipcRenderer.on("highlight.run",({visible:o})=>{this._visibilityHandler(!o)}),this.logger.log("Set up Electron highlight.run events.")):(xC(o=>this._visibilityHandler(o)),this.logger.log("Set up document visibility listener.")),this._hasPreviouslyInitialized=!0);const s=()=>{this.hasSessionUnloaded=!0,this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0)};window.addEventListener("beforeunload",s),this.listeners.push(()=>window.removeEventListener("beforeunload",s))}catch(i){this._isOnLocalHost&&(console.error(i),_r("initializeSession _setupWindowListeners",i))}const e=()=>{this.addCustomEvent("Page Unload",""),si(this.sessionData.sessionSecureID),or(this.sessionData)};if(window.addEventListener("beforeunload",e),this.listeners.push(()=>window.removeEventListener("beforeunload",e)),navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)){const i=()=>{this.addCustomEvent("Page Unload",""),si(this.sessionData.sessionSecureID),or(this.sessionData)};window.addEventListener("pagehide",i),this.listeners.push(()=>window.removeEventListener("beforeunload",i))}}submitViewportMetrics({height:e,width:t,availHeight:n,availWidth:i}){this.recordMetric([{name:Rt.ViewportHeight,value:e,category:We.Device,group:window.location.href},{name:Rt.ViewportWidth,value:t,category:We.Device,group:window.location.href},{name:Rt.ScreenHeight,value:n,category:We.Device,group:window.location.href},{name:Rt.ScreenWidth,value:i,category:We.Device,group:window.location.href},{name:Rt.ViewportArea,value:e*t,category:We.Device,group:window.location.href}])}recordMetric(e){this._worker.postMessage({message:{type:De.Metrics,metrics:e.map(t=>se(I({},t),{tags:t.tags||[],group:t.group||window.location.href,category:t.category||We.Frontend,timestamp:new Date}))}})}stopRecording(e){this.manualStopped=!!e,this.manualStopped&&this.addCustomEvent("Stop","H.stop() was called which stops Highlight from recording."),this.state="NotRecording",e&&this._recordStop&&(this._recordStop(),this._recordStop=void 0),this.listeners.forEach(t=>t()),this.listeners=[]}getCurrentSessionTimestamp(){return this._recordingStartTime}getCurrentSessionURLWithTimestamp(){const e=new Date().getTime(),{projectID:t,sessionSecureID:n}=this.sessionData,i=(e-this._recordingStartTime)/1e3;return`https://${_s}/${t}/sessions/${n}?ts=${i}`}getCurrentSessionURL(){const e=this.sessionData.projectID,t=this.sessionData.sessionSecureID;return e&&t?`https://${_s}/${e}/sessions/${t}`:null}snapshot(e){return $(this,null,function*(){yield pt.snapshotCanvas(e)})}addSessionFeedback({timestamp:e,verbatim:t,user_email:n,user_name:i}){var s;this._worker.postMessage({message:{type:De.Feedback,verbatim:t,timestamp:e,userName:i||this.sessionData.userIdentifier,userEmail:n||((s=this.sessionData.userObject)==null?void 0:s.name)}})}_save(){return $(this,null,function*(){var e;try{this.state==="Recording"&&this.listeners&&this.sessionData.sessionStartTime&&Date.now()-this.sessionData.sessionStartTime>Lt&&(this.logger.log("Resetting session",{start:this.sessionData.sessionStartTime}),yield this._reset({}));let t;((e=this.options)==null?void 0:e.sendMode)==="local"&&(t=n=>$(this,null,function*(){let i=new Blob([JSON.stringify({query:Lu(hf),variables:n})],{type:"application/json"});return yield window.fetch(`${this._backendUrl}`,{method:"POST",body:i}),0})),yield this._sendPayload({sendFn:t}),this.hasPushedData=!0,this.sessionData.lastPushTime=Date.now(),or(this.sessionData)}catch(t){this._isOnLocalHost&&(console.error(t),_r("_save",t))}this.state==="Recording"&&(this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this.pushPayloadTimerId=setTimeout(()=>{this._save()},ot))})}addCustomEvent(e,t){if(this.state==="NotRecording"){let n;const i=()=>{clearInterval(n),this.state==="Recording"&&this.events.length>0?lf(e,t):n=setTimeout(i,500)};n=setTimeout(i,500)}else this.state==="Recording"&&(this.events.length>0||this.hasPushedData)&&lf(e,t)}_sendPayload(t){return $(this,arguments,function*({sendFn:e}){const n=qe.getRecordedNetworkResources(this._firstLoadListeners,this._recordingStartTime),i=qe.getRecordedWebSocketEvents(this._firstLoadListeners),s=[...this.events],o=[...this._firstLoadListeners.messages],l=[...this._firstLoadListeners.errors],{bytes:a,time:c}=this.enableCanvasRecording?Jt.canvas:Jt.normal;this._eventBytesSinceSnapshot>=a&&new Date().getTime()-this._lastSnapshotTime>=c&&this.takeFullSnapshot(),this.logger.log(`Sending: ${s.length} events, ${o.length} messages, ${n.length} network resources, ${l.length} errors 
To: ${this._backendUrl}
Org: ${this.organizationID}
SessionSecureID: ${this.sessionData.sessionSecureID}`);const u=cL();e?yield e({session_secure_id:this.sessionData.sessionSecureID,payload_id:this.sessionData.payloadID.toString(),events:{events:s},messages:Gt({messages:o}),resources:JSON.stringify({resources:n}),web_socket_events:JSON.stringify({webSocketEvents:i}),errors:l,is_beacon:!1,has_session_unloaded:this.hasSessionUnloaded}):this._worker.postMessage({message:{type:De.AsyncEvents,id:this.sessionData.payloadID++,events:s,messages:o,errors:l,resourcesString:JSON.stringify({resources:n}),webSocketEventsString:JSON.stringify({webSocketEvents:i}),hasSessionUnloaded:this.hasSessionUnloaded,highlightLogs:u}}),or(this.sessionData),qe.clearRecordedNetworkResources(this._firstLoadListeners),this.events=this.events.slice(s.length),this._firstLoadListeners.messages=this._firstLoadListeners.messages.slice(o.length),this._firstLoadListeners.errors=this._firstLoadListeners.errors.slice(l.length),uL(u)})}takeFullSnapshot(){if(!this._recordStop){this.logger.log("skipping full snapshot as rrweb is not running");return}this.logger.log("taking full snapshot",{bytesSinceSnapshot:this._eventBytesSinceSnapshot,lastSnapshotTime:this._lastSnapshotTime}),pt.takeFullSnapshot(),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=new Date().getTime()}}const mL=Object.freeze(Object.defineProperty({__proto__:null,FirstLoadListeners:qe,GenerateSecureID:Kr,Highlight:Pl,HighlightWarning:_r,get MetricCategory(){return We},getPreviousSessionData:sr,getTracer:RT,setupBrowserTracing:bT},Symbol.toStringTag,{value:"Module"}));W.H=ue,W.HighlightSegmentMiddleware=VT,W.__testing=XT,W.configureElectronHighlight=NT,Object.defineProperty(W,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.cjs.map
